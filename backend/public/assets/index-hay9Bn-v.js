var x0=Object.defineProperty;var Ou=e=>{throw TypeError(e)};var y0=(e,t,r)=>t in e?x0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Au=(e,t,r)=>y0(e,typeof t!="symbol"?t+"":t,r),ho=(e,t,r)=>t.has(e)||Ou("Cannot "+r);var w=(e,t,r)=>(ho(e,t,"read from private field"),r?r.call(e):t.get(e)),H=(e,t,r)=>t.has(e)?Ou("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),B=(e,t,r,n)=>(ho(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Y=(e,t,r)=>(ho(e,t,"access private method"),r);var ji=(e,t,r,n)=>({set _(i){B(e,t,i,r)},get _(){return w(e,t,n)}});function v0(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function b0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kh={exports:{}},za={},Yh={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ui=Symbol.for("react.element"),w0=Symbol.for("react.portal"),j0=Symbol.for("react.fragment"),N0=Symbol.for("react.strict_mode"),_0=Symbol.for("react.profiler"),k0=Symbol.for("react.provider"),S0=Symbol.for("react.context"),C0=Symbol.for("react.forward_ref"),E0=Symbol.for("react.suspense"),P0=Symbol.for("react.memo"),R0=Symbol.for("react.lazy"),Mu=Symbol.iterator;function T0(e){return e===null||typeof e!="object"?null:(e=Mu&&e[Mu]||e["@@iterator"],typeof e=="function"?e:null)}var Gh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jh=Object.assign,Xh={};function ns(e,t,r){this.props=e,this.context=t,this.refs=Xh,this.updater=r||Gh}ns.prototype.isReactComponent={};ns.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ns.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zh(){}Zh.prototype=ns.prototype;function bc(e,t,r){this.props=e,this.context=t,this.refs=Xh,this.updater=r||Gh}var wc=bc.prototype=new Zh;wc.constructor=bc;Jh(wc,ns.prototype);wc.isPureReactComponent=!0;var Fu=Array.isArray,ef=Object.prototype.hasOwnProperty,jc={current:null},tf={key:!0,ref:!0,__self:!0,__source:!0};function rf(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)ef.call(t,n)&&!tf.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:ui,type:e,key:a,ref:o,props:i,_owner:jc.current}}function L0(e,t){return{$$typeof:ui,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Nc(e){return typeof e=="object"&&e!==null&&e.$$typeof===ui}function O0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Du=/\/+/g;function fo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?O0(""+e.key):t.toString(36)}function qi(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ui:case w0:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+fo(o,0):n,Fu(i)?(r="",e!=null&&(r=e.replace(Du,"$&/")+"/"),qi(i,t,r,"",function(u){return u})):i!=null&&(Nc(i)&&(i=L0(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Du,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",Fu(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+fo(a,l);o+=qi(a,t,r,c,i)}else if(c=T0(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+fo(a,l++),o+=qi(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ni(e,t,r){if(e==null)return e;var n=[],i=0;return qi(e,n,"","",function(a){return t.call(r,a,i++)}),n}function A0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ie={current:null},Vi={transition:null},M0={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:Vi,ReactCurrentOwner:jc};function nf(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Ni,forEach:function(e,t,r){Ni(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ni(e,function(){t++}),t},toArray:function(e){return Ni(e,function(t){return t})||[]},only:function(e){if(!Nc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=ns;G.Fragment=j0;G.Profiler=_0;G.PureComponent=bc;G.StrictMode=N0;G.Suspense=E0;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M0;G.act=nf;G.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Jh({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=jc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ef.call(t,c)&&!tf.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ui,type:e.type,key:i,ref:a,props:n,_owner:o}};G.createContext=function(e){return e={$$typeof:S0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:k0,_context:e},e.Consumer=e};G.createElement=rf;G.createFactory=function(e){var t=rf.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:C0,render:e}};G.isValidElement=Nc;G.lazy=function(e){return{$$typeof:R0,_payload:{_status:-1,_result:e},_init:A0}};G.memo=function(e,t){return{$$typeof:P0,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=Vi.transition;Vi.transition={};try{e()}finally{Vi.transition=t}};G.unstable_act=nf;G.useCallback=function(e,t){return Ie.current.useCallback(e,t)};G.useContext=function(e){return Ie.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Ie.current.useDeferredValue(e)};G.useEffect=function(e,t){return Ie.current.useEffect(e,t)};G.useId=function(){return Ie.current.useId()};G.useImperativeHandle=function(e,t,r){return Ie.current.useImperativeHandle(e,t,r)};G.useInsertionEffect=function(e,t){return Ie.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return Ie.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return Ie.current.useMemo(e,t)};G.useReducer=function(e,t,r){return Ie.current.useReducer(e,t,r)};G.useRef=function(e){return Ie.current.useRef(e)};G.useState=function(e){return Ie.current.useState(e)};G.useSyncExternalStore=function(e,t,r){return Ie.current.useSyncExternalStore(e,t,r)};G.useTransition=function(){return Ie.current.useTransition()};G.version="18.3.1";Yh.exports=G;var k=Yh.exports;const Ur=b0(k),F0=v0({__proto__:null,default:Ur},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0=k,B0=Symbol.for("react.element"),I0=Symbol.for("react.fragment"),U0=Object.prototype.hasOwnProperty,z0=D0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$0={key:!0,ref:!0,__self:!0,__source:!0};function sf(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)U0.call(t,n)&&!$0.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:B0,type:e,key:a,ref:o,props:i,_owner:z0.current}}za.Fragment=I0;za.jsx=sf;za.jsxs=sf;Kh.exports=za;var s=Kh.exports,af={exports:{}},tt={},of={exports:{}},lf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,q){var W=M.length;M.push(q);e:for(;0<W;){var te=W-1>>>1,ie=M[te];if(0<i(ie,q))M[te]=q,M[W]=ie,W=te;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var q=M[0],W=M.pop();if(W!==q){M[0]=W;e:for(var te=0,ie=M.length,er=ie>>>1;te<er;){var nt=2*(te+1)-1,pn=M[nt],Fr=nt+1,wi=M[Fr];if(0>i(pn,W))Fr<ie&&0>i(wi,pn)?(M[te]=wi,M[Fr]=W,te=Fr):(M[te]=pn,M[nt]=W,te=nt);else if(Fr<ie&&0>i(wi,W))M[te]=wi,M[Fr]=W,te=Fr;else break e}}return q}function i(M,q){var W=M.sortIndex-q.sortIndex;return W!==0?W:M.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,v=!1,p=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(M){for(var q=r(u);q!==null;){if(q.callback===null)n(u);else if(q.startTime<=M)n(u),q.sortIndex=q.expirationTime,t(c,q);else break;q=r(u)}}function j(M){if(y=!1,x(M),!p)if(r(c)!==null)p=!0,T(N);else{var q=r(u);q!==null&&K(j,q.startTime-M)}}function N(M,q){p=!1,y&&(y=!1,g(A),A=-1),v=!0;var W=f;try{for(x(q),h=r(c);h!==null&&(!(h.expirationTime>q)||M&&!D());){var te=h.callback;if(typeof te=="function"){h.callback=null,f=h.priorityLevel;var ie=te(h.expirationTime<=q);q=e.unstable_now(),typeof ie=="function"?h.callback=ie:h===r(c)&&n(c),x(q)}else n(c);h=r(c)}if(h!==null)var er=!0;else{var nt=r(u);nt!==null&&K(j,nt.startTime-q),er=!1}return er}finally{h=null,f=W,v=!1}}var C=!1,L=null,A=-1,E=5,S=-1;function D(){return!(e.unstable_now()-S<E)}function O(){if(L!==null){var M=e.unstable_now();S=M;var q=!0;try{q=L(!0,M)}finally{q?$():(C=!1,L=null)}}else C=!1}var $;if(typeof m=="function")$=function(){m(O)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,R=_.port2;_.port1.onmessage=O,$=function(){R.postMessage(null)}}else $=function(){b(O,0)};function T(M){L=M,C||(C=!0,$())}function K(M,q){A=b(function(){M(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){p||v||(p=!0,T(N))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var W=f;f=q;try{return M()}finally{f=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=f;f=M;try{return q()}finally{f=W}},e.unstable_scheduleCallback=function(M,q,W){var te=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?te+W:te):W=te,M){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=W+ie,M={id:d++,callback:q,priorityLevel:M,startTime:W,expirationTime:ie,sortIndex:-1},W>te?(M.sortIndex=W,t(u,M),r(c)===null&&M===r(u)&&(y?(g(A),A=-1):y=!0,K(j,W-te))):(M.sortIndex=ie,t(c,M),p||v||(p=!0,T(N))),M},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(M){var q=f;return function(){var W=f;f=q;try{return M.apply(this,arguments)}finally{f=W}}}})(lf);of.exports=lf;var H0=of.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0=k,et=H0;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cf=new Set,Is={};function fn(e,t){Yn(e,t),Yn(e+"Capture",t)}function Yn(e,t){for(Is[e]=t,e=0;e<t.length;e++)cf.add(t[e])}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jo=Object.prototype.hasOwnProperty,V0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bu={},Iu={};function W0(e){return Jo.call(Iu,e)?!0:Jo.call(Bu,e)?!1:V0.test(e)?Iu[e]=!0:(Bu[e]=!0,!1)}function Q0(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function K0(e,t,r,n){if(t===null||typeof t>"u"||Q0(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ue(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ce[e]=new Ue(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ce[t]=new Ue(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ce[e]=new Ue(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ce[e]=new Ue(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ce[e]=new Ue(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ce[e]=new Ue(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ce[e]=new Ue(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ce[e]=new Ue(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ce[e]=new Ue(e,5,!1,e.toLowerCase(),null,!1,!1)});var _c=/[\-:]([a-z])/g;function kc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_c,kc);Ce[t]=new Ue(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_c,kc);Ce[t]=new Ue(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_c,kc);Ce[t]=new Ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ce[e]=new Ue(e,1,!1,e.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ce[e]=new Ue(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sc(e,t,r,n){var i=Ce.hasOwnProperty(t)?Ce[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(K0(t,r,i,n)&&(r=null),n||i===null?W0(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Xt=q0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_i=Symbol.for("react.element"),yn=Symbol.for("react.portal"),vn=Symbol.for("react.fragment"),Cc=Symbol.for("react.strict_mode"),Xo=Symbol.for("react.profiler"),uf=Symbol.for("react.provider"),df=Symbol.for("react.context"),Ec=Symbol.for("react.forward_ref"),Zo=Symbol.for("react.suspense"),el=Symbol.for("react.suspense_list"),Pc=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),hf=Symbol.for("react.offscreen"),Uu=Symbol.iterator;function ms(e){return e===null||typeof e!="object"?null:(e=Uu&&e[Uu]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,mo;function _s(e){if(mo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);mo=t&&t[1]||""}return`
`+mo+e}var po=!1;function go(e,t){if(!e||po)return"";po=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{po=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?_s(e):""}function Y0(e){switch(e.tag){case 5:return _s(e.type);case 16:return _s("Lazy");case 13:return _s("Suspense");case 19:return _s("SuspenseList");case 0:case 2:case 15:return e=go(e.type,!1),e;case 11:return e=go(e.type.render,!1),e;case 1:return e=go(e.type,!0),e;default:return""}}function tl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vn:return"Fragment";case yn:return"Portal";case Xo:return"Profiler";case Cc:return"StrictMode";case Zo:return"Suspense";case el:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case df:return(e.displayName||"Context")+".Consumer";case uf:return(e._context.displayName||"Context")+".Provider";case Ec:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pc:return t=e.displayName||null,t!==null?t:tl(e.type)||"Memo";case nr:t=e._payload,e=e._init;try{return tl(e(t))}catch{}}return null}function G0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tl(t);case 8:return t===Cc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ff(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function J0(e){var t=ff(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ki(e){e._valueTracker||(e._valueTracker=J0(e))}function mf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ff(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function da(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rl(e,t){var r=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function zu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Rr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pf(e,t){t=t.checked,t!=null&&Sc(e,"checked",t,!1)}function nl(e,t){pf(e,t);var r=Rr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sl(e,t.type,r):t.hasOwnProperty("defaultValue")&&sl(e,t.type,Rr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $u(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function sl(e,t,r){(t!=="number"||da(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ks=Array.isArray;function Tn(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Rr(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function il(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(F(92));if(ks(r)){if(1<r.length)throw Error(F(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Rr(r)}}function gf(e,t){var r=Rr(t.value),n=Rr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function qu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function al(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Si,yf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Si=Si||document.createElement("div"),Si.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Si.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Us(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Rs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},X0=["Webkit","ms","Moz","O"];Object.keys(Rs).forEach(function(e){X0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rs[t]=Rs[e]})});function vf(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Rs.hasOwnProperty(e)&&Rs[e]?(""+t).trim():t+"px"}function bf(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=vf(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Z0=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ol(e,t){if(t){if(Z0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function ll(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cl=null;function Rc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ul=null,Ln=null,On=null;function Vu(e){if(e=fi(e)){if(typeof ul!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Wa(t),ul(e.stateNode,e.type,t))}}function wf(e){Ln?On?On.push(e):On=[e]:Ln=e}function jf(){if(Ln){var e=Ln,t=On;if(On=Ln=null,Vu(e),t)for(e=0;e<t.length;e++)Vu(t[e])}}function Nf(e,t){return e(t)}function _f(){}var xo=!1;function kf(e,t,r){if(xo)return e(t,r);xo=!0;try{return Nf(e,t,r)}finally{xo=!1,(Ln!==null||On!==null)&&(_f(),jf())}}function zs(e,t){var r=e.stateNode;if(r===null)return null;var n=Wa(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(F(231,t,typeof r));return r}var dl=!1;if(Kt)try{var ps={};Object.defineProperty(ps,"passive",{get:function(){dl=!0}}),window.addEventListener("test",ps,ps),window.removeEventListener("test",ps,ps)}catch{dl=!1}function eg(e,t,r,n,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Ts=!1,ha=null,fa=!1,hl=null,tg={onError:function(e){Ts=!0,ha=e}};function rg(e,t,r,n,i,a,o,l,c){Ts=!1,ha=null,eg.apply(tg,arguments)}function ng(e,t,r,n,i,a,o,l,c){if(rg.apply(this,arguments),Ts){if(Ts){var u=ha;Ts=!1,ha=null}else throw Error(F(198));fa||(fa=!0,hl=u)}}function mn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Sf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wu(e){if(mn(e)!==e)throw Error(F(188))}function sg(e){var t=e.alternate;if(!t){if(t=mn(e),t===null)throw Error(F(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Wu(i),e;if(a===n)return Wu(i),t;a=a.sibling}throw Error(F(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(F(189))}}if(r.alternate!==n)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?e:t}function Cf(e){return e=sg(e),e!==null?Ef(e):null}function Ef(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ef(e);if(t!==null)return t;e=e.sibling}return null}var Pf=et.unstable_scheduleCallback,Qu=et.unstable_cancelCallback,ig=et.unstable_shouldYield,ag=et.unstable_requestPaint,me=et.unstable_now,og=et.unstable_getCurrentPriorityLevel,Tc=et.unstable_ImmediatePriority,Rf=et.unstable_UserBlockingPriority,ma=et.unstable_NormalPriority,lg=et.unstable_LowPriority,Tf=et.unstable_IdlePriority,$a=null,Tt=null;function cg(e){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot($a,e,void 0,(e.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:hg,ug=Math.log,dg=Math.LN2;function hg(e){return e>>>=0,e===0?32:31-(ug(e)/dg|0)|0}var Ci=64,Ei=4194304;function Ss(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pa(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=Ss(l):(a&=o,a!==0&&(n=Ss(a)))}else o=r&~i,o!==0?n=Ss(o):a!==0&&(n=Ss(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-bt(t),i=1<<r,n|=e[r],t&=~i;return n}function fg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mg(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-bt(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=fg(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function fl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lf(){var e=Ci;return Ci<<=1,!(Ci&4194240)&&(Ci=64),e}function yo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function di(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bt(t),e[t]=r}function pg(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-bt(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Lc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-bt(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ne=0;function Of(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Af,Oc,Mf,Ff,Df,ml=!1,Pi=[],vr=null,br=null,wr=null,$s=new Map,Hs=new Map,ir=[],gg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ku(e,t){switch(e){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":$s.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hs.delete(t.pointerId)}}function gs(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=fi(t),t!==null&&Oc(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function xg(e,t,r,n,i){switch(t){case"focusin":return vr=gs(vr,e,t,r,n,i),!0;case"dragenter":return br=gs(br,e,t,r,n,i),!0;case"mouseover":return wr=gs(wr,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return $s.set(a,gs($s.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Hs.set(a,gs(Hs.get(a)||null,e,t,r,n,i)),!0}return!1}function Bf(e){var t=zr(e.target);if(t!==null){var r=mn(t);if(r!==null){if(t=r.tag,t===13){if(t=Sf(r),t!==null){e.blockedOn=t,Df(e.priority,function(){Mf(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=pl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);cl=n,r.target.dispatchEvent(n),cl=null}else return t=fi(r),t!==null&&Oc(t),e.blockedOn=r,!1;t.shift()}return!0}function Yu(e,t,r){Wi(e)&&r.delete(t)}function yg(){ml=!1,vr!==null&&Wi(vr)&&(vr=null),br!==null&&Wi(br)&&(br=null),wr!==null&&Wi(wr)&&(wr=null),$s.forEach(Yu),Hs.forEach(Yu)}function xs(e,t){e.blockedOn===t&&(e.blockedOn=null,ml||(ml=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,yg)))}function qs(e){function t(i){return xs(i,e)}if(0<Pi.length){xs(Pi[0],e);for(var r=1;r<Pi.length;r++){var n=Pi[r];n.blockedOn===e&&(n.blockedOn=null)}}for(vr!==null&&xs(vr,e),br!==null&&xs(br,e),wr!==null&&xs(wr,e),$s.forEach(t),Hs.forEach(t),r=0;r<ir.length;r++)n=ir[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ir.length&&(r=ir[0],r.blockedOn===null);)Bf(r),r.blockedOn===null&&ir.shift()}var An=Xt.ReactCurrentBatchConfig,ga=!0;function vg(e,t,r,n){var i=ne,a=An.transition;An.transition=null;try{ne=1,Ac(e,t,r,n)}finally{ne=i,An.transition=a}}function bg(e,t,r,n){var i=ne,a=An.transition;An.transition=null;try{ne=4,Ac(e,t,r,n)}finally{ne=i,An.transition=a}}function Ac(e,t,r,n){if(ga){var i=pl(e,t,r,n);if(i===null)Eo(e,t,n,xa,r),Ku(e,n);else if(xg(i,e,t,r,n))n.stopPropagation();else if(Ku(e,n),t&4&&-1<gg.indexOf(e)){for(;i!==null;){var a=fi(i);if(a!==null&&Af(a),a=pl(e,t,r,n),a===null&&Eo(e,t,n,xa,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Eo(e,t,n,null,r)}}var xa=null;function pl(e,t,r,n){if(xa=null,e=Rc(n),e=zr(e),e!==null)if(t=mn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Sf(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xa=e,null}function If(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(og()){case Tc:return 1;case Rf:return 4;case ma:case lg:return 16;case Tf:return 536870912;default:return 16}default:return 16}}var gr=null,Mc=null,Qi=null;function Uf(){if(Qi)return Qi;var e,t=Mc,r=t.length,n,i="value"in gr?gr.value:gr.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return Qi=i.slice(e,1<n?1-n:void 0)}function Ki(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ri(){return!0}function Gu(){return!1}function rt(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ri:Gu,this.isPropagationStopped=Gu,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),t}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fc=rt(ss),hi=de({},ss,{view:0,detail:0}),wg=rt(hi),vo,bo,ys,Ha=de({},hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ys&&(ys&&e.type==="mousemove"?(vo=e.screenX-ys.screenX,bo=e.screenY-ys.screenY):bo=vo=0,ys=e),vo)},movementY:function(e){return"movementY"in e?e.movementY:bo}}),Ju=rt(Ha),jg=de({},Ha,{dataTransfer:0}),Ng=rt(jg),_g=de({},hi,{relatedTarget:0}),wo=rt(_g),kg=de({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),Sg=rt(kg),Cg=de({},ss,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Eg=rt(Cg),Pg=de({},ss,{data:0}),Xu=rt(Pg),Rg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Og(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lg[e])?!!t[e]:!1}function Dc(){return Og}var Ag=de({},hi,{key:function(e){if(e.key){var t=Rg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ki(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dc,charCode:function(e){return e.type==="keypress"?Ki(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ki(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mg=rt(Ag),Fg=de({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zu=rt(Fg),Dg=de({},hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dc}),Bg=rt(Dg),Ig=de({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ug=rt(Ig),zg=de({},Ha,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$g=rt(zg),Hg=[9,13,27,32],Bc=Kt&&"CompositionEvent"in window,Ls=null;Kt&&"documentMode"in document&&(Ls=document.documentMode);var qg=Kt&&"TextEvent"in window&&!Ls,zf=Kt&&(!Bc||Ls&&8<Ls&&11>=Ls),ed=" ",td=!1;function $f(e,t){switch(e){case"keyup":return Hg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bn=!1;function Vg(e,t){switch(e){case"compositionend":return Hf(t);case"keypress":return t.which!==32?null:(td=!0,ed);case"textInput":return e=t.data,e===ed&&td?null:e;default:return null}}function Wg(e,t){if(bn)return e==="compositionend"||!Bc&&$f(e,t)?(e=Uf(),Qi=Mc=gr=null,bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zf&&t.locale!=="ko"?null:t.data;default:return null}}var Qg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qg[e.type]:t==="textarea"}function qf(e,t,r,n){wf(n),t=ya(t,"onChange"),0<t.length&&(r=new Fc("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Os=null,Vs=null;function Kg(e){tm(e,0)}function qa(e){var t=Nn(e);if(mf(t))return e}function Yg(e,t){if(e==="change")return t}var Vf=!1;if(Kt){var jo;if(Kt){var No="oninput"in document;if(!No){var nd=document.createElement("div");nd.setAttribute("oninput","return;"),No=typeof nd.oninput=="function"}jo=No}else jo=!1;Vf=jo&&(!document.documentMode||9<document.documentMode)}function sd(){Os&&(Os.detachEvent("onpropertychange",Wf),Vs=Os=null)}function Wf(e){if(e.propertyName==="value"&&qa(Vs)){var t=[];qf(t,Vs,e,Rc(e)),kf(Kg,t)}}function Gg(e,t,r){e==="focusin"?(sd(),Os=t,Vs=r,Os.attachEvent("onpropertychange",Wf)):e==="focusout"&&sd()}function Jg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qa(Vs)}function Xg(e,t){if(e==="click")return qa(t)}function Zg(e,t){if(e==="input"||e==="change")return qa(t)}function ex(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:ex;function Ws(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Jo.call(t,i)||!jt(e[i],t[i]))return!1}return!0}function id(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ad(e,t){var r=id(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=id(r)}}function Qf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kf(){for(var e=window,t=da();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=da(e.document)}return t}function Ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tx(e){var t=Kf(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Qf(r.ownerDocument.documentElement,r)){if(n!==null&&Ic(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=ad(r,a);var o=ad(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rx=Kt&&"documentMode"in document&&11>=document.documentMode,wn=null,gl=null,As=null,xl=!1;function od(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xl||wn==null||wn!==da(n)||(n=wn,"selectionStart"in n&&Ic(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),As&&Ws(As,n)||(As=n,n=ya(gl,"onSelect"),0<n.length&&(t=new Fc("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=wn)))}function Ti(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var jn={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionend:Ti("Transition","TransitionEnd")},_o={},Yf={};Kt&&(Yf=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);function Va(e){if(_o[e])return _o[e];if(!jn[e])return e;var t=jn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Yf)return _o[e]=t[r];return e}var Gf=Va("animationend"),Jf=Va("animationiteration"),Xf=Va("animationstart"),Zf=Va("transitionend"),em=new Map,ld="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){em.set(e,t),fn(t,[e])}for(var ko=0;ko<ld.length;ko++){var So=ld[ko],nx=So.toLowerCase(),sx=So[0].toUpperCase()+So.slice(1);Lr(nx,"on"+sx)}Lr(Gf,"onAnimationEnd");Lr(Jf,"onAnimationIteration");Lr(Xf,"onAnimationStart");Lr("dblclick","onDoubleClick");Lr("focusin","onFocus");Lr("focusout","onBlur");Lr(Zf,"onTransitionEnd");Yn("onMouseEnter",["mouseout","mouseover"]);Yn("onMouseLeave",["mouseout","mouseover"]);Yn("onPointerEnter",["pointerout","pointerover"]);Yn("onPointerLeave",["pointerout","pointerover"]);fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fn("onBeforeInput",["compositionend","keypress","textInput","paste"]);fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ix=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cs));function cd(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ng(n,t,void 0,e),e.currentTarget=null}function tm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;cd(i,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;cd(i,l,u),a=c}}}if(fa)throw e=hl,fa=!1,hl=null,e}function ae(e,t){var r=t[jl];r===void 0&&(r=t[jl]=new Set);var n=e+"__bubble";r.has(n)||(rm(t,e,2,!1),r.add(n))}function Co(e,t,r){var n=0;t&&(n|=4),rm(r,e,n,t)}var Li="_reactListening"+Math.random().toString(36).slice(2);function Qs(e){if(!e[Li]){e[Li]=!0,cf.forEach(function(r){r!=="selectionchange"&&(ix.has(r)||Co(r,!1,e),Co(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Li]||(t[Li]=!0,Co("selectionchange",!1,t))}}function rm(e,t,r,n){switch(If(t)){case 1:var i=vg;break;case 4:i=bg;break;default:i=Ac}r=i.bind(null,t,r,e),i=void 0,!dl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Eo(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=zr(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}kf(function(){var u=a,d=Rc(r),h=[];e:{var f=em.get(e);if(f!==void 0){var v=Fc,p=e;switch(e){case"keypress":if(Ki(r)===0)break e;case"keydown":case"keyup":v=Mg;break;case"focusin":p="focus",v=wo;break;case"focusout":p="blur",v=wo;break;case"beforeblur":case"afterblur":v=wo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Ng;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Bg;break;case Gf:case Jf:case Xf:v=Sg;break;case Zf:v=Ug;break;case"scroll":v=wg;break;case"wheel":v=$g;break;case"copy":case"cut":case"paste":v=Eg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Zu}var y=(t&4)!==0,b=!y&&e==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var m=u,x;m!==null;){x=m;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,g!==null&&(j=zs(m,g),j!=null&&y.push(Ks(m,j,x)))),b)break;m=m.return}0<y.length&&(f=new v(f,p,null,r,d),h.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",f&&r!==cl&&(p=r.relatedTarget||r.fromElement)&&(zr(p)||p[Yt]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(p=r.relatedTarget||r.toElement,v=u,p=p?zr(p):null,p!==null&&(b=mn(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(v=null,p=u),v!==p)){if(y=Ju,j="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=Zu,j="onPointerLeave",g="onPointerEnter",m="pointer"),b=v==null?f:Nn(v),x=p==null?f:Nn(p),f=new y(j,m+"leave",v,r,d),f.target=b,f.relatedTarget=x,j=null,zr(d)===u&&(y=new y(g,m+"enter",p,r,d),y.target=x,y.relatedTarget=b,j=y),b=j,v&&p)t:{for(y=v,g=p,m=0,x=y;x;x=gn(x))m++;for(x=0,j=g;j;j=gn(j))x++;for(;0<m-x;)y=gn(y),m--;for(;0<x-m;)g=gn(g),x--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=gn(y),g=gn(g)}y=null}else y=null;v!==null&&ud(h,f,v,y,!1),p!==null&&b!==null&&ud(h,b,p,y,!0)}}e:{if(f=u?Nn(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var N=Yg;else if(rd(f))if(Vf)N=Zg;else{N=Jg;var C=Gg}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=Xg);if(N&&(N=N(e,u))){qf(h,N,r,d);break e}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&sl(f,"number",f.value)}switch(C=u?Nn(u):window,e){case"focusin":(rd(C)||C.contentEditable==="true")&&(wn=C,gl=u,As=null);break;case"focusout":As=gl=wn=null;break;case"mousedown":xl=!0;break;case"contextmenu":case"mouseup":case"dragend":xl=!1,od(h,r,d);break;case"selectionchange":if(rx)break;case"keydown":case"keyup":od(h,r,d)}var L;if(Bc)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else bn?$f(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(zf&&r.locale!=="ko"&&(bn||A!=="onCompositionStart"?A==="onCompositionEnd"&&bn&&(L=Uf()):(gr=d,Mc="value"in gr?gr.value:gr.textContent,bn=!0)),C=ya(u,A),0<C.length&&(A=new Xu(A,e,null,r,d),h.push({event:A,listeners:C}),L?A.data=L:(L=Hf(r),L!==null&&(A.data=L)))),(L=qg?Vg(e,r):Wg(e,r))&&(u=ya(u,"onBeforeInput"),0<u.length&&(d=new Xu("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=L))}tm(h,t)})}function Ks(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ya(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=zs(e,r),a!=null&&n.unshift(Ks(e,a,i)),a=zs(e,t),a!=null&&n.push(Ks(e,a,i))),e=e.return}return n}function gn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ud(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=zs(r,a),c!=null&&o.unshift(Ks(r,c,l))):i||(c=zs(r,a),c!=null&&o.push(Ks(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var ax=/\r\n?/g,ox=/\u0000|\uFFFD/g;function dd(e){return(typeof e=="string"?e:""+e).replace(ax,`
`).replace(ox,"")}function Oi(e,t,r){if(t=dd(t),dd(e)!==t&&r)throw Error(F(425))}function va(){}var yl=null,vl=null;function bl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wl=typeof setTimeout=="function"?setTimeout:void 0,lx=typeof clearTimeout=="function"?clearTimeout:void 0,hd=typeof Promise=="function"?Promise:void 0,cx=typeof queueMicrotask=="function"?queueMicrotask:typeof hd<"u"?function(e){return hd.resolve(null).then(e).catch(ux)}:wl;function ux(e){setTimeout(function(){throw e})}function Po(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),qs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);qs(t)}function jr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var is=Math.random().toString(36).slice(2),Rt="__reactFiber$"+is,Ys="__reactProps$"+is,Yt="__reactContainer$"+is,jl="__reactEvents$"+is,dx="__reactListeners$"+is,hx="__reactHandles$"+is;function zr(e){var t=e[Rt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Yt]||r[Rt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=fd(e);e!==null;){if(r=e[Rt])return r;e=fd(e)}return t}e=r,r=e.parentNode}return null}function fi(e){return e=e[Rt]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Wa(e){return e[Ys]||null}var Nl=[],_n=-1;function Or(e){return{current:e}}function oe(e){0>_n||(e.current=Nl[_n],Nl[_n]=null,_n--)}function se(e,t){_n++,Nl[_n]=e.current,e.current=t}var Tr={},Le=Or(Tr),Ve=Or(!1),sn=Tr;function Gn(e,t){var r=e.type.contextTypes;if(!r)return Tr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function We(e){return e=e.childContextTypes,e!=null}function ba(){oe(Ve),oe(Le)}function md(e,t,r){if(Le.current!==Tr)throw Error(F(168));se(Le,t),se(Ve,r)}function nm(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(F(108,G0(e)||"Unknown",i));return de({},r,n)}function wa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tr,sn=Le.current,se(Le,e),se(Ve,Ve.current),!0}function pd(e,t,r){var n=e.stateNode;if(!n)throw Error(F(169));r?(e=nm(e,t,sn),n.__reactInternalMemoizedMergedChildContext=e,oe(Ve),oe(Le),se(Le,e)):oe(Ve),se(Ve,r)}var It=null,Qa=!1,Ro=!1;function sm(e){It===null?It=[e]:It.push(e)}function fx(e){Qa=!0,sm(e)}function Ar(){if(!Ro&&It!==null){Ro=!0;var e=0,t=ne;try{var r=It;for(ne=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}It=null,Qa=!1}catch(i){throw It!==null&&(It=It.slice(e+1)),Pf(Tc,Ar),i}finally{ne=t,Ro=!1}}return null}var kn=[],Sn=0,ja=null,Na=0,at=[],ot=0,an=null,qt=1,Vt="";function Br(e,t){kn[Sn++]=Na,kn[Sn++]=ja,ja=e,Na=t}function im(e,t,r){at[ot++]=qt,at[ot++]=Vt,at[ot++]=an,an=e;var n=qt;e=Vt;var i=32-bt(n)-1;n&=~(1<<i),r+=1;var a=32-bt(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,qt=1<<32-bt(t)+i|r<<i|n,Vt=a+e}else qt=1<<a|r<<i|n,Vt=e}function Uc(e){e.return!==null&&(Br(e,1),im(e,1,0))}function zc(e){for(;e===ja;)ja=kn[--Sn],kn[Sn]=null,Na=kn[--Sn],kn[Sn]=null;for(;e===an;)an=at[--ot],at[ot]=null,Vt=at[--ot],at[ot]=null,qt=at[--ot],at[ot]=null}var Ze=null,Xe=null,le=!1,vt=null;function am(e,t){var r=ct(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function gd(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ze=e,Xe=jr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ze=e,Xe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=an!==null?{id:qt,overflow:Vt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ct(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ze=e,Xe=null,!0):!1;default:return!1}}function _l(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kl(e){if(le){var t=Xe;if(t){var r=t;if(!gd(e,t)){if(_l(e))throw Error(F(418));t=jr(r.nextSibling);var n=Ze;t&&gd(e,t)?am(n,r):(e.flags=e.flags&-4097|2,le=!1,Ze=e)}}else{if(_l(e))throw Error(F(418));e.flags=e.flags&-4097|2,le=!1,Ze=e}}}function xd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ze=e}function Ai(e){if(e!==Ze)return!1;if(!le)return xd(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bl(e.type,e.memoizedProps)),t&&(t=Xe)){if(_l(e))throw om(),Error(F(418));for(;t;)am(e,t),t=jr(t.nextSibling)}if(xd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xe=jr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xe=null}}else Xe=Ze?jr(e.stateNode.nextSibling):null;return!0}function om(){for(var e=Xe;e;)e=jr(e.nextSibling)}function Jn(){Xe=Ze=null,le=!1}function $c(e){vt===null?vt=[e]:vt.push(e)}var mx=Xt.ReactCurrentBatchConfig;function vs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(F(309));var n=r.stateNode}if(!n)throw Error(F(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(F(284));if(!r._owner)throw Error(F(290,e))}return e}function Mi(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yd(e){var t=e._init;return t(e._payload)}function lm(e){function t(g,m){if(e){var x=g.deletions;x===null?(g.deletions=[m],g.flags|=16):x.push(m)}}function r(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=Sr(g,m),g.index=0,g.sibling=null,g}function a(g,m,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<m?(g.flags|=2,m):x):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,m,x,j){return m===null||m.tag!==6?(m=Do(x,g.mode,j),m.return=g,m):(m=i(m,x),m.return=g,m)}function c(g,m,x,j){var N=x.type;return N===vn?d(g,m,x.props.children,j,x.key):m!==null&&(m.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===nr&&yd(N)===m.type)?(j=i(m,x.props),j.ref=vs(g,m,x),j.return=g,j):(j=ta(x.type,x.key,x.props,null,g.mode,j),j.ref=vs(g,m,x),j.return=g,j)}function u(g,m,x,j){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=Bo(x,g.mode,j),m.return=g,m):(m=i(m,x.children||[]),m.return=g,m)}function d(g,m,x,j,N){return m===null||m.tag!==7?(m=rn(x,g.mode,j,N),m.return=g,m):(m=i(m,x),m.return=g,m)}function h(g,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Do(""+m,g.mode,x),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case _i:return x=ta(m.type,m.key,m.props,null,g.mode,x),x.ref=vs(g,null,m),x.return=g,x;case yn:return m=Bo(m,g.mode,x),m.return=g,m;case nr:var j=m._init;return h(g,j(m._payload),x)}if(ks(m)||ms(m))return m=rn(m,g.mode,x,null),m.return=g,m;Mi(g,m)}return null}function f(g,m,x,j){var N=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:l(g,m,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case _i:return x.key===N?c(g,m,x,j):null;case yn:return x.key===N?u(g,m,x,j):null;case nr:return N=x._init,f(g,m,N(x._payload),j)}if(ks(x)||ms(x))return N!==null?null:d(g,m,x,j,null);Mi(g,x)}return null}function v(g,m,x,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(x)||null,l(m,g,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case _i:return g=g.get(j.key===null?x:j.key)||null,c(m,g,j,N);case yn:return g=g.get(j.key===null?x:j.key)||null,u(m,g,j,N);case nr:var C=j._init;return v(g,m,x,C(j._payload),N)}if(ks(j)||ms(j))return g=g.get(x)||null,d(m,g,j,N,null);Mi(m,j)}return null}function p(g,m,x,j){for(var N=null,C=null,L=m,A=m=0,E=null;L!==null&&A<x.length;A++){L.index>A?(E=L,L=null):E=L.sibling;var S=f(g,L,x[A],j);if(S===null){L===null&&(L=E);break}e&&L&&S.alternate===null&&t(g,L),m=a(S,m,A),C===null?N=S:C.sibling=S,C=S,L=E}if(A===x.length)return r(g,L),le&&Br(g,A),N;if(L===null){for(;A<x.length;A++)L=h(g,x[A],j),L!==null&&(m=a(L,m,A),C===null?N=L:C.sibling=L,C=L);return le&&Br(g,A),N}for(L=n(g,L);A<x.length;A++)E=v(L,g,A,x[A],j),E!==null&&(e&&E.alternate!==null&&L.delete(E.key===null?A:E.key),m=a(E,m,A),C===null?N=E:C.sibling=E,C=E);return e&&L.forEach(function(D){return t(g,D)}),le&&Br(g,A),N}function y(g,m,x,j){var N=ms(x);if(typeof N!="function")throw Error(F(150));if(x=N.call(x),x==null)throw Error(F(151));for(var C=N=null,L=m,A=m=0,E=null,S=x.next();L!==null&&!S.done;A++,S=x.next()){L.index>A?(E=L,L=null):E=L.sibling;var D=f(g,L,S.value,j);if(D===null){L===null&&(L=E);break}e&&L&&D.alternate===null&&t(g,L),m=a(D,m,A),C===null?N=D:C.sibling=D,C=D,L=E}if(S.done)return r(g,L),le&&Br(g,A),N;if(L===null){for(;!S.done;A++,S=x.next())S=h(g,S.value,j),S!==null&&(m=a(S,m,A),C===null?N=S:C.sibling=S,C=S);return le&&Br(g,A),N}for(L=n(g,L);!S.done;A++,S=x.next())S=v(L,g,A,S.value,j),S!==null&&(e&&S.alternate!==null&&L.delete(S.key===null?A:S.key),m=a(S,m,A),C===null?N=S:C.sibling=S,C=S);return e&&L.forEach(function(O){return t(g,O)}),le&&Br(g,A),N}function b(g,m,x,j){if(typeof x=="object"&&x!==null&&x.type===vn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case _i:e:{for(var N=x.key,C=m;C!==null;){if(C.key===N){if(N=x.type,N===vn){if(C.tag===7){r(g,C.sibling),m=i(C,x.props.children),m.return=g,g=m;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===nr&&yd(N)===C.type){r(g,C.sibling),m=i(C,x.props),m.ref=vs(g,C,x),m.return=g,g=m;break e}r(g,C);break}else t(g,C);C=C.sibling}x.type===vn?(m=rn(x.props.children,g.mode,j,x.key),m.return=g,g=m):(j=ta(x.type,x.key,x.props,null,g.mode,j),j.ref=vs(g,m,x),j.return=g,g=j)}return o(g);case yn:e:{for(C=x.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){r(g,m.sibling),m=i(m,x.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else t(g,m);m=m.sibling}m=Bo(x,g.mode,j),m.return=g,g=m}return o(g);case nr:return C=x._init,b(g,m,C(x._payload),j)}if(ks(x))return p(g,m,x,j);if(ms(x))return y(g,m,x,j);Mi(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(r(g,m.sibling),m=i(m,x),m.return=g,g=m):(r(g,m),m=Do(x,g.mode,j),m.return=g,g=m),o(g)):r(g,m)}return b}var Xn=lm(!0),cm=lm(!1),_a=Or(null),ka=null,Cn=null,Hc=null;function qc(){Hc=Cn=ka=null}function Vc(e){var t=_a.current;oe(_a),e._currentValue=t}function Sl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Mn(e,t){ka=e,Hc=Cn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qe=!0),e.firstContext=null)}function dt(e){var t=e._currentValue;if(Hc!==e)if(e={context:e,memoizedValue:t,next:null},Cn===null){if(ka===null)throw Error(F(308));Cn=e,ka.dependencies={lanes:0,firstContext:e}}else Cn=Cn.next=e;return t}var $r=null;function Wc(e){$r===null?$r=[e]:$r.push(e)}function um(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Wc(t)):(r.next=i.next,i.next=r),t.interleaved=r,Gt(e,n)}function Gt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var sr=!1;function Qc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Nr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Z&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Gt(e,r)}return i=n.interleaved,i===null?(t.next=t,Wc(n)):(t.next=i.next,i.next=t),n.interleaved=t,Gt(e,r)}function Yi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Lc(e,r)}}function vd(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Sa(e,t,r,n){var i=e.updateQueue;sr=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,v=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,y=l;switch(f=t,v=r,y.tag){case 1:if(p=y.payload,typeof p=="function"){h=p.call(v,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(v,h,f):p,f==null)break e;h=de({},h,f);break e;case 2:sr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else v={eventTime:v,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=h):d=d.next=v,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);ln|=o,e.lanes=o,e.memoizedState=h}}function bd(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(F(191,i));i.call(n)}}}var mi={},Lt=Or(mi),Gs=Or(mi),Js=Or(mi);function Hr(e){if(e===mi)throw Error(F(174));return e}function Kc(e,t){switch(se(Js,t),se(Gs,e),se(Lt,mi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:al(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=al(t,e)}oe(Lt),se(Lt,t)}function Zn(){oe(Lt),oe(Gs),oe(Js)}function hm(e){Hr(Js.current);var t=Hr(Lt.current),r=al(t,e.type);t!==r&&(se(Gs,e),se(Lt,r))}function Yc(e){Gs.current===e&&(oe(Lt),oe(Gs))}var ce=Or(0);function Ca(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var To=[];function Gc(){for(var e=0;e<To.length;e++)To[e]._workInProgressVersionPrimary=null;To.length=0}var Gi=Xt.ReactCurrentDispatcher,Lo=Xt.ReactCurrentBatchConfig,on=0,ue=null,ve=null,Ne=null,Ea=!1,Ms=!1,Xs=0,px=0;function Ee(){throw Error(F(321))}function Jc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!jt(e[r],t[r]))return!1;return!0}function Xc(e,t,r,n,i,a){if(on=a,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gi.current=e===null||e.memoizedState===null?vx:bx,e=r(n,i),Ms){a=0;do{if(Ms=!1,Xs=0,25<=a)throw Error(F(301));a+=1,Ne=ve=null,t.updateQueue=null,Gi.current=wx,e=r(n,i)}while(Ms)}if(Gi.current=Pa,t=ve!==null&&ve.next!==null,on=0,Ne=ve=ue=null,Ea=!1,t)throw Error(F(300));return e}function Zc(){var e=Xs!==0;return Xs=0,e}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?ue.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function ht(){if(ve===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=Ne===null?ue.memoizedState:Ne.next;if(t!==null)Ne=t,ve=e;else{if(e===null)throw Error(F(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Ne===null?ue.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function Zs(e,t){return typeof t=="function"?t(e):t}function Oo(e){var t=ht(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=ve,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((on&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,ue.lanes|=d,ln|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,jt(n,t.memoizedState)||(qe=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,ue.lanes|=a,ln|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ao(e){var t=ht(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);jt(a,t.memoizedState)||(qe=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function fm(){}function mm(e,t){var r=ue,n=ht(),i=t(),a=!jt(n.memoizedState,i);if(a&&(n.memoizedState=i,qe=!0),n=n.queue,eu(xm.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Ne!==null&&Ne.memoizedState.tag&1){if(r.flags|=2048,ei(9,gm.bind(null,r,n,i,t),void 0,null),_e===null)throw Error(F(349));on&30||pm(r,t,i)}return i}function pm(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function gm(e,t,r,n){t.value=r,t.getSnapshot=n,ym(t)&&vm(e)}function xm(e,t,r){return r(function(){ym(t)&&vm(e)})}function ym(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!jt(e,r)}catch{return!0}}function vm(e){var t=Gt(e,1);t!==null&&wt(t,e,1,-1)}function wd(e){var t=St();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:e},t.queue=e,e=e.dispatch=yx.bind(null,ue,e),[t.memoizedState,e]}function ei(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function bm(){return ht().memoizedState}function Ji(e,t,r,n){var i=St();ue.flags|=e,i.memoizedState=ei(1|t,r,void 0,n===void 0?null:n)}function Ka(e,t,r,n){var i=ht();n=n===void 0?null:n;var a=void 0;if(ve!==null){var o=ve.memoizedState;if(a=o.destroy,n!==null&&Jc(n,o.deps)){i.memoizedState=ei(t,r,a,n);return}}ue.flags|=e,i.memoizedState=ei(1|t,r,a,n)}function jd(e,t){return Ji(8390656,8,e,t)}function eu(e,t){return Ka(2048,8,e,t)}function wm(e,t){return Ka(4,2,e,t)}function jm(e,t){return Ka(4,4,e,t)}function Nm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _m(e,t,r){return r=r!=null?r.concat([e]):null,Ka(4,4,Nm.bind(null,t,e),r)}function tu(){}function km(e,t){var r=ht();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Jc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Sm(e,t){var r=ht();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Jc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Cm(e,t,r){return on&21?(jt(r,t)||(r=Lf(),ue.lanes|=r,ln|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qe=!0),e.memoizedState=r)}function gx(e,t){var r=ne;ne=r!==0&&4>r?r:4,e(!0);var n=Lo.transition;Lo.transition={};try{e(!1),t()}finally{ne=r,Lo.transition=n}}function Em(){return ht().memoizedState}function xx(e,t,r){var n=kr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Pm(e))Rm(t,r);else if(r=um(e,t,r,n),r!==null){var i=Be();wt(r,e,n,i),Tm(r,t,n)}}function yx(e,t,r){var n=kr(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Pm(e))Rm(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,jt(l,o)){var c=t.interleaved;c===null?(i.next=i,Wc(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=um(e,t,i,n),r!==null&&(i=Be(),wt(r,e,n,i),Tm(r,t,n))}}function Pm(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function Rm(e,t){Ms=Ea=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Tm(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Lc(e,r)}}var Pa={readContext:dt,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},vx={readContext:dt,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:jd,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ji(4194308,4,Nm.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ji(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ji(4,2,e,t)},useMemo:function(e,t){var r=St();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=St();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=xx.bind(null,ue,e),[n.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:wd,useDebugValue:tu,useDeferredValue:function(e){return St().memoizedState=e},useTransition:function(){var e=wd(!1),t=e[0];return e=gx.bind(null,e[1]),St().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ue,i=St();if(le){if(r===void 0)throw Error(F(407));r=r()}else{if(r=t(),_e===null)throw Error(F(349));on&30||pm(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,jd(xm.bind(null,n,a,e),[e]),n.flags|=2048,ei(9,gm.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=St(),t=_e.identifierPrefix;if(le){var r=Vt,n=qt;r=(n&~(1<<32-bt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=px++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bx={readContext:dt,useCallback:km,useContext:dt,useEffect:eu,useImperativeHandle:_m,useInsertionEffect:wm,useLayoutEffect:jm,useMemo:Sm,useReducer:Oo,useRef:bm,useState:function(){return Oo(Zs)},useDebugValue:tu,useDeferredValue:function(e){var t=ht();return Cm(t,ve.memoizedState,e)},useTransition:function(){var e=Oo(Zs)[0],t=ht().memoizedState;return[e,t]},useMutableSource:fm,useSyncExternalStore:mm,useId:Em,unstable_isNewReconciler:!1},wx={readContext:dt,useCallback:km,useContext:dt,useEffect:eu,useImperativeHandle:_m,useInsertionEffect:wm,useLayoutEffect:jm,useMemo:Sm,useReducer:Ao,useRef:bm,useState:function(){return Ao(Zs)},useDebugValue:tu,useDeferredValue:function(e){var t=ht();return ve===null?t.memoizedState=e:Cm(t,ve.memoizedState,e)},useTransition:function(){var e=Ao(Zs)[0],t=ht().memoizedState;return[e,t]},useMutableSource:fm,useSyncExternalStore:mm,useId:Em,unstable_isNewReconciler:!1};function mt(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Cl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:de({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ya={isMounted:function(e){return(e=e._reactInternals)?mn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Be(),i=kr(e),a=Wt(n,i);a.payload=t,r!=null&&(a.callback=r),t=Nr(e,a,i),t!==null&&(wt(t,e,i,n),Yi(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Be(),i=kr(e),a=Wt(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Nr(e,a,i),t!==null&&(wt(t,e,i,n),Yi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Be(),n=kr(e),i=Wt(r,n);i.tag=2,t!=null&&(i.callback=t),t=Nr(e,i,n),t!==null&&(wt(t,e,n,r),Yi(t,e,n))}};function Nd(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Ws(r,n)||!Ws(i,a):!0}function Lm(e,t,r){var n=!1,i=Tr,a=t.contextType;return typeof a=="object"&&a!==null?a=dt(a):(i=We(t)?sn:Le.current,n=t.contextTypes,a=(n=n!=null)?Gn(e,i):Tr),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ya,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function _d(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ya.enqueueReplaceState(t,t.state,null)}function El(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Qc(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=dt(a):(a=We(t)?sn:Le.current,i.context=Gn(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Cl(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ya.enqueueReplaceState(i,i.state,null),Sa(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function es(e,t){try{var r="",n=t;do r+=Y0(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Mo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Pl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var jx=typeof WeakMap=="function"?WeakMap:Map;function Om(e,t,r){r=Wt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ta||(Ta=!0,Il=n),Pl(e,t)},r}function Am(e,t,r){r=Wt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Pl(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Pl(e,t),typeof n!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function kd(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new jx;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Fx.bind(null,e,t,r),t.then(e,e))}function Sd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cd(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Wt(-1,1),t.tag=2,Nr(r,t,1))),r.lanes|=1),e)}var Nx=Xt.ReactCurrentOwner,qe=!1;function Fe(e,t,r,n){t.child=e===null?cm(t,null,r,n):Xn(t,e.child,r,n)}function Ed(e,t,r,n,i){r=r.render;var a=t.ref;return Mn(t,i),n=Xc(e,t,r,n,a,i),r=Zc(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Jt(e,t,i)):(le&&r&&Uc(t),t.flags|=1,Fe(e,t,n,i),t.child)}function Pd(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!cu(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Mm(e,t,a,n,i)):(e=ta(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Ws,r(o,n)&&e.ref===t.ref)return Jt(e,t,i)}return t.flags|=1,e=Sr(a,n),e.ref=t.ref,e.return=t,t.child=e}function Mm(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Ws(a,n)&&e.ref===t.ref)if(qe=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(qe=!0);else return t.lanes=e.lanes,Jt(e,t,i)}return Rl(e,t,r,n,i)}function Fm(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(Pn,Ge),Ge|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(Pn,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,se(Pn,Ge),Ge|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,se(Pn,Ge),Ge|=n;return Fe(e,t,i,r),t.child}function Dm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Rl(e,t,r,n,i){var a=We(r)?sn:Le.current;return a=Gn(t,a),Mn(t,i),r=Xc(e,t,r,n,a,i),n=Zc(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Jt(e,t,i)):(le&&n&&Uc(t),t.flags|=1,Fe(e,t,r,i),t.child)}function Rd(e,t,r,n,i){if(We(r)){var a=!0;wa(t)}else a=!1;if(Mn(t,i),t.stateNode===null)Xi(e,t),Lm(t,r,n),El(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=dt(u):(u=We(r)?sn:Le.current,u=Gn(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&_d(t,o,n,u),sr=!1;var f=t.memoizedState;o.state=f,Sa(t,n,o,i),c=t.memoizedState,l!==n||f!==c||Ve.current||sr?(typeof d=="function"&&(Cl(t,r,d,n),c=t.memoizedState),(l=sr||Nd(t,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,dm(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:mt(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=dt(c):(c=We(r)?sn:Le.current,c=Gn(t,c));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&_d(t,o,n,c),sr=!1,f=t.memoizedState,o.state=f,Sa(t,n,o,i);var p=t.memoizedState;l!==h||f!==p||Ve.current||sr?(typeof v=="function"&&(Cl(t,r,v,n),p=t.memoizedState),(u=sr||Nd(t,r,u,n,f,p,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Tl(e,t,r,n,a,i)}function Tl(e,t,r,n,i,a){Dm(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&pd(t,r,!1),Jt(e,t,a);n=t.stateNode,Nx.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Xn(t,e.child,null,a),t.child=Xn(t,null,l,a)):Fe(e,t,l,a),t.memoizedState=n.state,i&&pd(t,r,!0),t.child}function Bm(e){var t=e.stateNode;t.pendingContext?md(e,t.pendingContext,t.pendingContext!==t.context):t.context&&md(e,t.context,!1),Kc(e,t.containerInfo)}function Td(e,t,r,n,i){return Jn(),$c(i),t.flags|=256,Fe(e,t,r,n),t.child}var Ll={dehydrated:null,treeContext:null,retryLane:0};function Ol(e){return{baseLanes:e,cachePool:null,transitions:null}}function Im(e,t,r){var n=t.pendingProps,i=ce.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),se(ce,i&1),e===null)return kl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Xa(o,n,0,null),e=rn(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ol(r),t.memoizedState=Ll,e):ru(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return _x(e,t,o,n,l,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Sr(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Sr(l,a):(a=rn(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Ol(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Ll,n}return a=e.child,e=a.sibling,n=Sr(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ru(e,t){return t=Xa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fi(e,t,r,n){return n!==null&&$c(n),Xn(t,e.child,null,r),e=ru(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _x(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Mo(Error(F(422))),Fi(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Xa({mode:"visible",children:n.children},i,0,null),a=rn(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Xn(t,e.child,null,o),t.child.memoizedState=Ol(o),t.memoizedState=Ll,a);if(!(t.mode&1))return Fi(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(F(419)),n=Mo(a,n,void 0),Fi(e,t,o,n)}if(l=(o&e.childLanes)!==0,qe||l){if(n=_e,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Gt(e,i),wt(n,e,i,-1))}return lu(),n=Mo(Error(F(421))),Fi(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Dx.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Xe=jr(i.nextSibling),Ze=t,le=!0,vt=null,e!==null&&(at[ot++]=qt,at[ot++]=Vt,at[ot++]=an,qt=e.id,Vt=e.overflow,an=t),t=ru(t,n.children),t.flags|=4096,t)}function Ld(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Sl(e.return,t,r)}function Fo(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Um(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Fe(e,t,n.children,r),n=ce.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ld(e,r,t);else if(e.tag===19)Ld(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(se(ce,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Ca(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Fo(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ca(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Fo(t,!0,r,null,a);break;case"together":Fo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ln|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,r=Sr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Sr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function kx(e,t,r){switch(t.tag){case 3:Bm(t),Jn();break;case 5:hm(t);break;case 1:We(t.type)&&wa(t);break;case 4:Kc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;se(_a,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(se(ce,ce.current&1),t.flags|=128,null):r&t.child.childLanes?Im(e,t,r):(se(ce,ce.current&1),e=Jt(e,t,r),e!==null?e.sibling:null);se(ce,ce.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Um(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),se(ce,ce.current),n)break;return null;case 22:case 23:return t.lanes=0,Fm(e,t,r)}return Jt(e,t,r)}var zm,Al,$m,Hm;zm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Al=function(){};$m=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Hr(Lt.current);var a=null;switch(r){case"input":i=rl(e,i),n=rl(e,n),a=[];break;case"select":i=de({},i,{value:void 0}),n=de({},n,{value:void 0}),a=[];break;case"textarea":i=il(e,i),n=il(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=va)}ol(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Is.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Is.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ae("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Hm=function(e,t,r,n){r!==n&&(t.flags|=4)};function bs(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Sx(e,t,r){var n=t.pendingProps;switch(zc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return We(t.type)&&ba(),Pe(t),null;case 3:return n=t.stateNode,Zn(),oe(Ve),oe(Le),Gc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ai(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vt!==null&&($l(vt),vt=null))),Al(e,t),Pe(t),null;case 5:Yc(t);var i=Hr(Js.current);if(r=t.type,e!==null&&t.stateNode!=null)$m(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(F(166));return Pe(t),null}if(e=Hr(Lt.current),Ai(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Rt]=t,n[Ys]=a,e=(t.mode&1)!==0,r){case"dialog":ae("cancel",n),ae("close",n);break;case"iframe":case"object":case"embed":ae("load",n);break;case"video":case"audio":for(i=0;i<Cs.length;i++)ae(Cs[i],n);break;case"source":ae("error",n);break;case"img":case"image":case"link":ae("error",n),ae("load",n);break;case"details":ae("toggle",n);break;case"input":zu(n,a),ae("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ae("invalid",n);break;case"textarea":Hu(n,a),ae("invalid",n)}ol(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Oi(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Oi(n.textContent,l,e),i=["children",""+l]):Is.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ae("scroll",n)}switch(r){case"input":ki(n),$u(n,a,!0);break;case"textarea":ki(n),qu(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=va)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xf(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Rt]=t,e[Ys]=n,zm(e,t,!1,!1),t.stateNode=e;e:{switch(o=ll(r,n),r){case"dialog":ae("cancel",e),ae("close",e),i=n;break;case"iframe":case"object":case"embed":ae("load",e),i=n;break;case"video":case"audio":for(i=0;i<Cs.length;i++)ae(Cs[i],e);i=n;break;case"source":ae("error",e),i=n;break;case"img":case"image":case"link":ae("error",e),ae("load",e),i=n;break;case"details":ae("toggle",e),i=n;break;case"input":zu(e,n),i=rl(e,n),ae("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=de({},n,{value:void 0}),ae("invalid",e);break;case"textarea":Hu(e,n),i=il(e,n),ae("invalid",e);break;default:i=n}ol(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?bf(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&yf(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Us(e,c):typeof c=="number"&&Us(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Is.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ae("scroll",e):c!=null&&Sc(e,a,c,o))}switch(r){case"input":ki(e),$u(e,n,!1);break;case"textarea":ki(e),qu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Rr(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Tn(e,!!n.multiple,a,!1):n.defaultValue!=null&&Tn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=va)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pe(t),null;case 6:if(e&&t.stateNode!=null)Hm(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(F(166));if(r=Hr(Js.current),Hr(Lt.current),Ai(t)){if(n=t.stateNode,r=t.memoizedProps,n[Rt]=t,(a=n.nodeValue!==r)&&(e=Ze,e!==null))switch(e.tag){case 3:Oi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Oi(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Rt]=t,t.stateNode=n}return Pe(t),null;case 13:if(oe(ce),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&Xe!==null&&t.mode&1&&!(t.flags&128))om(),Jn(),t.flags|=98560,a=!1;else if(a=Ai(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(F(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(F(317));a[Rt]=t}else Jn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pe(t),a=!1}else vt!==null&&($l(vt),vt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ce.current&1?we===0&&(we=3):lu())),t.updateQueue!==null&&(t.flags|=4),Pe(t),null);case 4:return Zn(),Al(e,t),e===null&&Qs(t.stateNode.containerInfo),Pe(t),null;case 10:return Vc(t.type._context),Pe(t),null;case 17:return We(t.type)&&ba(),Pe(t),null;case 19:if(oe(ce),a=t.memoizedState,a===null)return Pe(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)bs(a,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ca(e),o!==null){for(t.flags|=128,bs(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return se(ce,ce.current&1|2),t.child}e=e.sibling}a.tail!==null&&me()>ts&&(t.flags|=128,n=!0,bs(a,!1),t.lanes=4194304)}else{if(!n)if(e=Ca(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),bs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!le)return Pe(t),null}else 2*me()-a.renderingStartTime>ts&&r!==1073741824&&(t.flags|=128,n=!0,bs(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=me(),t.sibling=null,r=ce.current,se(ce,n?r&1|2:r&1),t):(Pe(t),null);case 22:case 23:return ou(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ge&1073741824&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function Cx(e,t){switch(zc(t),t.tag){case 1:return We(t.type)&&ba(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zn(),oe(Ve),oe(Le),Gc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yc(t),null;case 13:if(oe(ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(ce),null;case 4:return Zn(),null;case 10:return Vc(t.type._context),null;case 22:case 23:return ou(),null;case 24:return null;default:return null}}var Di=!1,Re=!1,Ex=typeof WeakSet=="function"?WeakSet:Set,I=null;function En(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fe(e,t,n)}else r.current=null}function Ml(e,t,r){try{r()}catch(n){fe(e,t,n)}}var Od=!1;function Px(e,t){if(yl=ga,e=Kf(),Ic(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var v;h!==r||i!==0&&h.nodeType!==3||(l=o+i),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===e)break t;if(f===r&&++u===i&&(l=o),f===a&&++d===n&&(c=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(vl={focusedElem:e,selectionRange:r},ga=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,b=p.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:mt(t.type,y),b);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(j){fe(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return p=Od,Od=!1,p}function Fs(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Ml(t,r,a)}i=i.next}while(i!==n)}}function Ga(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Fl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function qm(e){var t=e.alternate;t!==null&&(e.alternate=null,qm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[Ys],delete t[jl],delete t[dx],delete t[hx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vm(e){return e.tag===5||e.tag===3||e.tag===4}function Ad(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=va));else if(n!==4&&(e=e.child,e!==null))for(Dl(e,t,r),e=e.sibling;e!==null;)Dl(e,t,r),e=e.sibling}function Bl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Bl(e,t,r),e=e.sibling;e!==null;)Bl(e,t,r),e=e.sibling}var ke=null,xt=!1;function tr(e,t,r){for(r=r.child;r!==null;)Wm(e,t,r),r=r.sibling}function Wm(e,t,r){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount($a,r)}catch{}switch(r.tag){case 5:Re||En(r,t);case 6:var n=ke,i=xt;ke=null,tr(e,t,r),ke=n,xt=i,ke!==null&&(xt?(e=ke,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ke.removeChild(r.stateNode));break;case 18:ke!==null&&(xt?(e=ke,r=r.stateNode,e.nodeType===8?Po(e.parentNode,r):e.nodeType===1&&Po(e,r),qs(e)):Po(ke,r.stateNode));break;case 4:n=ke,i=xt,ke=r.stateNode.containerInfo,xt=!0,tr(e,t,r),ke=n,xt=i;break;case 0:case 11:case 14:case 15:if(!Re&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Ml(r,t,o),i=i.next}while(i!==n)}tr(e,t,r);break;case 1:if(!Re&&(En(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){fe(r,t,l)}tr(e,t,r);break;case 21:tr(e,t,r);break;case 22:r.mode&1?(Re=(n=Re)||r.memoizedState!==null,tr(e,t,r),Re=n):tr(e,t,r);break;default:tr(e,t,r)}}function Md(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Ex),t.forEach(function(n){var i=Bx.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ft(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ke=l.stateNode,xt=!1;break e;case 3:ke=l.stateNode.containerInfo,xt=!0;break e;case 4:ke=l.stateNode.containerInfo,xt=!0;break e}l=l.return}if(ke===null)throw Error(F(160));Wm(a,o,i),ke=null,xt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){fe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Qm(t,e),t=t.sibling}function Qm(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ft(t,e),_t(e),n&4){try{Fs(3,e,e.return),Ga(3,e)}catch(y){fe(e,e.return,y)}try{Fs(5,e,e.return)}catch(y){fe(e,e.return,y)}}break;case 1:ft(t,e),_t(e),n&512&&r!==null&&En(r,r.return);break;case 5:if(ft(t,e),_t(e),n&512&&r!==null&&En(r,r.return),e.flags&32){var i=e.stateNode;try{Us(i,"")}catch(y){fe(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&pf(i,a),ll(l,o);var u=ll(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?bf(i,h):d==="dangerouslySetInnerHTML"?yf(i,h):d==="children"?Us(i,h):Sc(i,d,h,u)}switch(l){case"input":nl(i,a);break;case"textarea":gf(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?Tn(i,!!a.multiple,v,!1):f!==!!a.multiple&&(a.defaultValue!=null?Tn(i,!!a.multiple,a.defaultValue,!0):Tn(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ys]=a}catch(y){fe(e,e.return,y)}}break;case 6:if(ft(t,e),_t(e),n&4){if(e.stateNode===null)throw Error(F(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){fe(e,e.return,y)}}break;case 3:if(ft(t,e),_t(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{qs(t.containerInfo)}catch(y){fe(e,e.return,y)}break;case 4:ft(t,e),_t(e);break;case 13:ft(t,e),_t(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(iu=me())),n&4&&Md(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Re=(u=Re)||d,ft(t,e),Re=u):ft(t,e),_t(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(I=e,d=e.child;d!==null;){for(h=I=d;I!==null;){switch(f=I,v=f.child,f.tag){case 0:case 11:case 14:case 15:Fs(4,f,f.return);break;case 1:En(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){fe(n,r,y)}}break;case 5:En(f,f.return);break;case 22:if(f.memoizedState!==null){Dd(h);continue}}v!==null?(v.return=f,I=v):Dd(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=vf("display",o))}catch(y){fe(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){fe(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ft(t,e),_t(e),n&4&&Md(e);break;case 21:break;default:ft(t,e),_t(e)}}function _t(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Vm(r)){var n=r;break e}r=r.return}throw Error(F(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Us(i,""),n.flags&=-33);var a=Ad(e);Bl(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Ad(e);Dl(e,l,o);break;default:throw Error(F(161))}}catch(c){fe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rx(e,t,r){I=e,Km(e)}function Km(e,t,r){for(var n=(e.mode&1)!==0;I!==null;){var i=I,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Di;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Re;l=Di;var u=Re;if(Di=o,(Re=c)&&!u)for(I=i;I!==null;)o=I,c=o.child,o.tag===22&&o.memoizedState!==null?Bd(i):c!==null?(c.return=o,I=c):Bd(i);for(;a!==null;)I=a,Km(a),a=a.sibling;I=i,Di=l,Re=u}Fd(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,I=a):Fd(e)}}function Fd(e){for(;I!==null;){var t=I;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Re||Ga(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Re)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:mt(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&bd(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}bd(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&qs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Re||t.flags&512&&Fl(t)}catch(f){fe(t,t.return,f)}}if(t===e){I=null;break}if(r=t.sibling,r!==null){r.return=t.return,I=r;break}I=t.return}}function Dd(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var r=t.sibling;if(r!==null){r.return=t.return,I=r;break}I=t.return}}function Bd(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ga(4,t)}catch(c){fe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){fe(t,i,c)}}var a=t.return;try{Fl(t)}catch(c){fe(t,a,c)}break;case 5:var o=t.return;try{Fl(t)}catch(c){fe(t,o,c)}}}catch(c){fe(t,t.return,c)}if(t===e){I=null;break}var l=t.sibling;if(l!==null){l.return=t.return,I=l;break}I=t.return}}var Tx=Math.ceil,Ra=Xt.ReactCurrentDispatcher,nu=Xt.ReactCurrentOwner,ut=Xt.ReactCurrentBatchConfig,Z=0,_e=null,xe=null,Se=0,Ge=0,Pn=Or(0),we=0,ti=null,ln=0,Ja=0,su=0,Ds=null,He=null,iu=0,ts=1/0,Bt=null,Ta=!1,Il=null,_r=null,Bi=!1,xr=null,La=0,Bs=0,Ul=null,Zi=-1,ea=0;function Be(){return Z&6?me():Zi!==-1?Zi:Zi=me()}function kr(e){return e.mode&1?Z&2&&Se!==0?Se&-Se:mx.transition!==null?(ea===0&&(ea=Lf()),ea):(e=ne,e!==0||(e=window.event,e=e===void 0?16:If(e.type)),e):1}function wt(e,t,r,n){if(50<Bs)throw Bs=0,Ul=null,Error(F(185));di(e,r,n),(!(Z&2)||e!==_e)&&(e===_e&&(!(Z&2)&&(Ja|=r),we===4&&ar(e,Se)),Qe(e,n),r===1&&Z===0&&!(t.mode&1)&&(ts=me()+500,Qa&&Ar()))}function Qe(e,t){var r=e.callbackNode;mg(e,t);var n=pa(e,e===_e?Se:0);if(n===0)r!==null&&Qu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Qu(r),t===1)e.tag===0?fx(Id.bind(null,e)):sm(Id.bind(null,e)),cx(function(){!(Z&6)&&Ar()}),r=null;else{switch(Of(n)){case 1:r=Tc;break;case 4:r=Rf;break;case 16:r=ma;break;case 536870912:r=Tf;break;default:r=ma}r=rp(r,Ym.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ym(e,t){if(Zi=-1,ea=0,Z&6)throw Error(F(327));var r=e.callbackNode;if(Fn()&&e.callbackNode!==r)return null;var n=pa(e,e===_e?Se:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Oa(e,n);else{t=n;var i=Z;Z|=2;var a=Jm();(_e!==e||Se!==t)&&(Bt=null,ts=me()+500,tn(e,t));do try{Ax();break}catch(l){Gm(e,l)}while(!0);qc(),Ra.current=a,Z=i,xe!==null?t=0:(_e=null,Se=0,t=we)}if(t!==0){if(t===2&&(i=fl(e),i!==0&&(n=i,t=zl(e,i))),t===1)throw r=ti,tn(e,0),ar(e,n),Qe(e,me()),r;if(t===6)ar(e,n);else{if(i=e.current.alternate,!(n&30)&&!Lx(i)&&(t=Oa(e,n),t===2&&(a=fl(e),a!==0&&(n=a,t=zl(e,a))),t===1))throw r=ti,tn(e,0),ar(e,n),Qe(e,me()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(F(345));case 2:Ir(e,He,Bt);break;case 3:if(ar(e,n),(n&130023424)===n&&(t=iu+500-me(),10<t)){if(pa(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Be(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=wl(Ir.bind(null,e,He,Bt),t);break}Ir(e,He,Bt);break;case 4:if(ar(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-bt(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=me()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Tx(n/1960))-n,10<n){e.timeoutHandle=wl(Ir.bind(null,e,He,Bt),n);break}Ir(e,He,Bt);break;case 5:Ir(e,He,Bt);break;default:throw Error(F(329))}}}return Qe(e,me()),e.callbackNode===r?Ym.bind(null,e):null}function zl(e,t){var r=Ds;return e.current.memoizedState.isDehydrated&&(tn(e,t).flags|=256),e=Oa(e,t),e!==2&&(t=He,He=r,t!==null&&$l(t)),e}function $l(e){He===null?He=e:He.push.apply(He,e)}function Lx(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!jt(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ar(e,t){for(t&=~su,t&=~Ja,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-bt(t),n=1<<r;e[r]=-1,t&=~n}}function Id(e){if(Z&6)throw Error(F(327));Fn();var t=pa(e,0);if(!(t&1))return Qe(e,me()),null;var r=Oa(e,t);if(e.tag!==0&&r===2){var n=fl(e);n!==0&&(t=n,r=zl(e,n))}if(r===1)throw r=ti,tn(e,0),ar(e,t),Qe(e,me()),r;if(r===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ir(e,He,Bt),Qe(e,me()),null}function au(e,t){var r=Z;Z|=1;try{return e(t)}finally{Z=r,Z===0&&(ts=me()+500,Qa&&Ar())}}function cn(e){xr!==null&&xr.tag===0&&!(Z&6)&&Fn();var t=Z;Z|=1;var r=ut.transition,n=ne;try{if(ut.transition=null,ne=1,e)return e()}finally{ne=n,ut.transition=r,Z=t,!(Z&6)&&Ar()}}function ou(){Ge=Pn.current,oe(Pn)}function tn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,lx(r)),xe!==null)for(r=xe.return;r!==null;){var n=r;switch(zc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ba();break;case 3:Zn(),oe(Ve),oe(Le),Gc();break;case 5:Yc(n);break;case 4:Zn();break;case 13:oe(ce);break;case 19:oe(ce);break;case 10:Vc(n.type._context);break;case 22:case 23:ou()}r=r.return}if(_e=e,xe=e=Sr(e.current,null),Se=Ge=t,we=0,ti=null,su=Ja=ln=0,He=Ds=null,$r!==null){for(t=0;t<$r.length;t++)if(r=$r[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}$r=null}return e}function Gm(e,t){do{var r=xe;try{if(qc(),Gi.current=Pa,Ea){for(var n=ue.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ea=!1}if(on=0,Ne=ve=ue=null,Ms=!1,Xs=0,nu.current=null,r===null||r.return===null){we=1,ti=t,xe=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=Se,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Sd(o);if(v!==null){v.flags&=-257,Cd(v,o,l,a,t),v.mode&1&&kd(a,u,t),t=v,c=u;var p=t.updateQueue;if(p===null){var y=new Set;y.add(c),t.updateQueue=y}else p.add(c);break e}else{if(!(t&1)){kd(a,u,t),lu();break e}c=Error(F(426))}}else if(le&&l.mode&1){var b=Sd(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Cd(b,o,l,a,t),$c(es(c,l));break e}}a=c=es(c,l),we!==4&&(we=2),Ds===null?Ds=[a]:Ds.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=Om(a,c,t);vd(a,g);break e;case 1:l=c;var m=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(_r===null||!_r.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=Am(a,l,t);vd(a,j);break e}}a=a.return}while(a!==null)}Zm(r)}catch(N){t=N,xe===r&&r!==null&&(xe=r=r.return);continue}break}while(!0)}function Jm(){var e=Ra.current;return Ra.current=Pa,e===null?Pa:e}function lu(){(we===0||we===3||we===2)&&(we=4),_e===null||!(ln&268435455)&&!(Ja&268435455)||ar(_e,Se)}function Oa(e,t){var r=Z;Z|=2;var n=Jm();(_e!==e||Se!==t)&&(Bt=null,tn(e,t));do try{Ox();break}catch(i){Gm(e,i)}while(!0);if(qc(),Z=r,Ra.current=n,xe!==null)throw Error(F(261));return _e=null,Se=0,we}function Ox(){for(;xe!==null;)Xm(xe)}function Ax(){for(;xe!==null&&!ig();)Xm(xe)}function Xm(e){var t=tp(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?Zm(e):xe=t,nu.current=null}function Zm(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Cx(r,t),r!==null){r.flags&=32767,xe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,xe=null;return}}else if(r=Sx(r,t,Ge),r!==null){xe=r;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);we===0&&(we=5)}function Ir(e,t,r){var n=ne,i=ut.transition;try{ut.transition=null,ne=1,Mx(e,t,r,n)}finally{ut.transition=i,ne=n}return null}function Mx(e,t,r,n){do Fn();while(xr!==null);if(Z&6)throw Error(F(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(pg(e,a),e===_e&&(xe=_e=null,Se=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Bi||(Bi=!0,rp(ma,function(){return Fn(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ut.transition,ut.transition=null;var o=ne;ne=1;var l=Z;Z|=4,nu.current=null,Px(e,r),Qm(r,e),tx(vl),ga=!!yl,vl=yl=null,e.current=r,Rx(r),ag(),Z=l,ne=o,ut.transition=a}else e.current=r;if(Bi&&(Bi=!1,xr=e,La=i),a=e.pendingLanes,a===0&&(_r=null),cg(r.stateNode),Qe(e,me()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ta)throw Ta=!1,e=Il,Il=null,e;return La&1&&e.tag!==0&&Fn(),a=e.pendingLanes,a&1?e===Ul?Bs++:(Bs=0,Ul=e):Bs=0,Ar(),null}function Fn(){if(xr!==null){var e=Of(La),t=ut.transition,r=ne;try{if(ut.transition=null,ne=16>e?16:e,xr===null)var n=!1;else{if(e=xr,xr=null,La=0,Z&6)throw Error(F(331));var i=Z;for(Z|=4,I=e.current;I!==null;){var a=I,o=a.child;if(I.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(I=u;I!==null;){var d=I;switch(d.tag){case 0:case 11:case 15:Fs(8,d,a)}var h=d.child;if(h!==null)h.return=d,I=h;else for(;I!==null;){d=I;var f=d.sibling,v=d.return;if(qm(d),d===u){I=null;break}if(f!==null){f.return=v,I=f;break}I=v}}}var p=a.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}I=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,I=o;else e:for(;I!==null;){if(a=I,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Fs(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,I=g;break e}I=a.return}}var m=e.current;for(I=m;I!==null;){o=I;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,I=x;else e:for(o=m;I!==null;){if(l=I,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ga(9,l)}}catch(N){fe(l,l.return,N)}if(l===o){I=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,I=j;break e}I=l.return}}if(Z=i,Ar(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot($a,e)}catch{}n=!0}return n}finally{ne=r,ut.transition=t}}return!1}function Ud(e,t,r){t=es(r,t),t=Om(e,t,1),e=Nr(e,t,1),t=Be(),e!==null&&(di(e,1,t),Qe(e,t))}function fe(e,t,r){if(e.tag===3)Ud(e,e,r);else for(;t!==null;){if(t.tag===3){Ud(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_r===null||!_r.has(n))){e=es(r,e),e=Am(t,e,1),t=Nr(t,e,1),e=Be(),t!==null&&(di(t,1,e),Qe(t,e));break}}t=t.return}}function Fx(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Be(),e.pingedLanes|=e.suspendedLanes&r,_e===e&&(Se&r)===r&&(we===4||we===3&&(Se&130023424)===Se&&500>me()-iu?tn(e,0):su|=r),Qe(e,t)}function ep(e,t){t===0&&(e.mode&1?(t=Ei,Ei<<=1,!(Ei&130023424)&&(Ei=4194304)):t=1);var r=Be();e=Gt(e,t),e!==null&&(di(e,t,r),Qe(e,r))}function Dx(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ep(e,r)}function Bx(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(F(314))}n!==null&&n.delete(t),ep(e,r)}var tp;tp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ve.current)qe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return qe=!1,kx(e,t,r);qe=!!(e.flags&131072)}else qe=!1,le&&t.flags&1048576&&im(t,Na,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Xi(e,t),e=t.pendingProps;var i=Gn(t,Le.current);Mn(t,r),i=Xc(null,t,n,e,i,r);var a=Zc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,We(n)?(a=!0,wa(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qc(t),i.updater=Ya,t.stateNode=i,i._reactInternals=t,El(t,n,e,r),t=Tl(null,t,n,!0,a,r)):(t.tag=0,le&&a&&Uc(t),Fe(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Xi(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Ux(n),e=mt(n,e),i){case 0:t=Rl(null,t,n,e,r);break e;case 1:t=Rd(null,t,n,e,r);break e;case 11:t=Ed(null,t,n,e,r);break e;case 14:t=Pd(null,t,n,mt(n.type,e),r);break e}throw Error(F(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:mt(n,i),Rl(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:mt(n,i),Rd(e,t,n,i,r);case 3:e:{if(Bm(t),e===null)throw Error(F(387));n=t.pendingProps,a=t.memoizedState,i=a.element,dm(e,t),Sa(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=es(Error(F(423)),t),t=Td(e,t,n,r,i);break e}else if(n!==i){i=es(Error(F(424)),t),t=Td(e,t,n,r,i);break e}else for(Xe=jr(t.stateNode.containerInfo.firstChild),Ze=t,le=!0,vt=null,r=cm(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jn(),n===i){t=Jt(e,t,r);break e}Fe(e,t,n,r)}t=t.child}return t;case 5:return hm(t),e===null&&kl(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,bl(n,i)?o=null:a!==null&&bl(n,a)&&(t.flags|=32),Dm(e,t),Fe(e,t,o,r),t.child;case 6:return e===null&&kl(t),null;case 13:return Im(e,t,r);case 4:return Kc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Xn(t,null,n,r):Fe(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:mt(n,i),Ed(e,t,n,i,r);case 7:return Fe(e,t,t.pendingProps,r),t.child;case 8:return Fe(e,t,t.pendingProps.children,r),t.child;case 12:return Fe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,se(_a,n._currentValue),n._currentValue=o,a!==null)if(jt(a.value,o)){if(a.children===i.children&&!Ve.current){t=Jt(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Wt(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Sl(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(F(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Sl(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Fe(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Mn(t,r),i=dt(i),n=n(i),t.flags|=1,Fe(e,t,n,r),t.child;case 14:return n=t.type,i=mt(n,t.pendingProps),i=mt(n.type,i),Pd(e,t,n,i,r);case 15:return Mm(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:mt(n,i),Xi(e,t),t.tag=1,We(n)?(e=!0,wa(t)):e=!1,Mn(t,r),Lm(t,n,i),El(t,n,i,r),Tl(null,t,n,!0,e,r);case 19:return Um(e,t,r);case 22:return Fm(e,t,r)}throw Error(F(156,t.tag))};function rp(e,t){return Pf(e,t)}function Ix(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,r,n){return new Ix(e,t,r,n)}function cu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ux(e){if(typeof e=="function")return cu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ec)return 11;if(e===Pc)return 14}return 2}function Sr(e,t){var r=e.alternate;return r===null?(r=ct(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ta(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")cu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case vn:return rn(r.children,i,a,t);case Cc:o=8,i|=8;break;case Xo:return e=ct(12,r,t,i|2),e.elementType=Xo,e.lanes=a,e;case Zo:return e=ct(13,r,t,i),e.elementType=Zo,e.lanes=a,e;case el:return e=ct(19,r,t,i),e.elementType=el,e.lanes=a,e;case hf:return Xa(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uf:o=10;break e;case df:o=9;break e;case Ec:o=11;break e;case Pc:o=14;break e;case nr:o=16,n=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=ct(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function rn(e,t,r,n){return e=ct(7,e,n,t),e.lanes=r,e}function Xa(e,t,r,n){return e=ct(22,e,n,t),e.elementType=hf,e.lanes=r,e.stateNode={isHidden:!1},e}function Do(e,t,r){return e=ct(6,e,null,t),e.lanes=r,e}function Bo(e,t,r){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zx(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yo(0),this.expirationTimes=yo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yo(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uu(e,t,r,n,i,a,o,l,c){return e=new zx(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ct(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qc(a),e}function $x(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function np(e){if(!e)return Tr;e=e._reactInternals;e:{if(mn(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(We(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var r=e.type;if(We(r))return nm(e,r,t)}return t}function sp(e,t,r,n,i,a,o,l,c){return e=uu(r,n,!0,e,i,a,o,l,c),e.context=np(null),r=e.current,n=Be(),i=kr(r),a=Wt(n,i),a.callback=t??null,Nr(r,a,i),e.current.lanes=i,di(e,i,n),Qe(e,n),e}function Za(e,t,r,n){var i=t.current,a=Be(),o=kr(i);return r=np(r),t.context===null?t.context=r:t.pendingContext=r,t=Wt(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Nr(i,t,o),e!==null&&(wt(e,i,o,a),Yi(e,i,o)),o}function Aa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function du(e,t){zd(e,t),(e=e.alternate)&&zd(e,t)}function Hx(){return null}var ip=typeof reportError=="function"?reportError:function(e){console.error(e)};function hu(e){this._internalRoot=e}eo.prototype.render=hu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Za(e,t,null,null)};eo.prototype.unmount=hu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cn(function(){Za(null,e,null,null)}),t[Yt]=null}};function eo(e){this._internalRoot=e}eo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ff();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ir.length&&t!==0&&t<ir[r].priority;r++);ir.splice(r,0,e),r===0&&Bf(e)}};function fu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function to(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $d(){}function qx(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Aa(o);a.call(u)}}var o=sp(t,n,e,0,null,!1,!1,"",$d);return e._reactRootContainer=o,e[Yt]=o.current,Qs(e.nodeType===8?e.parentNode:e),cn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=Aa(c);l.call(u)}}var c=uu(e,0,!1,null,null,!1,!1,"",$d);return e._reactRootContainer=c,e[Yt]=c.current,Qs(e.nodeType===8?e.parentNode:e),cn(function(){Za(t,c,r,n)}),c}function ro(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Aa(o);l.call(c)}}Za(t,o,e,i)}else o=qx(r,t,e,i,n);return Aa(o)}Af=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ss(t.pendingLanes);r!==0&&(Lc(t,r|1),Qe(t,me()),!(Z&6)&&(ts=me()+500,Ar()))}break;case 13:cn(function(){var n=Gt(e,1);if(n!==null){var i=Be();wt(n,e,1,i)}}),du(e,1)}};Oc=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var r=Be();wt(t,e,134217728,r)}du(e,134217728)}};Mf=function(e){if(e.tag===13){var t=kr(e),r=Gt(e,t);if(r!==null){var n=Be();wt(r,e,t,n)}du(e,t)}};Ff=function(){return ne};Df=function(e,t){var r=ne;try{return ne=e,t()}finally{ne=r}};ul=function(e,t,r){switch(t){case"input":if(nl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Wa(n);if(!i)throw Error(F(90));mf(n),nl(n,i)}}}break;case"textarea":gf(e,r);break;case"select":t=r.value,t!=null&&Tn(e,!!r.multiple,t,!1)}};Nf=au;_f=cn;var Vx={usingClientEntryPoint:!1,Events:[fi,Nn,Wa,wf,jf,au]},ws={findFiberByHostInstance:zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wx={bundleType:ws.bundleType,version:ws.version,rendererPackageName:ws.rendererPackageName,rendererConfig:ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cf(e),e===null?null:e.stateNode},findFiberByHostInstance:ws.findFiberByHostInstance||Hx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ii=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ii.isDisabled&&Ii.supportsFiber)try{$a=Ii.inject(Wx),Tt=Ii}catch{}}tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vx;tt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fu(t))throw Error(F(200));return $x(e,t,null,r)};tt.createRoot=function(e,t){if(!fu(e))throw Error(F(299));var r=!1,n="",i=ip;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=uu(e,1,!1,null,null,r,!1,n,i),e[Yt]=t.current,Qs(e.nodeType===8?e.parentNode:e),new hu(t)};tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Cf(t),e=e===null?null:e.stateNode,e};tt.flushSync=function(e){return cn(e)};tt.hydrate=function(e,t,r){if(!to(t))throw Error(F(200));return ro(null,e,t,!0,r)};tt.hydrateRoot=function(e,t,r){if(!fu(e))throw Error(F(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=ip;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=sp(t,null,e,1,r??null,i,!1,a,o),e[Yt]=t.current,Qs(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new eo(t)};tt.render=function(e,t,r){if(!to(t))throw Error(F(200));return ro(null,e,t,!1,r)};tt.unmountComponentAtNode=function(e){if(!to(e))throw Error(F(40));return e._reactRootContainer?(cn(function(){ro(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1};tt.unstable_batchedUpdates=au;tt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!to(r))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return ro(e,t,r,!1,n)};tt.version="18.3.1-next-f1338f8080-20240426";function ap(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ap)}catch(e){console.error(e)}}ap(),af.exports=tt;var Qx=af.exports,op,Hd=Qx;op=Hd.createRoot,Hd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ri.apply(this,arguments)}var yr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(yr||(yr={}));const qd="popstate";function Kx(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:o,hash:l}=n.location;return Hl("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Ma(i)}return Gx(t,r,null,e)}function ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Yx(){return Math.random().toString(36).substr(2,8)}function Vd(e,t){return{usr:e.state,key:e.key,idx:t}}function Hl(e,t,r,n){return r===void 0&&(r=null),ri({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?as(t):t,{state:r,key:t&&t.key||n||Yx()})}function Ma(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function as(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Gx(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=yr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(ri({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=yr.Pop;let b=d(),g=b==null?null:b-u;u=b,c&&c({action:l,location:y.location,delta:g})}function f(b,g){l=yr.Push;let m=Hl(y.location,b,g);u=d()+1;let x=Vd(m,u),j=y.createHref(m);try{o.pushState(x,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(j)}a&&c&&c({action:l,location:y.location,delta:1})}function v(b,g){l=yr.Replace;let m=Hl(y.location,b,g);u=d();let x=Vd(m,u),j=y.createHref(m);o.replaceState(x,"",j),a&&c&&c({action:l,location:y.location,delta:0})}function p(b){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof b=="string"?b:Ma(b);return m=m.replace(/ $/,"%20"),ge(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let y={get action(){return l},get location(){return e(i,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(qd,h),c=b,()=>{i.removeEventListener(qd,h),c=null}},createHref(b){return t(i,b)},createURL:p,encodeLocation(b){let g=p(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:v,go(b){return o.go(b)}};return y}var Wd;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Wd||(Wd={}));function Jx(e,t,r){return r===void 0&&(r="/"),Xx(e,t,r)}function Xx(e,t,r,n){let i=typeof t=="string"?as(t):t,a=mu(i.pathname||"/",r);if(a==null)return null;let o=cp(e);Zx(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=dy(a);l=ly(o[c],u)}return l}function cp(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(ge(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Cr([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(ge(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),cp(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:ay(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of up(a.path))i(a,o,c)}),t}function up(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=up(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Zx(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:oy(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const ey=/^:[\w-]+$/,ty=3,ry=2,ny=1,sy=10,iy=-2,Qd=e=>e==="*";function ay(e,t){let r=e.split("/"),n=r.length;return r.some(Qd)&&(n+=iy),t&&(n+=ry),r.filter(i=>!Qd(i)).reduce((i,a)=>i+(ey.test(a)?ty:a===""?ny:sy),n)}function oy(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function ly(e,t,r){let{routesMeta:n}=e,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=cy({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Cr([a,h.pathname]),pathnameBase:py(Cr([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Cr([a,h.pathnameBase]))}return o}function cy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=uy(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:v}=d;if(f==="*"){let y=l[h]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const p=l[h];return v&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function uy(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),lp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function dy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return lp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function mu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function hy(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?as(e):e;return{pathname:r?r.startsWith("/")?r:fy(r,t):t,search:gy(n),hash:xy(i)}}function fy(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Io(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function my(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function pu(e,t){let r=my(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function gu(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=as(e):(i=ri({},e),ge(!i.pathname||!i.pathname.includes("?"),Io("?","pathname","search",i)),ge(!i.pathname||!i.pathname.includes("#"),Io("#","pathname","hash",i)),ge(!i.search||!i.search.includes("#"),Io("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=hy(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Cr=e=>e.join("/").replace(/\/\/+/g,"/"),py=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function yy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const dp=["post","put","patch","delete"];new Set(dp);const vy=["get",...dp];new Set(vy);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ni.apply(this,arguments)}const xu=k.createContext(null),by=k.createContext(null),Mr=k.createContext(null),no=k.createContext(null),Zt=k.createContext({outlet:null,matches:[],isDataRoute:!1}),hp=k.createContext(null);function wy(e,t){let{relative:r}=t===void 0?{}:t;os()||ge(!1);let{basename:n,navigator:i}=k.useContext(Mr),{hash:a,pathname:o,search:l}=mp(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Cr([n,o])),i.createHref({pathname:c,search:l,hash:a})}function os(){return k.useContext(no)!=null}function ls(){return os()||ge(!1),k.useContext(no).location}function fp(e){k.useContext(Mr).static||k.useLayoutEffect(e)}function Ft(){let{isDataRoute:e}=k.useContext(Zt);return e?Ay():jy()}function jy(){os()||ge(!1);let e=k.useContext(xu),{basename:t,future:r,navigator:n}=k.useContext(Mr),{matches:i}=k.useContext(Zt),{pathname:a}=ls(),o=JSON.stringify(pu(i,r.v7_relativeSplatPath)),l=k.useRef(!1);return fp(()=>{l.current=!0}),k.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=gu(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Cr([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,a,e])}function pi(){let{matches:e}=k.useContext(Zt),t=e[e.length-1];return t?t.params:{}}function mp(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=k.useContext(Mr),{matches:i}=k.useContext(Zt),{pathname:a}=ls(),o=JSON.stringify(pu(i,n.v7_relativeSplatPath));return k.useMemo(()=>gu(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function Ny(e,t){return _y(e,t)}function _y(e,t,r,n){os()||ge(!1);let{navigator:i}=k.useContext(Mr),{matches:a}=k.useContext(Zt),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ls(),d;if(t){var h;let b=typeof t=="string"?as(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||ge(!1),d=b}else d=u;let f=d.pathname||"/",v=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let p=Jx(e,{pathname:v}),y=Py(p&&p.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Cr([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Cr([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,r,n);return t&&y?k.createElement(no.Provider,{value:{location:ni({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:yr.Pop}},y):y}function ky(){let e=Oy(),t=yy(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:i},r):null,null)}const Sy=k.createElement(ky,null);class Cy extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(Zt.Provider,{value:this.props.routeContext},k.createElement(hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ey(e){let{routeContext:t,match:r,children:n}=e,i=k.useContext(xu);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(Zt.Provider,{value:t},n)}function Py(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ge(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:v}=r,p=h.route.loader&&f[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||p){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let v,p=!1,y=null,b=null;r&&(v=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||Sy,c&&(u<0&&f===0?(My("route-fallback"),p=!0,b=null):u===f&&(p=!0,b=h.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,f+1)),m=()=>{let x;return v?x=y:p?x=b:h.route.Component?x=k.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,k.createElement(Ey,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?k.createElement(Cy,{location:r.location,revalidation:r.revalidation,component:y,error:v,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var pp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(pp||{}),gp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(gp||{});function Ry(e){let t=k.useContext(xu);return t||ge(!1),t}function Ty(e){let t=k.useContext(by);return t||ge(!1),t}function Ly(e){let t=k.useContext(Zt);return t||ge(!1),t}function xp(e){let t=Ly(),r=t.matches[t.matches.length-1];return r.route.id||ge(!1),r.route.id}function Oy(){var e;let t=k.useContext(hp),r=Ty(),n=xp();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Ay(){let{router:e}=Ry(pp.UseNavigateStable),t=xp(gp.UseNavigateStable),r=k.useRef(!1);return fp(()=>{r.current=!0}),k.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ni({fromRouteId:t},a)))},[e,t])}const Kd={};function My(e,t,r){Kd[e]||(Kd[e]=!0)}function Fy(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function yu(e){let{to:t,replace:r,state:n,relative:i}=e;os()||ge(!1);let{future:a,static:o}=k.useContext(Mr),{matches:l}=k.useContext(Zt),{pathname:c}=ls(),u=Ft(),d=gu(t,pu(l,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(d);return k.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:i}),[u,h,i,r,n]),null}function Oe(e){ge(!1)}function Dy(e){let{basename:t="/",children:r=null,location:n,navigationType:i=yr.Pop,navigator:a,static:o=!1,future:l}=e;os()&&ge(!1);let c=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:c,navigator:a,static:o,future:ni({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=as(n));let{pathname:d="/",search:h="",hash:f="",state:v=null,key:p="default"}=n,y=k.useMemo(()=>{let b=mu(d,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:v,key:p},navigationType:i}},[c,d,h,f,v,p,i]);return y==null?null:k.createElement(Mr.Provider,{value:u},k.createElement(no.Provider,{children:r,value:y}))}function By(e){let{children:t,location:r}=e;return Ny(ql(t),r)}new Promise(()=>{});function ql(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(n,i)=>{if(!k.isValidElement(n))return;let a=[...t,i];if(n.type===k.Fragment){r.push.apply(r,ql(n.props.children,a));return}n.type!==Oe&&ge(!1),!n.props.index||!n.props.children||ge(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ql(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vl(){return Vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vl.apply(this,arguments)}function Iy(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Uy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zy(e,t){return e.button===0&&(!t||t==="_self")&&!Uy(e)}function Wl(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function $y(e,t){let r=Wl(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}const Hy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qy="6";try{window.__reactRouterVersion=qy}catch{}const Vy="startTransition",Yd=F0[Vy];function Wy(e){let{basename:t,children:r,future:n,window:i}=e,a=k.useRef();a.current==null&&(a.current=Kx({window:i,v5Compat:!0}));let o=a.current,[l,c]=k.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=k.useCallback(h=>{u&&Yd?Yd(()=>c(h)):c(h)},[c,u]);return k.useLayoutEffect(()=>o.listen(d),[o,d]),k.useEffect(()=>Fy(n),[n]),k.createElement(Dy,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Qy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ky=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U=k.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=Iy(t,Hy),{basename:v}=k.useContext(Mr),p,y=!1;if(typeof u=="string"&&Ky.test(u)&&(p=u,Qy))try{let x=new URL(window.location.href),j=u.startsWith("//")?new URL(x.protocol+u):new URL(u),N=mu(j.pathname,v);j.origin===x.origin&&N!=null?u=N+j.search+j.hash:y=!0}catch{}let b=wy(u,{relative:i}),g=Yy(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});function m(x){n&&n(x),x.defaultPrevented||g(x)}return k.createElement("a",Vl({},f,{href:p||b,onClick:y||a?n:m,ref:r,target:c}))});var Gd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Gd||(Gd={}));var Jd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Jd||(Jd={}));function Yy(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=Ft(),u=ls(),d=mp(e,{relative:o});return k.useCallback(h=>{if(zy(h,r)){h.preventDefault();let f=n!==void 0?n:Ma(u)===Ma(d);c(e,{replace:f,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,i,r,e,a,o,l])}function yp(e){let t=k.useRef(Wl(e)),r=k.useRef(!1),n=ls(),i=k.useMemo(()=>$y(n.search,r.current?null:t.current),[n.search]),a=Ft(),o=k.useCallback((l,c)=>{const u=Wl(typeof l=="function"?l(i):l);r.current=!0,a("?"+u,c)},[a,i]);return[i,o]}var cs=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Gy={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},or,vc,Dh,Jy=(Dh=class{constructor(){H(this,or,Gy);H(this,vc,!1)}setTimeoutProvider(e){B(this,or,e)}setTimeout(e,t){return w(this,or).setTimeout(e,t)}clearTimeout(e){w(this,or).clearTimeout(e)}setInterval(e,t){return w(this,or).setInterval(e,t)}clearInterval(e){w(this,or).clearInterval(e)}},or=new WeakMap,vc=new WeakMap,Dh),qr=new Jy;function Xy(e){setTimeout(e,0)}var un=typeof window>"u"||"Deno"in globalThis;function De(){}function Zy(e,t){return typeof e=="function"?e(t):e}function Ql(e){return typeof e=="number"&&e>=0&&e!==1/0}function vp(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Er(e,t){return typeof e=="function"?e(t):e}function it(e,t){return typeof e=="function"?e(t):e}function Xd(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==vu(o,t.options))return!1}else if(!si(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function Zd(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(dn(t.options.mutationKey)!==dn(a))return!1}else if(!si(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function vu(e,t){return((t==null?void 0:t.queryKeyHashFn)||dn)(e)}function dn(e){return JSON.stringify(e,(t,r)=>Kl(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function si(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>si(e[r],t[r])):!1}var ev=Object.prototype.hasOwnProperty;function bp(e,t){if(e===t)return e;const r=eh(e)&&eh(t);if(!r&&!(Kl(e)&&Kl(t)))return t;const i=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),o=a.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:a[u],h=e[d],f=t[d];if(h===f){l[d]=h,(r?u<i:ev.call(e,d))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[d]=f;continue}const v=bp(h,f);l[d]=v,v===h&&c++}return i===o&&c===i?e:l}function Fa(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function eh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Kl(e){if(!th(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!th(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function th(e){return Object.prototype.toString.call(e)==="[object Object]"}function tv(e){return new Promise(t=>{qr.setTimeout(t,e)})}function Yl(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?bp(e,t):t}function rv(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function nv(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var bu=Symbol();function wp(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===bu?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function jp(e,t){return typeof e=="function"?e(...t):!!e}var Wr,lr,Dn,Bh,sv=(Bh=class extends cs{constructor(){super();H(this,Wr);H(this,lr);H(this,Dn);B(this,Dn,t=>{if(!un&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){w(this,lr)||this.setEventListener(w(this,Dn))}onUnsubscribe(){var t;this.hasListeners()||((t=w(this,lr))==null||t.call(this),B(this,lr,void 0))}setEventListener(t){var r;B(this,Dn,t),(r=w(this,lr))==null||r.call(this),B(this,lr,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){w(this,Wr)!==t&&(B(this,Wr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof w(this,Wr)=="boolean"?w(this,Wr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Wr=new WeakMap,lr=new WeakMap,Dn=new WeakMap,Bh),wu=new sv;function Gl(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}var iv=Xy;function av(){let e=[],t=0,r=l=>{l()},n=l=>{l()},i=iv;const a=l=>{t?e.push(l):i(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var be=av(),Bn,cr,In,Ih,ov=(Ih=class extends cs{constructor(){super();H(this,Bn,!0);H(this,cr);H(this,In);B(this,In,t=>{if(!un&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){w(this,cr)||this.setEventListener(w(this,In))}onUnsubscribe(){var t;this.hasListeners()||((t=w(this,cr))==null||t.call(this),B(this,cr,void 0))}setEventListener(t){var r;B(this,In,t),(r=w(this,cr))==null||r.call(this),B(this,cr,t(this.setOnline.bind(this)))}setOnline(t){w(this,Bn)!==t&&(B(this,Bn,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return w(this,Bn)}},Bn=new WeakMap,cr=new WeakMap,In=new WeakMap,Ih),Da=new ov;function lv(e){return Math.min(1e3*2**e,3e4)}function Np(e){return(e??"online")==="online"?Da.isOnline():!0}var Jl=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function _p(e){let t=!1,r=0,n;const i=Gl(),a=()=>i.status!=="pending",o=y=>{var b;if(!a()){const g=new Jl(y);f(g),(b=e.onCancel)==null||b.call(e,g)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>wu.isFocused()&&(e.networkMode==="always"||Da.isOnline())&&e.canRun(),d=()=>Np(e.networkMode)&&e.canRun(),h=y=>{a()||(n==null||n(),i.resolve(y))},f=y=>{a()||(n==null||n(),i.reject(y))},v=()=>new Promise(y=>{var b;n=g=>{(a()||u())&&y(g)},(b=e.onPause)==null||b.call(e)}).then(()=>{var y;n=void 0,a()||(y=e.onContinue)==null||y.call(e)}),p=()=>{if(a())return;let y;const b=r===0?e.initialPromise:void 0;try{y=b??e.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var C;if(a())return;const m=e.retry??(un?0:3),x=e.retryDelay??lv,j=typeof x=="function"?x(r,g):x,N=m===!0||typeof m=="number"&&r<m||typeof m=="function"&&m(r,g);if(t||!N){f(g);return}r++,(C=e.onFail)==null||C.call(e,r,g),tv(j).then(()=>u()?void 0:v()).then(()=>{t?f(g):p()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?p():v().then(p),i)}}var Qr,Uh,kp=(Uh=class{constructor(){H(this,Qr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ql(this.gcTime)&&B(this,Qr,qr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(un?1/0:5*60*1e3))}clearGcTimeout(){w(this,Qr)&&(qr.clearTimeout(w(this,Qr)),B(this,Qr,void 0))}},Qr=new WeakMap,Uh),Kr,Un,st,Yr,je,ii,Gr,pt,Dt,zh,cv=(zh=class extends kp{constructor(t){super();H(this,pt);H(this,Kr);H(this,Un);H(this,st);H(this,Yr);H(this,je);H(this,ii);H(this,Gr);B(this,Gr,!1),B(this,ii,t.defaultOptions),this.setOptions(t.options),this.observers=[],B(this,Yr,t.client),B(this,st,w(this,Yr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,B(this,Kr,rh(this.options)),this.state=t.state??w(this,Kr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=w(this,je))==null?void 0:t.promise}setOptions(t){if(this.options={...w(this,ii),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=rh(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),B(this,Kr,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&w(this,st).remove(this)}setData(t,r){const n=Yl(this.state.data,t,this.options);return Y(this,pt,Dt).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Y(this,pt,Dt).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=w(this,je))==null?void 0:n.promise;return(i=w(this,je))==null||i.cancel(t),r?r.then(De).catch(De):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(w(this,Kr))}isActive(){return this.observers.some(t=>it(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Er(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!vp(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=w(this,je))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=w(this,je))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),w(this,st).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(w(this,je)&&(w(this,Gr)?w(this,je).cancel({revert:!0}):w(this,je).cancelRetry()),this.scheduleGc()),w(this,st).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Y(this,pt,Dt).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,h,f,v,p,y,b,g,m,x;if(this.state.fetchStatus!=="idle"&&((c=w(this,je))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(w(this,je))return w(this,je).continueRetry(),w(this,je).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(N=>N.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,i=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(B(this,Gr,!0),n.signal)})},a=()=>{const j=wp(this.options,r),C=(()=>{const L={client:w(this,Yr),queryKey:this.queryKey,meta:this.meta};return i(L),L})();return B(this,Gr,!1),this.options.persister?this.options.persister(j,C,this):j(C)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:w(this,Yr),state:this.state,fetchFn:a};return i(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),B(this,Un,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Y(this,pt,Dt).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),B(this,je,_p({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof Jl&&j.revert&&this.setState({...w(this,Un),fetchStatus:"idle"}),n.abort()},onFail:(j,N)=>{Y(this,pt,Dt).call(this,{type:"failed",failureCount:j,error:N})},onPause:()=>{Y(this,pt,Dt).call(this,{type:"pause"})},onContinue:()=>{Y(this,pt,Dt).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await w(this,je).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(v=(f=w(this,st).config).onSuccess)==null||v.call(f,j,this),(y=(p=w(this,st).config).onSettled)==null||y.call(p,j,this.state.error,this),j}catch(j){if(j instanceof Jl){if(j.silent)return w(this,je).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw Y(this,pt,Dt).call(this,{type:"error",error:j}),(g=(b=w(this,st).config).onError)==null||g.call(b,j,this),(x=(m=w(this,st).config).onSettled)==null||x.call(m,this.state.data,j,this),j}finally{this.scheduleGc()}}},Kr=new WeakMap,Un=new WeakMap,st=new WeakMap,Yr=new WeakMap,je=new WeakMap,ii=new WeakMap,Gr=new WeakMap,pt=new WeakSet,Dt=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Sp(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return B(this,Un,t.manual?i:void 0),i;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),be.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),w(this,st).notify({query:this,type:"updated",action:t})})},zh);function Sp(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Np(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function rh(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ze,J,ai,Ae,Jr,zn,Ut,ur,oi,$n,Hn,Xr,Zr,dr,qn,re,Es,Xl,Zl,ec,tc,rc,nc,sc,Cp,$h,uv=($h=class extends cs{constructor(t,r){super();H(this,re);H(this,ze);H(this,J);H(this,ai);H(this,Ae);H(this,Jr);H(this,zn);H(this,Ut);H(this,ur);H(this,oi);H(this,$n);H(this,Hn);H(this,Xr);H(this,Zr);H(this,dr);H(this,qn,new Set);this.options=r,B(this,ze,t),B(this,ur,null),B(this,Ut,Gl()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(w(this,J).addObserver(this),nh(w(this,J),this.options)?Y(this,re,Es).call(this):this.updateResult(),Y(this,re,tc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ic(w(this,J),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ic(w(this,J),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Y(this,re,rc).call(this),Y(this,re,nc).call(this),w(this,J).removeObserver(this)}setOptions(t){const r=this.options,n=w(this,J);if(this.options=w(this,ze).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof it(this.options.enabled,w(this,J))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Y(this,re,sc).call(this),w(this,J).setOptions(this.options),r._defaulted&&!Fa(this.options,r)&&w(this,ze).getQueryCache().notify({type:"observerOptionsUpdated",query:w(this,J),observer:this});const i=this.hasListeners();i&&sh(w(this,J),n,this.options,r)&&Y(this,re,Es).call(this),this.updateResult(),i&&(w(this,J)!==n||it(this.options.enabled,w(this,J))!==it(r.enabled,w(this,J))||Er(this.options.staleTime,w(this,J))!==Er(r.staleTime,w(this,J)))&&Y(this,re,Xl).call(this);const a=Y(this,re,Zl).call(this);i&&(w(this,J)!==n||it(this.options.enabled,w(this,J))!==it(r.enabled,w(this,J))||a!==w(this,dr))&&Y(this,re,ec).call(this,a)}getOptimisticResult(t){const r=w(this,ze).getQueryCache().build(w(this,ze),t),n=this.createResult(r,t);return hv(this,n)&&(B(this,Ae,n),B(this,zn,this.options),B(this,Jr,w(this,J).state)),n}getCurrentResult(){return w(this,Ae)}trackResult(t,r){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&!this.options.experimental_prefetchInRender&&w(this,Ut).status==="pending"&&w(this,Ut).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,i))})}trackProp(t){w(this,qn).add(t)}getCurrentQuery(){return w(this,J)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=w(this,ze).defaultQueryOptions(t),n=w(this,ze).getQueryCache().build(w(this,ze),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Y(this,re,Es).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),w(this,Ae)))}createResult(t,r){var E;const n=w(this,J),i=this.options,a=w(this,Ae),o=w(this,Jr),l=w(this,zn),u=t!==n?t.state:w(this,ai),{state:d}=t;let h={...d},f=!1,v;if(r._optimisticResults){const S=this.hasListeners(),D=!S&&nh(t,r),O=S&&sh(t,n,r,i);(D||O)&&(h={...h,...Sp(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:p,errorUpdatedAt:y,status:b}=h;v=h.data;let g=!1;if(r.placeholderData!==void 0&&v===void 0&&b==="pending"){let S;a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(S=a.data,g=!0):S=typeof r.placeholderData=="function"?r.placeholderData((E=w(this,Hn))==null?void 0:E.state.data,w(this,Hn)):r.placeholderData,S!==void 0&&(b="success",v=Yl(a==null?void 0:a.data,S,r),f=!0)}if(r.select&&v!==void 0&&!g)if(a&&v===(o==null?void 0:o.data)&&r.select===w(this,oi))v=w(this,$n);else try{B(this,oi,r.select),v=r.select(v),v=Yl(a==null?void 0:a.data,v,r),B(this,$n,v),B(this,ur,null)}catch(S){B(this,ur,S)}w(this,ur)&&(p=w(this,ur),v=w(this,$n),y=Date.now(),b="error");const m=h.fetchStatus==="fetching",x=b==="pending",j=b==="error",N=x&&m,C=v!==void 0,A={status:b,fetchStatus:h.fetchStatus,isPending:x,isSuccess:b==="success",isError:j,isInitialLoading:N,isLoading:N,data:v,dataUpdatedAt:h.dataUpdatedAt,error:p,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:m,isRefetching:m&&!x,isLoadingError:j&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:j&&C,isStale:ju(t,r),refetch:this.refetch,promise:w(this,Ut),isEnabled:it(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const S=$=>{A.status==="error"?$.reject(A.error):A.data!==void 0&&$.resolve(A.data)},D=()=>{const $=B(this,Ut,A.promise=Gl());S($)},O=w(this,Ut);switch(O.status){case"pending":t.queryHash===n.queryHash&&S(O);break;case"fulfilled":(A.status==="error"||A.data!==O.value)&&D();break;case"rejected":(A.status!=="error"||A.error!==O.reason)&&D();break}}return A}updateResult(){const t=w(this,Ae),r=this.createResult(w(this,J),this.options);if(B(this,Jr,w(this,J).state),B(this,zn,this.options),w(this,Jr).data!==void 0&&B(this,Hn,w(this,J)),Fa(r,t))return;B(this,Ae,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!w(this,qn).size)return!0;const o=new Set(a??w(this,qn));return this.options.throwOnError&&o.add("error"),Object.keys(w(this,Ae)).some(l=>{const c=l;return w(this,Ae)[c]!==t[c]&&o.has(c)})};Y(this,re,Cp).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Y(this,re,tc).call(this)}},ze=new WeakMap,J=new WeakMap,ai=new WeakMap,Ae=new WeakMap,Jr=new WeakMap,zn=new WeakMap,Ut=new WeakMap,ur=new WeakMap,oi=new WeakMap,$n=new WeakMap,Hn=new WeakMap,Xr=new WeakMap,Zr=new WeakMap,dr=new WeakMap,qn=new WeakMap,re=new WeakSet,Es=function(t){Y(this,re,sc).call(this);let r=w(this,J).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(De)),r},Xl=function(){Y(this,re,rc).call(this);const t=Er(this.options.staleTime,w(this,J));if(un||w(this,Ae).isStale||!Ql(t))return;const n=vp(w(this,Ae).dataUpdatedAt,t)+1;B(this,Xr,qr.setTimeout(()=>{w(this,Ae).isStale||this.updateResult()},n))},Zl=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(w(this,J)):this.options.refetchInterval)??!1},ec=function(t){Y(this,re,nc).call(this),B(this,dr,t),!(un||it(this.options.enabled,w(this,J))===!1||!Ql(w(this,dr))||w(this,dr)===0)&&B(this,Zr,qr.setInterval(()=>{(this.options.refetchIntervalInBackground||wu.isFocused())&&Y(this,re,Es).call(this)},w(this,dr)))},tc=function(){Y(this,re,Xl).call(this),Y(this,re,ec).call(this,Y(this,re,Zl).call(this))},rc=function(){w(this,Xr)&&(qr.clearTimeout(w(this,Xr)),B(this,Xr,void 0))},nc=function(){w(this,Zr)&&(qr.clearInterval(w(this,Zr)),B(this,Zr,void 0))},sc=function(){const t=w(this,ze).getQueryCache().build(w(this,ze),this.options);if(t===w(this,J))return;const r=w(this,J);B(this,J,t),B(this,ai,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Cp=function(t){be.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(w(this,Ae))}),w(this,ze).getQueryCache().notify({query:w(this,J),type:"observerResultsUpdated"})})},$h);function dv(e,t){return it(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function nh(e,t){return dv(e,t)||e.state.data!==void 0&&ic(e,t,t.refetchOnMount)}function ic(e,t,r){if(it(t.enabled,e)!==!1&&Er(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&ju(e,t)}return!1}function sh(e,t,r,n){return(e!==t||it(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&ju(e,r)}function ju(e,t){return it(t.enabled,e)!==!1&&e.isStaleByTime(Er(t.staleTime,e))}function hv(e,t){return!Fa(e.getCurrentResult(),t)}function ih(e){return{onFetch:(t,r)=>{var d,h,f,v,p;const n=t.options,i=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,a=((v=t.state.data)==null?void 0:v.pages)||[],o=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},g=wp(t.options,t.fetchOptions),m=async(x,j,N)=>{if(y)return Promise.reject();if(j==null&&x.pages.length)return Promise.resolve(x);const L=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};return b(D),D})(),A=await g(L),{maxPages:E}=t.options,S=N?nv:rv;return{pages:S(x.pages,A,E),pageParams:S(x.pageParams,j,E)}};if(i&&a.length){const x=i==="backward",j=x?fv:ah,N={pages:a,pageParams:o},C=j(n,N);l=await m(N,C,x)}else{const x=e??a.length;do{const j=c===0?o[0]??n.initialPageParam:ah(n,l);if(c>0&&j==null)break;l=await m(l,j),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>{var y,b;return(b=(y=t.options).persister)==null?void 0:b.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function ah(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function fv(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var li,Ct,Me,en,Et,rr,Hh,mv=(Hh=class extends kp{constructor(t){super();H(this,Et);H(this,li);H(this,Ct);H(this,Me);H(this,en);B(this,li,t.client),this.mutationId=t.mutationId,B(this,Me,t.mutationCache),B(this,Ct,[]),this.state=t.state||Ep(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){w(this,Ct).includes(t)||(w(this,Ct).push(t),this.clearGcTimeout(),w(this,Me).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){B(this,Ct,w(this,Ct).filter(r=>r!==t)),this.scheduleGc(),w(this,Me).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){w(this,Ct).length||(this.state.status==="pending"?this.scheduleGc():w(this,Me).remove(this))}continue(){var t;return((t=w(this,en))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,h,f,v,p,y,b,g,m,x,j,N,C,L,A,E;const r=()=>{Y(this,Et,rr).call(this,{type:"continue"})},n={client:w(this,li),meta:this.options.meta,mutationKey:this.options.mutationKey};B(this,en,_p({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(S,D)=>{Y(this,Et,rr).call(this,{type:"failed",failureCount:S,error:D})},onPause:()=>{Y(this,Et,rr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>w(this,Me).canRun(this)}));const i=this.state.status==="pending",a=!w(this,en).canStart();try{if(i)r();else{Y(this,Et,rr).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(o=w(this,Me).config).onMutate)==null?void 0:l.call(o,t,this,n));const D=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));D!==this.state.context&&Y(this,Et,rr).call(this,{type:"pending",context:D,variables:t,isPaused:a})}const S=await w(this,en).start();return await((h=(d=w(this,Me).config).onSuccess)==null?void 0:h.call(d,S,t,this.state.context,this,n)),await((v=(f=this.options).onSuccess)==null?void 0:v.call(f,S,t,this.state.context,n)),await((y=(p=w(this,Me).config).onSettled)==null?void 0:y.call(p,S,null,this.state.variables,this.state.context,this,n)),await((g=(b=this.options).onSettled)==null?void 0:g.call(b,S,null,t,this.state.context,n)),Y(this,Et,rr).call(this,{type:"success",data:S}),S}catch(S){try{throw await((x=(m=w(this,Me).config).onError)==null?void 0:x.call(m,S,t,this.state.context,this,n)),await((N=(j=this.options).onError)==null?void 0:N.call(j,S,t,this.state.context,n)),await((L=(C=w(this,Me).config).onSettled)==null?void 0:L.call(C,void 0,S,this.state.variables,this.state.context,this,n)),await((E=(A=this.options).onSettled)==null?void 0:E.call(A,void 0,S,t,this.state.context,n)),S}finally{Y(this,Et,rr).call(this,{type:"error",error:S})}}finally{w(this,Me).runNext(this)}}},li=new WeakMap,Ct=new WeakMap,Me=new WeakMap,en=new WeakMap,Et=new WeakSet,rr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),be.batch(()=>{w(this,Ct).forEach(n=>{n.onMutationUpdate(t)}),w(this,Me).notify({mutation:this,type:"updated",action:t})})},Hh);function Ep(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zt,gt,ci,qh,pv=(qh=class extends cs{constructor(t={}){super();H(this,zt);H(this,gt);H(this,ci);this.config=t,B(this,zt,new Set),B(this,gt,new Map),B(this,ci,0)}build(t,r,n){const i=new mv({client:t,mutationCache:this,mutationId:++ji(this,ci)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){w(this,zt).add(t);const r=Ui(t);if(typeof r=="string"){const n=w(this,gt).get(r);n?n.push(t):w(this,gt).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(w(this,zt).delete(t)){const r=Ui(t);if(typeof r=="string"){const n=w(this,gt).get(r);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&w(this,gt).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Ui(t);if(typeof r=="string"){const n=w(this,gt).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const r=Ui(t);if(typeof r=="string"){const i=(n=w(this,gt).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){be.batch(()=>{w(this,zt).forEach(t=>{this.notify({type:"removed",mutation:t})}),w(this,zt).clear(),w(this,gt).clear()})}getAll(){return Array.from(w(this,zt))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Zd(r,n))}findAll(t={}){return this.getAll().filter(r=>Zd(t,r))}notify(t){be.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return be.batch(()=>Promise.all(t.map(r=>r.continue().catch(De))))}},zt=new WeakMap,gt=new WeakMap,ci=new WeakMap,qh);function Ui(e){var t;return(t=e.options.scope)==null?void 0:t.id}var $t,hr,$e,Ht,Qt,ra,ac,Vh,gv=(Vh=class extends cs{constructor(r,n){super();H(this,Qt);H(this,$t);H(this,hr);H(this,$e);H(this,Ht);B(this,$t,r),this.setOptions(n),this.bindMethods(),Y(this,Qt,ra).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=w(this,$t).defaultMutationOptions(r),Fa(this.options,n)||w(this,$t).getMutationCache().notify({type:"observerOptionsUpdated",mutation:w(this,$e),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&dn(n.mutationKey)!==dn(this.options.mutationKey)?this.reset():((i=w(this,$e))==null?void 0:i.state.status)==="pending"&&w(this,$e).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=w(this,$e))==null||r.removeObserver(this)}onMutationUpdate(r){Y(this,Qt,ra).call(this),Y(this,Qt,ac).call(this,r)}getCurrentResult(){return w(this,hr)}reset(){var r;(r=w(this,$e))==null||r.removeObserver(this),B(this,$e,void 0),Y(this,Qt,ra).call(this),Y(this,Qt,ac).call(this)}mutate(r,n){var i;return B(this,Ht,n),(i=w(this,$e))==null||i.removeObserver(this),B(this,$e,w(this,$t).getMutationCache().build(w(this,$t),this.options)),w(this,$e).addObserver(this),w(this,$e).execute(r)}},$t=new WeakMap,hr=new WeakMap,$e=new WeakMap,Ht=new WeakMap,Qt=new WeakSet,ra=function(){var n;const r=((n=w(this,$e))==null?void 0:n.state)??Ep();B(this,hr,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},ac=function(r){be.batch(()=>{var n,i,a,o,l,c,u,d;if(w(this,Ht)&&this.hasListeners()){const h=w(this,hr).variables,f=w(this,hr).context,v={client:w(this,$t),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((i=(n=w(this,Ht)).onSuccess)==null||i.call(n,r.data,h,f,v),(o=(a=w(this,Ht)).onSettled)==null||o.call(a,r.data,null,h,f,v)):(r==null?void 0:r.type)==="error"&&((c=(l=w(this,Ht)).onError)==null||c.call(l,r.error,h,f,v),(d=(u=w(this,Ht)).onSettled)==null||d.call(u,void 0,r.error,h,f,v))}this.listeners.forEach(h=>{h(w(this,hr))})})},Vh),Pt,Wh,xv=(Wh=class extends cs{constructor(t={}){super();H(this,Pt);this.config=t,B(this,Pt,new Map)}build(t,r,n){const i=r.queryKey,a=r.queryHash??vu(i,r);let o=this.get(a);return o||(o=new cv({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){w(this,Pt).has(t.queryHash)||(w(this,Pt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=w(this,Pt).get(t.queryHash);r&&(t.destroy(),r===t&&w(this,Pt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){be.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return w(this,Pt).get(t)}getAll(){return[...w(this,Pt).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Xd(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Xd(t,n)):r}notify(t){be.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){be.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){be.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Pt=new WeakMap,Wh),he,fr,mr,Vn,Wn,pr,Qn,Kn,Qh,yv=(Qh=class{constructor(e={}){H(this,he);H(this,fr);H(this,mr);H(this,Vn);H(this,Wn);H(this,pr);H(this,Qn);H(this,Kn);B(this,he,e.queryCache||new xv),B(this,fr,e.mutationCache||new pv),B(this,mr,e.defaultOptions||{}),B(this,Vn,new Map),B(this,Wn,new Map),B(this,pr,0)}mount(){ji(this,pr)._++,w(this,pr)===1&&(B(this,Qn,wu.subscribe(async e=>{e&&(await this.resumePausedMutations(),w(this,he).onFocus())})),B(this,Kn,Da.subscribe(async e=>{e&&(await this.resumePausedMutations(),w(this,he).onOnline())})))}unmount(){var e,t;ji(this,pr)._--,w(this,pr)===0&&((e=w(this,Qn))==null||e.call(this),B(this,Qn,void 0),(t=w(this,Kn))==null||t.call(this),B(this,Kn,void 0))}isFetching(e){return w(this,he).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return w(this,fr).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=w(this,he).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=w(this,he).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Er(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return w(this,he).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=w(this,he).get(n.queryHash),a=i==null?void 0:i.state.data,o=Zy(t,a);if(o!==void 0)return w(this,he).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return be.batch(()=>w(this,he).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=w(this,he).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=w(this,he);be.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=w(this,he);return be.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=be.batch(()=>w(this,he).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(De).catch(De)}invalidateQueries(e,t={}){return be.batch(()=>(w(this,he).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=be.batch(()=>w(this,he).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(De)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(De)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=w(this,he).build(this,t);return r.isStaleByTime(Er(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(De).catch(De)}fetchInfiniteQuery(e){return e.behavior=ih(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(De).catch(De)}ensureInfiniteQueryData(e){return e.behavior=ih(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Da.isOnline()?w(this,fr).resumePausedMutations():Promise.resolve()}getQueryCache(){return w(this,he)}getMutationCache(){return w(this,fr)}getDefaultOptions(){return w(this,mr)}setDefaultOptions(e){B(this,mr,e)}setQueryDefaults(e,t){w(this,Vn).set(dn(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...w(this,Vn).values()],r={};return t.forEach(n=>{si(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){w(this,Wn).set(dn(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...w(this,Wn).values()],r={};return t.forEach(n=>{si(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...w(this,mr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=vu(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===bu&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...w(this,mr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){w(this,he).clear(),w(this,fr).clear()}},he=new WeakMap,fr=new WeakMap,mr=new WeakMap,Vn=new WeakMap,Wn=new WeakMap,pr=new WeakMap,Qn=new WeakMap,Kn=new WeakMap,Qh),Pp=k.createContext(void 0),us=e=>{const t=k.useContext(Pp);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},vv=({client:e,children:t})=>(k.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Pp.Provider,{value:e,children:t})),Rp=k.createContext(!1),bv=()=>k.useContext(Rp);Rp.Provider;function wv(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var jv=k.createContext(wv()),Nv=()=>k.useContext(jv),_v=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},kv=e=>{k.useEffect(()=>{e.clearReset()},[e])},Sv=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||jp(r,[e.error,n])),Cv=e=>{if(e.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Ev=(e,t)=>e.isLoading&&e.isFetching&&!t,Pv=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,oh=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Rv(e,t,r){var h,f,v,p,y;const n=bv(),i=Nv(),a=us(),o=a.defaultQueryOptions(e);(f=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",Cv(o),_v(o,i),kv(i);const l=!a.getQueryCache().get(o.queryHash),[c]=k.useState(()=>new t(a,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(b=>{const g=d?c.subscribe(be.batchCalls(b)):De;return c.updateResult(),g},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),k.useEffect(()=>{c.setOptions(o)},[o,c]),Pv(o,u))throw oh(o,c,i);if(Sv({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((p=(v=a.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||p.call(v,o,u),o.experimental_prefetchInRender&&!un&&Ev(u,n)){const b=l?oh(o,c,i):(y=a.getQueryCache().get(o.queryHash))==null?void 0:y.promise;b==null||b.catch(De).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function pe(e,t){return Rv(e,uv)}function Ot(e,t){const r=us(),[n]=k.useState(()=>new gv(r,e));k.useEffect(()=>{n.setOptions(e)},[n,e]);const i=k.useSyncExternalStore(k.useCallback(o=>n.subscribe(be.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=k.useCallback((o,l)=>{n.mutate(o,l).catch(De)},[n]);if(i.error&&jp(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const lh=e=>{let t;const r=new Set,n=(u,d)=>{const h=typeof u=="function"?u(t):u;if(!Object.is(h,t)){const f=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(v=>v(t,f))}},i=()=>t,l={setState:n,getState:i,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u))},c=t=e(n,i,l);return l},Tv=e=>e?lh(e):lh,Lv=e=>e;function Ov(e,t=Lv){const r=Ur.useSyncExternalStore(e.subscribe,Ur.useCallback(()=>t(e.getState()),[e,t]),Ur.useCallback(()=>t(e.getInitialState()),[e,t]));return Ur.useDebugValue(r),r}const Av=e=>{const t=Tv(e),r=n=>Ov(t,n);return Object.assign(r,t),r},Mv=e=>Av;function Fv(e,t){let r;try{r=e()}catch{return}return{getItem:i=>{var a;const o=c=>c===null?null:JSON.parse(c,void 0),l=(a=r.getItem(i))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,a)=>r.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>r.removeItem(i)}}const oc=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return oc(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return oc(n)(r)}}}},Dv=(e,t)=>(r,n,i)=>{let a={storage:Fv(()=>localStorage),partialize:y=>y,version:0,merge:(y,b)=>({...b,...y}),...t},o=!1;const l=new Set,c=new Set;let u=a.storage;if(!u)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...y)},n,i);const d=()=>{const y=a.partialize({...n()});return u.setItem(a.name,{state:y,version:a.version})},h=i.setState;i.setState=(y,b)=>(h(y,b),d());const f=e((...y)=>(r(...y),d()),n,i);i.getInitialState=()=>f;let v;const p=()=>{var y,b;if(!u)return;o=!1,l.forEach(m=>{var x;return m((x=n())!=null?x:f)});const g=((b=a.onRehydrateStorage)==null?void 0:b.call(a,(y=n())!=null?y:f))||void 0;return oc(u.getItem.bind(u))(a.name).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==a.version){if(a.migrate){const x=a.migrate(m.state,m.version);return x instanceof Promise?x.then(j=>[!0,j]):[!0,x]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,m.state];return[!1,void 0]}).then(m=>{var x;const[j,N]=m;if(v=a.merge(N,(x=n())!=null?x:f),r(v,!0),j)return d()}).then(()=>{g==null||g(v,void 0),v=n(),o=!0,c.forEach(m=>m(v))}).catch(m=>{g==null||g(void 0,m)})};return i.persist={setOptions:y=>{a={...a,...y},y.storage&&(u=y.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},a.skipHydration||p(),v||f},Bv=Dv;function Tp(e,t){return function(){return e.apply(t,arguments)}}const{toString:Iv}=Object.prototype,{getPrototypeOf:Nu}=Object,{iterator:so,toStringTag:Lp}=Symbol,io=(e=>t=>{const r=Iv.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Nt=e=>(e=e.toLowerCase(),t=>io(t)===e),ao=e=>t=>typeof t===e,{isArray:ds}=Array,rs=ao("undefined");function gi(e){return e!==null&&!rs(e)&&e.constructor!==null&&!rs(e.constructor)&&Ke(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Op=Nt("ArrayBuffer");function Uv(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Op(e.buffer),t}const zv=ao("string"),Ke=ao("function"),Ap=ao("number"),xi=e=>e!==null&&typeof e=="object",$v=e=>e===!0||e===!1,na=e=>{if(io(e)!=="object")return!1;const t=Nu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Lp in e)&&!(so in e)},Hv=e=>{if(!xi(e)||gi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},qv=Nt("Date"),Vv=Nt("File"),Wv=Nt("Blob"),Qv=Nt("FileList"),Kv=e=>xi(e)&&Ke(e.pipe),Yv=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ke(e.append)&&((t=io(e))==="formdata"||t==="object"&&Ke(e.toString)&&e.toString()==="[object FormData]"))},Gv=Nt("URLSearchParams"),[Jv,Xv,Zv,e1]=["ReadableStream","Request","Response","Headers"].map(Nt),t1=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yi(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),ds(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(gi(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(n=0;n<o;n++)l=a[n],t.call(null,e[l],l,e)}}function Mp(e,t){if(gi(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const Vr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Fp=e=>!rs(e)&&e!==Vr;function lc(){const{caseless:e,skipUndefined:t}=Fp(this)&&this||{},r={},n=(i,a)=>{const o=e&&Mp(r,a)||a;na(r[o])&&na(i)?r[o]=lc(r[o],i):na(i)?r[o]=lc({},i):ds(i)?r[o]=i.slice():(!t||!rs(i))&&(r[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&yi(arguments[i],n);return r}const r1=(e,t,r,{allOwnKeys:n}={})=>(yi(t,(i,a)=>{r&&Ke(i)?e[a]=Tp(i,r):e[a]=i},{allOwnKeys:n}),e),n1=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),s1=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},i1=(e,t,r,n)=>{let i,a,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&Nu(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},a1=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},o1=e=>{if(!e)return null;if(ds(e))return e;let t=e.length;if(!Ap(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},l1=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Nu(Uint8Array)),c1=(e,t)=>{const n=(e&&e[so]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},u1=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},d1=Nt("HTMLFormElement"),h1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),ch=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),f1=Nt("RegExp"),Dp=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};yi(r,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(n[a]=o||i)}),Object.defineProperties(e,n)},m1=e=>{Dp(e,(t,r)=>{if(Ke(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Ke(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},p1=(e,t)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return ds(e)?n(e):n(String(e).split(t)),r},g1=()=>{},x1=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function y1(e){return!!(e&&Ke(e.append)&&e[Lp]==="FormData"&&e[so])}const v1=e=>{const t=new Array(10),r=(n,i)=>{if(xi(n)){if(t.indexOf(n)>=0)return;if(gi(n))return n;if(!("toJSON"in n)){t[i]=n;const a=ds(n)?[]:{};return yi(n,(o,l)=>{const c=r(o,i+1);!rs(c)&&(a[l]=c)}),t[i]=void 0,a}}return n};return r(e,0)},b1=Nt("AsyncFunction"),w1=e=>e&&(xi(e)||Ke(e))&&Ke(e.then)&&Ke(e.catch),Bp=((e,t)=>e?setImmediate:t?((r,n)=>(Vr.addEventListener("message",({source:i,data:a})=>{i===Vr&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Vr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ke(Vr.postMessage)),j1=typeof queueMicrotask<"u"?queueMicrotask.bind(Vr):typeof process<"u"&&process.nextTick||Bp,N1=e=>e!=null&&Ke(e[so]),P={isArray:ds,isArrayBuffer:Op,isBuffer:gi,isFormData:Yv,isArrayBufferView:Uv,isString:zv,isNumber:Ap,isBoolean:$v,isObject:xi,isPlainObject:na,isEmptyObject:Hv,isReadableStream:Jv,isRequest:Xv,isResponse:Zv,isHeaders:e1,isUndefined:rs,isDate:qv,isFile:Vv,isBlob:Wv,isRegExp:f1,isFunction:Ke,isStream:Kv,isURLSearchParams:Gv,isTypedArray:l1,isFileList:Qv,forEach:yi,merge:lc,extend:r1,trim:t1,stripBOM:n1,inherits:s1,toFlatObject:i1,kindOf:io,kindOfTest:Nt,endsWith:a1,toArray:o1,forEachEntry:c1,matchAll:u1,isHTMLForm:d1,hasOwnProperty:ch,hasOwnProp:ch,reduceDescriptors:Dp,freezeMethods:m1,toObjectSet:p1,toCamelCase:h1,noop:g1,toFiniteNumber:x1,findKey:Mp,global:Vr,isContextDefined:Fp,isSpecCompliantForm:y1,toJSONObject:v1,isAsyncFn:b1,isThenable:w1,setImmediate:Bp,asap:j1,isIterable:N1};function Q(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}P.inherits(Q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const Ip=Q.prototype,Up={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Up[e]={value:e}});Object.defineProperties(Q,Up);Object.defineProperty(Ip,"isAxiosError",{value:!0});Q.from=(e,t,r,n,i,a)=>{const o=Object.create(Ip);P.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Q.call(o,l,c,r,n,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const _1=null;function cc(e){return P.isPlainObject(e)||P.isArray(e)}function zp(e){return P.endsWith(e,"[]")?e.slice(0,-2):e}function uh(e,t,r){return e?e.concat(t).map(function(i,a){return i=zp(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function k1(e){return P.isArray(e)&&!e.some(cc)}const S1=P.toFlatObject(P,{},null,function(t){return/^is[A-Z]/.test(t)});function oo(e,t,r){if(!P.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=P.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!P.isUndefined(b[y])});const n=r.metaTokens,i=r.visitor||d,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(t);if(!P.isFunction(i))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(P.isDate(p))return p.toISOString();if(P.isBoolean(p))return p.toString();if(!c&&P.isBlob(p))throw new Q("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(p)||P.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,y,b){let g=p;if(p&&!b&&typeof p=="object"){if(P.endsWith(y,"{}"))y=n?y:y.slice(0,-2),p=JSON.stringify(p);else if(P.isArray(p)&&k1(p)||(P.isFileList(p)||P.endsWith(y,"[]"))&&(g=P.toArray(p)))return y=zp(y),g.forEach(function(x,j){!(P.isUndefined(x)||x===null)&&t.append(o===!0?uh([y],j,a):o===null?y:y+"[]",u(x))}),!1}return cc(p)?!0:(t.append(uh(b,y,a),u(p)),!1)}const h=[],f=Object.assign(S1,{defaultVisitor:d,convertValue:u,isVisitable:cc});function v(p,y){if(!P.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(p),P.forEach(p,function(g,m){(!(P.isUndefined(g)||g===null)&&i.call(t,g,P.isString(m)?m.trim():m,y,f))===!0&&v(g,y?y.concat(m):[m])}),h.pop()}}if(!P.isObject(e))throw new TypeError("data must be an object");return v(e),t}function dh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function _u(e,t){this._pairs=[],e&&oo(e,this,t)}const $p=_u.prototype;$p.append=function(t,r){this._pairs.push([t,r])};$p.toString=function(t){const r=t?function(n){return t.call(this,n,dh)}:dh;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function C1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Hp(e,t,r){if(!t)return e;const n=r&&r.encode||C1;P.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(t,r):a=P.isURLSearchParams(t)?t.toString():new _u(t,r).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class hh{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){P.forEach(this.handlers,function(n){n!==null&&t(n)})}}const qp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},E1=typeof URLSearchParams<"u"?URLSearchParams:_u,P1=typeof FormData<"u"?FormData:null,R1=typeof Blob<"u"?Blob:null,T1={isBrowser:!0,classes:{URLSearchParams:E1,FormData:P1,Blob:R1},protocols:["http","https","file","blob","url","data"]},ku=typeof window<"u"&&typeof document<"u",uc=typeof navigator=="object"&&navigator||void 0,L1=ku&&(!uc||["ReactNative","NativeScript","NS"].indexOf(uc.product)<0),O1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",A1=ku&&window.location.href||"http://localhost",M1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ku,hasStandardBrowserEnv:L1,hasStandardBrowserWebWorkerEnv:O1,navigator:uc,origin:A1},Symbol.toStringTag,{value:"Module"})),Te={...M1,...T1};function F1(e,t){return oo(e,new Te.classes.URLSearchParams,{visitor:function(r,n,i,a){return Te.isNode&&P.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function D1(e){return P.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function B1(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}function Vp(e){function t(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=r.length;return o=!o&&P.isArray(i)?i.length:o,c?(P.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!l):((!i[o]||!P.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],a)&&P.isArray(i[o])&&(i[o]=B1(i[o])),!l)}if(P.isFormData(e)&&P.isFunction(e.entries)){const r={};return P.forEachEntry(e,(n,i)=>{t(D1(n),i,r,0)}),r}return null}function I1(e,t,r){if(P.isString(e))try{return(t||JSON.parse)(e),P.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const vi={transitional:qp,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=P.isObject(t);if(a&&P.isHTMLForm(t)&&(t=new FormData(t)),P.isFormData(t))return i?JSON.stringify(Vp(t)):t;if(P.isArrayBuffer(t)||P.isBuffer(t)||P.isStream(t)||P.isFile(t)||P.isBlob(t)||P.isReadableStream(t))return t;if(P.isArrayBufferView(t))return t.buffer;if(P.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return F1(t,this.formSerializer).toString();if((l=P.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return oo(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),I1(t)):t}],transformResponse:[function(t){const r=this.transitional||vi.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(P.isResponse(t)||P.isReadableStream(t))return t;if(t&&P.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Q.from(l,Q.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Te.classes.FormData,Blob:Te.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],e=>{vi.headers[e]={}});const U1=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),z1=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&U1[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},fh=Symbol("internals");function js(e){return e&&String(e).trim().toLowerCase()}function sa(e){return e===!1||e==null?e:P.isArray(e)?e.map(sa):String(e)}function $1(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const H1=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Uo(e,t,r,n,i){if(P.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!P.isString(t)){if(P.isString(n))return t.indexOf(n)!==-1;if(P.isRegExp(n))return n.test(t)}}function q1(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function V1(e,t){const r=P.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,a,o){return this[n].call(this,t,i,a,o)},configurable:!0})})}let Ye=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function a(l,c,u){const d=js(c);if(!d)throw new Error("header name must be a non-empty string");const h=P.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||c]=sa(l))}const o=(l,c)=>P.forEach(l,(u,d)=>a(u,d,c));if(P.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(P.isString(t)&&(t=t.trim())&&!H1(t))o(z1(t),r);else if(P.isObject(t)&&P.isIterable(t)){let l={},c,u;for(const d of t){if(!P.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?P.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=js(t),t){const n=P.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return $1(i);if(P.isFunction(r))return r.call(this,i,n);if(P.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=js(t),t){const n=P.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Uo(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function a(o){if(o=js(o),o){const l=P.findKey(n,o);l&&(!r||Uo(n,n[l],l,r))&&(delete n[l],i=!0)}}return P.isArray(t)?t.forEach(a):a(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!t||Uo(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const r=this,n={};return P.forEach(this,(i,a)=>{const o=P.findKey(n,a);if(o){r[o]=sa(i),delete r[a];return}const l=t?q1(a):String(a).trim();l!==a&&delete r[a],r[l]=sa(i),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return P.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&P.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[fh]=this[fh]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=js(o);n[l]||(V1(i,o),n[l]=!0)}return P.isArray(t)?t.forEach(a):a(t),this}};Ye.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(Ye.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});P.freezeMethods(Ye);function zo(e,t){const r=this||vi,n=t||r,i=Ye.from(n.headers);let a=n.data;return P.forEach(e,function(l){a=l.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function Wp(e){return!!(e&&e.__CANCEL__)}function hs(e,t,r){Q.call(this,e??"canceled",Q.ERR_CANCELED,t,r),this.name="CanceledError"}P.inherits(hs,Q,{__CANCEL__:!0});function Qp(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Q("Request failed with status code "+r.status,[Q.ERR_BAD_REQUEST,Q.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function W1(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Q1(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[a];o||(o=u),r[i]=c,n[i]=u;let h=a,f=0;for(;h!==i;)f+=r[h++],h=h%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),u-o<t)return;const v=d&&u-d;return v?Math.round(f*1e3/v):void 0}}function K1(e,t){let r=0,n=1e3/t,i,a;const o=(u,d=Date.now())=>{r=d,i=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),h=d-r;h>=n?o(u,d):(i=u,a||(a=setTimeout(()=>{a=null,o(i)},n-h)))},()=>i&&o(i)]}const Ba=(e,t,r=3)=>{let n=0;const i=Q1(50,250);return K1(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-n,u=i(c),d=o<=l;n=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},r)},mh=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},ph=e=>(...t)=>P.asap(()=>e(...t)),Y1=Te.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Te.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Te.origin),Te.navigator&&/(msie|trident)/i.test(Te.navigator.userAgent)):()=>!0,G1=Te.hasStandardBrowserEnv?{write(e,t,r,n,i,a){const o=[e+"="+encodeURIComponent(t)];P.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),P.isString(n)&&o.push("path="+n),P.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function J1(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function X1(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Kp(e,t,r){let n=!J1(t);return e&&(n||r==!1)?X1(e,t):t}const gh=e=>e instanceof Ye?{...e}:e;function hn(e,t){t=t||{};const r={};function n(u,d,h,f){return P.isPlainObject(u)&&P.isPlainObject(d)?P.merge.call({caseless:f},u,d):P.isPlainObject(d)?P.merge({},d):P.isArray(d)?d.slice():d}function i(u,d,h,f){if(P.isUndefined(d)){if(!P.isUndefined(u))return n(void 0,u,h,f)}else return n(u,d,h,f)}function a(u,d){if(!P.isUndefined(d))return n(void 0,d)}function o(u,d){if(P.isUndefined(d)){if(!P.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,h){if(h in t)return n(u,d);if(h in e)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,h)=>i(gh(u),gh(d),h,!0)};return P.forEach(Object.keys({...e,...t}),function(d){const h=c[d]||i,f=h(e[d],t[d],d);P.isUndefined(f)&&h!==l||(r[d]=f)}),r}const Yp=e=>{const t=hn({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=Ye.from(o),t.url=Hp(Kp(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),P.isFormData(r)){if(Te.hasStandardBrowserEnv||Te.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(P.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,h])=>{u.includes(d.toLowerCase())&&o.set(d,h)})}}if(Te.hasStandardBrowserEnv&&(n&&P.isFunction(n)&&(n=n(t)),n||n!==!1&&Y1(t.url))){const c=i&&a&&G1.read(a);c&&o.set(i,c)}return t},Z1=typeof XMLHttpRequest<"u",eb=Z1&&function(e){return new Promise(function(r,n){const i=Yp(e);let a=i.data;const o=Ye.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,d,h,f,v,p;function y(){v&&v(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function g(){if(!b)return;const x=Ye.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:x,config:e,request:b};Qp(function(L){r(L),y()},function(L){n(L),y()},N),b=null}"onloadend"in b?b.onloadend=g:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(g)},b.onabort=function(){b&&(n(new Q("Request aborted",Q.ECONNABORTED,e,b)),b=null)},b.onerror=function(j){const N=j&&j.message?j.message:"Network Error",C=new Q(N,Q.ERR_NETWORK,e,b);C.event=j||null,n(C),b=null},b.ontimeout=function(){let j=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const N=i.transitional||qp;i.timeoutErrorMessage&&(j=i.timeoutErrorMessage),n(new Q(j,N.clarifyTimeoutError?Q.ETIMEDOUT:Q.ECONNABORTED,e,b)),b=null},a===void 0&&o.setContentType(null),"setRequestHeader"in b&&P.forEach(o.toJSON(),function(j,N){b.setRequestHeader(N,j)}),P.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),l&&l!=="json"&&(b.responseType=i.responseType),u&&([f,p]=Ba(u,!0),b.addEventListener("progress",f)),c&&b.upload&&([h,v]=Ba(c),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(d=x=>{b&&(n(!x||x.type?new hs(null,e,b):x),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const m=W1(i.url);if(m&&Te.protocols.indexOf(m)===-1){n(new Q("Unsupported protocol "+m+":",Q.ERR_BAD_REQUEST,e));return}b.send(a||null)})},tb=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const a=function(u){if(!i){i=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Q?d:new hs(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,a(new Q(`timeout ${t} of ms exceeded`,Q.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>P.asap(l),c}},rb=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},nb=async function*(e,t){for await(const r of sb(e))yield*rb(r,t)},sb=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},xh=(e,t,r,n)=>{const i=nb(e,t);let a=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){l(),c.close();return}let h=d.byteLength;if(r){let f=a+=h;r(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},yh=64*1024,{isFunction:zi}=P,ib=(({Request:e,Response:t})=>({Request:e,Response:t}))(P.global),{ReadableStream:vh,TextEncoder:bh}=P.global,wh=(e,...t)=>{try{return!!e(...t)}catch{return!1}},ab=e=>{e=P.merge.call({skipUndefined:!0},ib,e);const{fetch:t,Request:r,Response:n}=e,i=t?zi(t):typeof fetch=="function",a=zi(r),o=zi(n);if(!i)return!1;const l=i&&zi(vh),c=i&&(typeof bh=="function"?(p=>y=>p.encode(y))(new bh):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=a&&l&&wh(()=>{let p=!1;const y=new r(Te.origin,{body:new vh,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!y}),d=o&&l&&wh(()=>P.isReadableStream(new n("").body)),h={stream:d&&(p=>p.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!h[p]&&(h[p]=(y,b)=>{let g=y&&y[p];if(g)return g.call(y);throw new Q(`Response type '${p}' is not supported`,Q.ERR_NOT_SUPPORT,b)})});const f=async p=>{if(p==null)return 0;if(P.isBlob(p))return p.size;if(P.isSpecCompliantForm(p))return(await new r(Te.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(P.isArrayBufferView(p)||P.isArrayBuffer(p))return p.byteLength;if(P.isURLSearchParams(p)&&(p=p+""),P.isString(p))return(await c(p)).byteLength},v=async(p,y)=>{const b=P.toFiniteNumber(p.getContentLength());return b??f(y)};return async p=>{let{url:y,method:b,data:g,signal:m,cancelToken:x,timeout:j,onDownloadProgress:N,onUploadProgress:C,responseType:L,headers:A,withCredentials:E="same-origin",fetchOptions:S}=Yp(p),D=t||fetch;L=L?(L+"").toLowerCase():"text";let O=tb([m,x&&x.toAbortSignal()],j),$=null;const _=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let R;try{if(C&&u&&b!=="get"&&b!=="head"&&(R=await v(A,g))!==0){let te=new r(y,{method:"POST",body:g,duplex:"half"}),ie;if(P.isFormData(g)&&(ie=te.headers.get("content-type"))&&A.setContentType(ie),te.body){const[er,nt]=mh(R,Ba(ph(C)));g=xh(te.body,yh,er,nt)}}P.isString(E)||(E=E?"include":"omit");const T=a&&"credentials"in r.prototype,K={...S,signal:O,method:b.toUpperCase(),headers:A.normalize().toJSON(),body:g,duplex:"half",credentials:T?E:void 0};$=a&&new r(y,K);let M=await(a?D($,S):D(y,K));const q=d&&(L==="stream"||L==="response");if(d&&(N||q&&_)){const te={};["status","statusText","headers"].forEach(pn=>{te[pn]=M[pn]});const ie=P.toFiniteNumber(M.headers.get("content-length")),[er,nt]=N&&mh(ie,Ba(ph(N),!0))||[];M=new n(xh(M.body,yh,er,()=>{nt&&nt(),_&&_()}),te)}L=L||"text";let W=await h[P.findKey(h,L)||"text"](M,p);return!q&&_&&_(),await new Promise((te,ie)=>{Qp(te,ie,{data:W,headers:Ye.from(M.headers),status:M.status,statusText:M.statusText,config:p,request:$})})}catch(T){throw _&&_(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new Q("Network Error",Q.ERR_NETWORK,p,$),{cause:T.cause||T}):Q.from(T,T&&T.code,p,$)}}},ob=new Map,Gp=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:i}=t,a=[n,i,r];let o=a.length,l=o,c,u,d=ob;for(;l--;)c=a[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:ab(t)),d=u;return u};Gp();const dc={http:_1,xhr:eb,fetch:{get:Gp}};P.forEach(dc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const jh=e=>`- ${e}`,lb=e=>P.isFunction(e)||e===null||e===!1,Jp={getAdapter:(e,t)=>{e=P.isArray(e)?e:[e];const{length:r}=e;let n,i;const a={};for(let o=0;o<r;o++){n=e[o];let l;if(i=n,!lb(n)&&(i=dc[(l=String(n)).toLowerCase()],i===void 0))throw new Q(`Unknown adapter '${l}'`);if(i&&(P.isFunction(i)||(i=i.get(t))))break;a[l||"#"+o]=i}if(!i){const o=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(jh).join(`
`):" "+jh(o[0]):"as no adapter specified";throw new Q("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:dc};function $o(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new hs(null,e)}function Nh(e){return $o(e),e.headers=Ye.from(e.headers),e.data=zo.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Jp.getAdapter(e.adapter||vi.adapter,e)(e).then(function(n){return $o(e),n.data=zo.call(e,e.transformResponse,n),n.headers=Ye.from(n.headers),n},function(n){return Wp(n)||($o(e),n&&n.response&&(n.response.data=zo.call(e,e.transformResponse,n.response),n.response.headers=Ye.from(n.response.headers))),Promise.reject(n)})}const Xp="1.12.2",lo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{lo[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const _h={};lo.transitional=function(t,r,n){function i(a,o){return"[Axios v"+Xp+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(t===!1)throw new Q(i(o," has been removed"+(r?" in "+r:"")),Q.ERR_DEPRECATED);return r&&!_h[o]&&(_h[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,l):!0}};lo.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function cb(e,t,r){if(typeof e!="object")throw new Q("options must be an object",Q.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new Q("option "+a+" must be "+c,Q.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Q("Unknown option "+a,Q.ERR_BAD_OPTION)}}const ia={assertOptions:cb,validators:lo},kt=ia.validators;let nn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new hh,response:new hh}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=hn(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&ia.assertOptions(n,{silentJSONParsing:kt.transitional(kt.boolean),forcedJSONParsing:kt.transitional(kt.boolean),clarifyTimeoutError:kt.transitional(kt.boolean)},!1),i!=null&&(P.isFunction(i)?r.paramsSerializer={serialize:i}:ia.assertOptions(i,{encode:kt.function,serialize:kt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ia.assertOptions(r,{baseUrl:kt.spelling("baseURL"),withXsrfToken:kt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&P.merge(a.common,a[r.method]);a&&P.forEach(["delete","get","head","post","put","patch","common"],p=>{delete a[p]}),r.headers=Ye.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,h=0,f;if(!c){const p=[Nh.bind(this),void 0];for(p.unshift(...l),p.push(...u),f=p.length,d=Promise.resolve(r);h<f;)d=d.then(p[h++],p[h++]);return d}f=l.length;let v=r;for(;h<f;){const p=l[h++],y=l[h++];try{v=p(v)}catch(b){y.call(this,b);break}}try{d=Nh.call(this,v)}catch(p){return Promise.reject(p)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=hn(this.defaults,t);const r=Kp(t.baseURL,t.url,t.allowAbsoluteUrls);return Hp(r,t.params,t.paramsSerializer)}};P.forEach(["delete","get","head","options"],function(t){nn.prototype[t]=function(r,n){return this.request(hn(n||{},{method:t,url:r,data:(n||{}).data}))}});P.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,l){return this.request(hn(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}nn.prototype[t]=r(),nn.prototype[t+"Form"]=r(!0)});let ub=class Zp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,l){n.reason||(n.reason=new hs(a,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Zp(function(i){t=i}),cancel:t}}};function db(e){return function(r){return e.apply(null,r)}}function hb(e){return P.isObject(e)&&e.isAxiosError===!0}const hc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hc).forEach(([e,t])=>{hc[t]=e});function e0(e){const t=new nn(e),r=Tp(nn.prototype.request,t);return P.extend(r,nn.prototype,t,{allOwnKeys:!0}),P.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return e0(hn(e,i))},r}const z=e0(vi);z.Axios=nn;z.CanceledError=hs;z.CancelToken=ub;z.isCancel=Wp;z.VERSION=Xp;z.toFormData=oo;z.AxiosError=Q;z.Cancel=z.CanceledError;z.all=function(t){return Promise.all(t)};z.spread=db;z.isAxiosError=hb;z.mergeConfig=hn;z.AxiosHeaders=Ye;z.formToJSON=e=>Vp(P.isHTMLForm(e)?new FormData(e):e);z.getAdapter=Jp.getAdapter;z.HttpStatusCode=hc;z.default=z;const{Axios:aw,AxiosError:ow,CanceledError:lw,isCancel:cw,CancelToken:uw,VERSION:dw,all:hw,Cancel:fw,isAxiosError:mw,spread:pw,toFormData:gw,AxiosHeaders:xw,HttpStatusCode:yw,formToJSON:vw,getAdapter:bw,mergeConfig:ww}=z,Mt=Object.create(null);Mt.open="0";Mt.close="1";Mt.ping="2";Mt.pong="3";Mt.message="4";Mt.upgrade="5";Mt.noop="6";const aa=Object.create(null);Object.keys(Mt).forEach(e=>{aa[Mt[e]]=e});const fc={type:"error",data:"parser error"},t0=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",r0=typeof ArrayBuffer=="function",n0=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Su=({type:e,data:t},r,n)=>t0&&t instanceof Blob?r?n(t):kh(t,n):r0&&(t instanceof ArrayBuffer||n0(t))?r?n(t):kh(new Blob([t]),n):n(Mt[e]+(t||"")),kh=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function Sh(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Ho;function fb(e,t){if(t0&&e.data instanceof Blob)return e.data.arrayBuffer().then(Sh).then(t);if(r0&&(e.data instanceof ArrayBuffer||n0(e.data)))return t(Sh(e.data));Su(e,!1,r=>{Ho||(Ho=new TextEncoder),t(Ho.encode(r))})}const Ch="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ps=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Ch.length;e++)Ps[Ch.charCodeAt(e)]=e;const mb=e=>{let t=e.length*.75,r=e.length,n,i=0,a,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),d=new Uint8Array(u);for(n=0;n<r;n+=4)a=Ps[e.charCodeAt(n)],o=Ps[e.charCodeAt(n+1)],l=Ps[e.charCodeAt(n+2)],c=Ps[e.charCodeAt(n+3)],d[i++]=a<<2|o>>4,d[i++]=(o&15)<<4|l>>2,d[i++]=(l&3)<<6|c&63;return u},pb=typeof ArrayBuffer=="function",Cu=(e,t)=>{if(typeof e!="string")return{type:"message",data:s0(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:gb(e.substring(1),t)}:aa[r]?e.length>1?{type:aa[r],data:e.substring(1)}:{type:aa[r]}:fc},gb=(e,t)=>{if(pb){const r=mb(e);return s0(r,t)}else return{base64:!0,data:e}},s0=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},i0="",xb=(e,t)=>{const r=e.length,n=new Array(r);let i=0;e.forEach((a,o)=>{Su(a,!1,l=>{n[o]=l,++i===r&&t(n.join(i0))})})},yb=(e,t)=>{const r=e.split(i0),n=[];for(let i=0;i<r.length;i++){const a=Cu(r[i],t);if(n.push(a),a.type==="error")break}return n};function vb(){return new TransformStream({transform(e,t){fb(e,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(r)})}})}let qo;function $i(e){return e.reduce((t,r)=>t+r.length,0)}function Hi(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function bb(e,t){qo||(qo=new TextDecoder);const r=[];let n=0,i=-1,a=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if($i(r)<1)break;const c=Hi(r,1);a=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if($i(r)<2)break;const c=Hi(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if($i(r)<8)break;const c=Hi(r,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(fc);break}i=d*Math.pow(2,32)+u.getUint32(4),n=3}else{if($i(r)<i)break;const c=Hi(r,i);l.enqueue(Cu(a?c:qo.decode(c),t)),n=0}if(i===0||i>e){l.enqueue(fc);break}}}})}const a0=4;function ye(e){if(e)return wb(e)}function wb(e){for(var t in ye.prototype)e[t]=ye.prototype[t];return e}ye.prototype.on=ye.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};ye.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};ye.prototype.off=ye.prototype.removeListener=ye.prototype.removeAllListeners=ye.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};ye.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this};ye.prototype.emitReserved=ye.prototype.emit;ye.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};ye.prototype.hasListeners=function(e){return!!this.listeners(e).length};const co=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),lt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),jb="arraybuffer";function o0(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const Nb=lt.setTimeout,_b=lt.clearTimeout;function uo(e,t){t.useNativeTimers?(e.setTimeoutFn=Nb.bind(lt),e.clearTimeoutFn=_b.bind(lt)):(e.setTimeoutFn=lt.setTimeout.bind(lt),e.clearTimeoutFn=lt.clearTimeout.bind(lt))}const kb=1.33;function Sb(e){return typeof e=="string"?Cb(e):Math.ceil((e.byteLength||e.size)*kb)}function Cb(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function l0(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Eb(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function Pb(e){let t={},r=e.split("&");for(let n=0,i=r.length;n<i;n++){let a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class Rb extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class Eu extends ye{constructor(t){super(),this.writable=!1,uo(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new Rb(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Cu(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=Eb(t);return r.length?"?"+r:""}}class Tb extends Eu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};yb(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,xb(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=l0()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let c0=!1;try{c0=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Lb=c0;function Ob(){}class Ab extends Tb{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class At extends ye{constructor(t,r,n){super(),this.createRequest=t,uo(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=o0(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=At.requestsCount++,At.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Ob,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete At.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}At.requestsCount=0;At.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Eh);else if(typeof addEventListener=="function"){const e="onpagehide"in lt?"pagehide":"unload";addEventListener(e,Eh,!1)}}function Eh(){for(let e in At.requests)At.requests.hasOwnProperty(e)&&At.requests[e].abort()}const Mb=function(){const e=u0({xdomain:!1});return e&&e.responseType!==null}();class Fb extends Ab{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=Mb&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new At(u0,this.uri(),t)}}function u0(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Lb))return new XMLHttpRequest}catch{}if(!t)try{return new lt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const d0=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Db extends Eu{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=d0?{}:o0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;Su(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}i&&co(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=l0()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const Vo=lt.WebSocket||lt.MozWebSocket;class Bb extends Db{createSocket(t,r,n){return d0?new Vo(t,r,n):r?new Vo(t,r):new Vo(t)}doWrite(t,r){this.ws.send(r)}}class Ib extends Eu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=bb(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),i=vb();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const a=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;this._writer.write(n).then(()=>{i&&co(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Ub={websocket:Bb,webtransport:Ib,polling:Fb},zb=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,$b=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function mc(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=zb.exec(e||""),a={},o=14;for(;o--;)a[$b[o]]=i[o]||"";return r!=-1&&n!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=Hb(a,a.path),a.queryKey=qb(a,a.query),a}function Hb(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function qb(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(r[i]=a)}),r}const pc=typeof addEventListener=="function"&&typeof removeEventListener=="function",oa=[];pc&&addEventListener("offline",()=>{oa.forEach(e=>e())},!1);class Pr extends ye{constructor(t,r){if(super(),this.binaryType=jb,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=mc(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=mc(r.host).host);uo(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Pb(this.opts.query)),pc&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},oa.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=a0,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Pr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Pr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=Sb(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,co(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:t,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Pr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),pc&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=oa.indexOf(this._offlineEventListener);n!==-1&&oa.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Pr.protocol=a0;class Vb extends Pr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;Pr.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Pr.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=r.name,this.emitReserved("upgradeError",f)}}))};function a(){n||(n=!0,d(),r.close(),r=null)}const o=h=>{const f=new Error("probe error: "+h);f.transport=r.name,a(),this.emitReserved("upgradeError",f)};function l(){o("transport closed")}function c(){o("socket closed")}function u(h){r&&h.name!==r.name&&a()}const d=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};r.once("open",i),r.once("error",o),r.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let Wb=class extends Vb{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>Ub[i]).filter(i=>!!i)),super(t,n)}};function Qb(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=mc(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const Kb=typeof ArrayBuffer=="function",Yb=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,h0=Object.prototype.toString,Gb=typeof Blob=="function"||typeof Blob<"u"&&h0.call(Blob)==="[object BlobConstructor]",Jb=typeof File=="function"||typeof File<"u"&&h0.call(File)==="[object FileConstructor]";function Pu(e){return Kb&&(e instanceof ArrayBuffer||Yb(e))||Gb&&e instanceof Blob||Jb&&e instanceof File}function la(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(la(e[r]))return!0;return!1}if(Pu(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return la(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&la(e[r]))return!0;return!1}function Xb(e){const t=[],r=e.data,n=e;return n.data=gc(r,t),n.attachments=t.length,{packet:n,buffers:t}}function gc(e,t){if(!e)return e;if(Pu(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=gc(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=gc(e[n],t));return r}return e}function Zb(e,t){return e.data=xc(e.data,t),delete e.attachments,e}function xc(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=xc(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=xc(e[r],t));return e}const e2=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],t2=5;var X;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(X||(X={}));class r2{constructor(t){this.replacer=t}encode(t){return(t.type===X.EVENT||t.type===X.ACK)&&la(t)?this.encodeAsBinary({type:t.type===X.EVENT?X.BINARY_EVENT:X.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===X.BINARY_EVENT||t.type===X.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=Xb(t),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function Ph(e){return Object.prototype.toString.call(e)==="[object Object]"}class Ru extends ye{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===X.BINARY_EVENT;n||r.type===X.BINARY_ACK?(r.type=n?X.EVENT:X.ACK,this.reconstructor=new n2(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Pu(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(X[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===X.BINARY_EVENT||n.type===X.BINARY_ACK){const a=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(a,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(a,r)}else n.nsp="/";const i=t.charAt(r+1);if(i!==""&&Number(i)==i){const a=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}n.id=Number(t.substring(a,r+1))}if(t.charAt(++r)){const a=this.tryParse(t.substr(r));if(Ru.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case X.CONNECT:return Ph(r);case X.DISCONNECT:return r===void 0;case X.CONNECT_ERROR:return typeof r=="string"||Ph(r);case X.EVENT:case X.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&e2.indexOf(r[0])===-1);case X.ACK:case X.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class n2{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=Zb(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const s2=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ru,Encoder:r2,get PacketType(){return X},protocol:t2},Symbol.toStringTag,{value:"Module"}));function yt(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const i2=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class f0 extends ye{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[yt(t,"open",this.onopen.bind(this)),yt(t,"packet",this.onpacket.bind(this)),yt(t,"error",this.onerror.bind(this)),yt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,i,a;if(i2.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:X.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,h=r.pop();this._registerAckCallback(d,h),o.id=d}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(a),r.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((n,i)=>{const a=(o,l)=>o?i(o):n(l);a.withError=!0,r.push(a),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...a)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:X.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case X.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case X.EVENT:case X.BINARY_EVENT:this.onevent(t);break;case X.ACK:case X.BINARY_ACK:this.onack(t);break;case X.DISCONNECT:this.ondisconnect();break;case X.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:X.ACK,id:t,data:i}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:X.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function fs(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}fs.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};fs.prototype.reset=function(){this.attempts=0};fs.prototype.setMin=function(e){this.ms=e};fs.prototype.setMax=function(e){this.max=e};fs.prototype.setJitter=function(e){this.jitter=e};class yc extends ye{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,uo(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new fs({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||s2;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Wb(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=yt(r,"open",function(){n.onopen(),t&&t()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=yt(r,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(yt(t,"ping",this.onping.bind(this)),yt(t,"data",this.ondata.bind(this)),yt(t,"error",this.onerror.bind(this)),yt(t,"close",this.onclose.bind(this)),yt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){co(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new f0(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Ns={};function ca(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=Qb(e,t.path||"/socket.io"),n=r.source,i=r.id,a=r.path,o=Ns[i]&&a in Ns[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new yc(n,t):(Ns[i]||(Ns[i]=new yc(n,t)),c=Ns[i]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(ca,{Manager:yc,Socket:f0,io:ca,connect:ca});const V=Mv()(Bv((e,t)=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!0},error_message:null},current_search_filters:{location:"",check_in:null,check_out:null,num_guests:1,price_min:0,price_max:1e4,property_types:[],amenities:[],bedrooms:0,bathrooms:0},ui_preferences:{preferred_language:"ar"},notification_state:{unread_count:0,last_checked:null},realtime_state:{socket:null,is_connected:!1},login_user:async(r,n)=>{var i,a;console.log("Starting login process...",{identifier:r,password:"[REDACTED]"}),e(()=>({authentication_state:{...t().authentication_state,authentication_status:{...t().authentication_state.authentication_status,is_loading:!0},error_message:null}}));try{const o="https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai";console.log("Making login request to:",`${o}/api/auth/login`);const l=await z.post(`${o}/api/auth/login`,{identifier:r,password:n},{headers:{"Content-Type":"application/json"}});console.log("Login response received:",l.status,l.data);const{user:c,token:u}=l.data;e(()=>({authentication_state:{current_user:c,auth_token:u,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null}})),console.log("Login successful, user authenticated:",c.id),t().initialize_socket()}catch(o){console.error("Login error details:",o);const l=((a=(i=o.response)==null?void 0:i.data)==null?void 0:a.message)||o.message||"Login failed";throw e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:l}})),new Error(l)}},logout_user:()=>{t().disconnect_socket(),e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null}}))},register_user:async r=>{var n,i,a,o;e(()=>({authentication_state:{...t().authentication_state,authentication_status:{...t().authentication_state.authentication_status,is_loading:!0},error_message:null}}));try{const l="https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai";console.log("Registering user with API URL:",l),console.log("Registration data:",r);const c=await z.post(`${l}/api/auth/register`,r,{headers:{"Content-Type":"application/json"}});console.log("Registration response:",c.data);const{user:u,token:d}=c.data;e(()=>({authentication_state:{current_user:u,auth_token:d,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null}})),console.log("User registered successfully, awaiting OTP verification")}catch(l){console.error("Registration error:",l);let c="Registration failed";throw((n=l.response)==null?void 0:n.status)===502?c="Server is temporarily unavailable. Please try again later.":((i=l.response)==null?void 0:i.status)===409?c="User already exists with this phone number or email.":(o=(a=l.response)==null?void 0:a.data)!=null&&o.message?c=l.response.data.message:l.code==="NETWORK_ERROR"||!l.response?c="Network error. Please check your connection and try again.":c=l.message||"Registration failed",e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:c}})),new Error(c)}},verify_phone:async(r,n)=>{var i,a,o,l,c,u,d;try{const h="https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai";console.log("Verifying OTP with API URL:",h),console.log("OTP verification data:",{phone_number:r,otp:n}),await z.post(`${h}/api/auth/verify-otp`,{phone_number:r,otp:n},{headers:{"Content-Type":"application/json"}}),console.log("OTP verification successful");const{current_user:f}=t().authentication_state;f&&(e(()=>({authentication_state:{...t().authentication_state,current_user:{...f,is_phone_verified:!0},authentication_status:{is_authenticated:!0,is_loading:!1}}})),console.log("User is now fully authenticated"),t().initialize_socket())}catch(h){console.error("OTP verification error:",h);let f="OTP verification failed";throw((i=h.response)==null?void 0:i.status)===502?f="Server is temporarily unavailable. Please try again later.":((a=h.response)==null?void 0:a.status)===400&&((l=(o=h.response)==null?void 0:o.data)==null?void 0:l.error_code)==="INVALID_OTP"?f="Invalid OTP code. Please try again.":((c=h.response)==null?void 0:c.status)===404?f="User not found. Please register first.":(d=(u=h.response)==null?void 0:u.data)!=null&&d.message?f=h.response.data.message:h.code==="NETWORK_ERROR"||!h.response?f="Network error. Please check your connection and try again.":f=h.message||"OTP verification failed",e(()=>({authentication_state:{...t().authentication_state,error_message:f,authentication_status:{is_authenticated:!1,is_loading:!1}}})),new Error(f)}},initialize_auth:async()=>{console.log("Initializing auth...");const{authentication_state:r}=t(),n=r.auth_token;if(console.log("Stored token:",n?"exists":"none"),!n){console.log("No token found, setting not authenticated"),e(()=>({authentication_state:{...t().authentication_state,authentication_status:{...t().authentication_state.authentication_status,is_loading:!1}}}));return}try{console.log("Verifying token...");const o=(await z.get("https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/users/me",{headers:{Authorization:`Bearer ${n}`}})).data;console.log("Token valid, user authenticated:",o.id),e(()=>({authentication_state:{current_user:o,auth_token:n,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null}})),t().initialize_socket()}catch(i){console.log("Token invalid, clearing auth state:",i),e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null}}))}},clear_auth_error:()=>{e(()=>({authentication_state:{...t().authentication_state,error_message:null}}))},update_user_profile:async r=>{var a,o;const{auth_token:n,current_user:i}=t().authentication_state;if(!n||!i)throw new Error("Not authenticated");try{const u=(await z.patch("https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/users/me",r,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}})).data;e(()=>({authentication_state:{...t().authentication_state,current_user:u}}))}catch(l){const c=((o=(a=l.response)==null?void 0:a.data)==null?void 0:o.message)||l.message||"Profile update failed";throw new Error(c)}},update_search_filters:r=>{e(()=>({current_search_filters:{...t().current_search_filters,...r}}))},clear_search_filters:()=>{e(()=>({current_search_filters:{location:"",check_in:null,check_out:null,num_guests:1,price_min:0,price_max:1e4,property_types:[],amenities:[],bedrooms:0,bathrooms:0}}))},set_language:r=>{e(()=>({ui_preferences:{...t().ui_preferences,preferred_language:r}}))},update_unread_count:r=>{e(()=>({notification_state:{...t().notification_state,unread_count:r}}))},mark_notifications_checked:()=>{e(()=>({notification_state:{...t().notification_state,last_checked:new Date().toISOString()}}))},initialize_socket:()=>{var n;const{auth_token:r}=t().authentication_state;if(!(!r||(n=t().realtime_state.socket)!=null&&n.connected))try{const a=ca("https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai",{auth:{token:r},reconnection:!0,reconnectionAttempts:3,reconnectionDelay:1e3,timeout:5e3});a.on("connect",()=>{e(()=>({realtime_state:{...t().realtime_state,is_connected:!0}}))}),a.on("connect_error",()=>{}),a.on("disconnect",()=>{e(()=>({realtime_state:{...t().realtime_state,is_connected:!1}}))}),a.on("message_received",()=>{const{unread_count:o}=t().notification_state;t().update_unread_count(o+1)}),a.on("booking_status_updated",()=>{}),e(()=>({realtime_state:{socket:a,is_connected:a.connected}}))}catch{}},disconnect_socket:()=>{const{socket:r}=t().realtime_state;r&&(r.disconnect(),e(()=>({realtime_state:{socket:null,is_connected:!1}})))}}),{name:"dar-libya-app-storage",partialize:e=>({authentication_state:{current_user:e.authentication_state.current_user,auth_token:e.authentication_state.auth_token,authentication_status:{is_authenticated:e.authentication_state.authentication_status.is_authenticated,is_loading:!1},error_message:null},current_search_filters:e.current_search_filters,ui_preferences:e.ui_preferences,notification_state:{unread_count:0,last_checked:e.notification_state.last_checked}})})),m0=()=>{const e=Ft(),t=V(x=>x.authentication_state.current_user),r=V(x=>x.authentication_state.authentication_status.is_authenticated),n=V(x=>x.notification_state.unread_count),i=V(x=>x.logout_user),a=V(x=>x.set_language),o=V(x=>x.ui_preferences.preferred_language),[l,c]=k.useState(!1),[u,d]=k.useState(!1),[h,f]=k.useState(!1),v=k.useRef(null),p=k.useRef(null),{data:y}=pe({queryKey:["unread-messages"],queryFn:async()=>{if(!r||!(t!=null&&t.id))return{count:0};try{const j=(await z.get("https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/messages",{headers:{Authorization:`Bearer ${V.getState().authentication_state.auth_token}`}})).data.reduce((N,C)=>N+C.unread_count,0);return V.getState().update_unread_count(j),{count:j}}catch(x){return console.error("Failed to fetch messages:",x),{count:0}}},enabled:r&&!!(t!=null&&t.id),refetchInterval:3e4,staleTime:25e3});k.useEffect(()=>{const x=j=>{v.current&&!v.current.contains(j.target)&&d(!1),p.current&&!p.current.contains(j.target)&&f(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const b=x=>{a(x),f(!1)},g=async()=>{try{await z.post("https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/auth/logout",{},{headers:{Authorization:`Bearer ${V.getState().authentication_state.auth_token}`}})}catch(x){console.error("Logout API call failed:",x)}finally{i(),e("/"),d(!1)}},m=()=>t!=null&&t.name?t.name.charAt(0).toUpperCase():"U";return s.jsx(s.Fragment,{children:s.jsxs("nav",{className:`bg-white shadow-lg border-b border-gray-200 sticky top-0 z-50 ${o==="ar"?"rtl":"ltr"}`,children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsx("div",{className:"flex items-center",children:s.jsx(U,{to:"/",className:`text-2xl font-bold text-blue-600 hover:text-blue-700 transition-colors ${o==="ar"?"ml-4":"mr-4"}`,onClick:()=>{c(!1),d(!1)},children:"Dar Libya"})}),s.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[!r&&s.jsx(U,{to:"/signup?account_type=host",className:"px-4 py-2 text-gray-700 hover:text-gray-900 font-medium transition-colors",children:o==="ar"?"كن مضيفاً":"Become a Host"}),r&&(t==null?void 0:t.account_type)==="guest"&&s.jsx(U,{to:"/signup?account_type=host",className:"px-4 py-2 text-gray-700 hover:text-gray-900 font-medium transition-colors",children:o==="ar"?"تحويل إلى الاستضافة":"Switch to Hosting"}),r&&(t==null?void 0:t.account_type)==="host"&&s.jsxs(s.Fragment,{children:[s.jsx(U,{to:"/host/dashboard",className:"px-4 py-2 text-gray-700 hover:text-gray-900 font-medium transition-colors",children:o==="ar"?"لوحة التحكم":"Dashboard"}),s.jsx(U,{to:"/host/listing/new",className:"px-4 py-2 text-gray-700 hover:text-gray-900 font-medium transition-colors",children:o==="ar"?"إضافة إعلان":"New Listing"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[s.jsxs("div",{className:"relative",ref:p,children:[s.jsxs("button",{onClick:()=>{f(!h),d(!1)},className:`px-3 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-md transition-colors ${o==="ar"?"ml-2":"mr-2"}`,"aria-label":"Change language",children:[o==="ar"?"العربية":"English",s.jsx("svg",{className:"inline-block w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h&&s.jsxs("div",{className:"absolute right-0 mt-2 w-32 bg-white rounded-md shadow-lg border border-gray-200 overflow-hidden",children:[s.jsx("button",{onClick:()=>b("ar"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:"العربية"}),s.jsx("button",{onClick:()=>b("en"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:"English"})]})]}),r?s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(U,{to:"/inbox",className:`relative p-2 text-gray-700 hover:text-gray-900 transition-colors ${o==="ar"?"ml-2":"mr-2"}`,"aria-label":"Messages",children:[s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(n>0||(y==null?void 0:y.count)>0)&&s.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-500 rounded-full",children:n||(y==null?void 0:y.count)})]}),s.jsxs("div",{className:"relative",ref:v,children:[s.jsxs("button",{onClick:()=>{d(!u),f(!1),c(!1)},className:"flex items-center space-x-2 p-2 rounded-full hover:bg-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"User menu",children:[t!=null&&t.profile_picture_url?s.jsx("img",{src:t.profile_picture_url,alt:t.name,className:"w-8 h-8 rounded-full object-cover"}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-white font-medium",children:m()}),s.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&s.jsxs("div",{className:`absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 overflow-hidden ${o==="ar"?"text-right":"text-left"}`,children:[s.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:t==null?void 0:t.name}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:t==null?void 0:t.email})]}),s.jsx(U,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>d(!1),children:o==="ar"?"ملفي الشخصي":"My Profile"}),(t==null?void 0:t.account_type)==="host"&&s.jsx(U,{to:"/host/dashboard",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>d(!1),children:o==="ar"?"لوحة التحكم":"Host Dashboard"}),s.jsx("button",{onClick:g,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:o==="ar"?"تسجيل الخروج":"Log Out"})]})]})]}):s.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[s.jsx(U,{to:"/login",className:"px-4 py-2 text-gray-700 hover:text-gray-900 font-medium transition-colors",children:o==="ar"?"تسجيل الدخول":"Login"}),s.jsx(U,{to:"/signup",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 font-medium transition-colors",children:o==="ar"?"إنشاء حساب":"Sign Up"})]}),s.jsx("div",{className:"md:hidden",children:s.jsx("button",{onClick:()=>{c(!l),d(!1),f(!1)},className:`p-2 rounded-md text-gray-700 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${o==="ar"?"ml-2":"mr-2"}`,"aria-label":"Menu",children:l?s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]})]})}),l&&s.jsx("div",{className:"md:hidden border-t border-gray-200",children:s.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1",children:r?s.jsxs(s.Fragment,{children:[(t==null?void 0:t.account_type)==="guest"&&s.jsx(U,{to:"/signup?account_type=host",className:"block px-3 py-2 rounded-md text-gray-700 hover:text-gray-900 hover:bg-gray-50 font-medium transition-colors",onClick:()=>c(!1),children:o==="ar"?"تحويل إلى الاستضافة":"Switch to Hosting"}),(t==null?void 0:t.account_type)==="host"&&s.jsxs(s.Fragment,{children:[s.jsx(U,{to:"/host/dashboard",className:"block px-3 py-2 rounded-md text-gray-700 hover:text-gray-900 hover:bg-gray-50 font-medium transition-colors",onClick:()=>c(!1),children:o==="ar"?"لوحة التحكم":"Dashboard"}),s.jsx(U,{to:"/host/listing/new",className:"block px-3 py-2 rounded-md text-gray-700 hover:text-gray-900 hover:bg-gray-50 font-medium transition-colors",onClick:()=>c(!1),children:o==="ar"?"إضافة إعلان":"New Listing"})]}),s.jsxs(U,{to:"/inbox",className:"block px-3 py-2 rounded-md text-gray-700 hover:text-gray-900 hover:bg-gray-50 font-medium transition-colors",onClick:()=>c(!1),children:[o==="ar"?"الرسائل":"Messages",(n>0||(y==null?void 0:y.count)>0)&&s.jsx("span",{className:"ml-2 inline-block px-2 py-1 text-xs font-bold leading-none text-white bg-red-500 rounded-full",children:n||(y==null?void 0:y.count)})]}),s.jsx(U,{to:"/profile",className:"block px-3 py-2 rounded-md text-gray-700 hover:text-gray-900 hover:bg-gray-50 font-medium transition-colors",onClick:()=>c(!1),children:o==="ar"?"ملفي الشخصي":"My Profile"}),s.jsx("button",{onClick:g,className:"block w-full text-left px-3 py-2 rounded-md text-red-600 hover:text-red-900 hover:bg-red-50 font-medium transition-colors",children:o==="ar"?"تسجيل الخروج":"Log Out"})]}):s.jsxs(s.Fragment,{children:[s.jsx(U,{to:"/login",className:"block px-3 py-2 rounded-md text-gray-700 hover:text-gray-900 hover:bg-gray-50 font-medium transition-colors",onClick:()=>c(!1),children:o==="ar"?"تسجيل الدخول":"Login"}),s.jsx(U,{to:"/signup",className:"block px-3 py-2 rounded-md text-gray-700 hover:text-gray-900 hover:bg-gray-50 font-medium transition-colors",onClick:()=>c(!1),children:o==="ar"?"إنشاء حساب":"Sign Up"}),s.jsx(U,{to:"/signup?account_type=host",className:"block px-3 py-2 rounded-md text-gray-700 hover:text-gray-900 hover:bg-gray-50 font-medium transition-colors",onClick:()=>c(!1),children:o==="ar"?"كن مضيفاً":"Become a Host"})]})})})]})})},p0=()=>{const e={company:[{label:"About",url:"/about"}],discover:[],hosting:[{label:"Try Hosting",url:"/host/listing/new"}],support:[{label:"Help Center",url:"/help"},{label:"Contact Us",url:"/contact"}],legal:[{label:"Terms of Service",url:"/terms"},{label:"Privacy Policy",url:"/privacy"}],social_media:[{platform:"Facebook",url:"https://facebook.com",icon_name:"facebook"},{platform:"Twitter",url:"https://twitter.com",icon_name:"twitter"},{platform:"Instagram",url:"https://instagram.com",icon_name:"instagram"}]},t=()=>{},r=i=>{window.open(i,"_blank","noopener,noreferrer")},n=new Date().getFullYear();return s.jsx(s.Fragment,{children:s.jsx("footer",{className:"bg-gray-900 text-gray-300 mt-auto",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[s.jsxs("section",{"aria-labelledby":"company-heading",children:[s.jsx("h3",{id:"company-heading",className:"text-white font-semibold text-lg mb-4",children:"Company"}),s.jsx("nav",{"aria-label":"Company links",children:s.jsx("ul",{className:"space-y-2",children:e.company.map(i=>s.jsx("li",{children:s.jsx(U,{to:i.url,onClick:()=>t(),className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm","aria-label":`Learn more about ${i.label}`,children:i.label})},i.label))})})]}),s.jsxs("section",{"aria-labelledby":"discover-heading",children:[s.jsx("h3",{id:"discover-heading",className:"text-white font-semibold text-lg mb-4",children:"Discover"}),s.jsx("nav",{"aria-label":"Discover links",children:s.jsx("ul",{className:"space-y-2",children:e.discover.length>0?e.discover.map(i=>s.jsx("li",{children:s.jsx(U,{to:i.url,onClick:()=>t(),className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm","aria-label":`Discover ${i.label}`,children:i.label})},i.label)):s.jsx("li",{className:"text-gray-500 text-sm",children:"Coming soon"})})})]}),s.jsxs("section",{"aria-labelledby":"hosting-heading",children:[s.jsx("h3",{id:"hosting-heading",className:"text-white font-semibold text-lg mb-4",children:"Hosting"}),s.jsx("nav",{"aria-label":"Hosting links",children:s.jsx("ul",{className:"space-y-2",children:e.hosting.map(i=>s.jsx("li",{children:s.jsx(U,{to:i.url,onClick:()=>t(),className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm","aria-label":`Start ${i.label}`,children:i.label})},i.label))})})]}),s.jsxs("section",{"aria-labelledby":"support-heading",children:[s.jsx("h3",{id:"support-heading",className:"text-white font-semibold text-lg mb-4",children:"Support"}),s.jsx("nav",{"aria-label":"Support links",children:s.jsx("ul",{className:"space-y-2",children:e.support.map(i=>s.jsx("li",{children:s.jsx(U,{to:i.url,onClick:()=>t(),className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm","aria-label":`Get ${i.label}`,children:i.label})},i.label))})})]})]}),s.jsxs("div",{className:"border-t border-gray-800 mt-8 pt-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-6 mb-4 md:mb-0",children:[s.jsx("span",{className:"text-white font-semibold",children:"Follow us:"}),s.jsx("div",{className:"flex space-x-4","aria-label":"Social media links",children:e.social_media.map(i=>s.jsx("button",{onClick:()=>r(i.url),className:"text-gray-400 hover:text-white transition-colors duration-200 p-2 rounded-full hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":`Visit ${i.platform}`,title:i.platform,children:s.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:[i.icon_name==="facebook"&&s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"}),i.icon_name==="twitter"&&s.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"}),i.icon_name==="instagram"&&s.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zM5.838 12a6.162 6.162 0 1112.324 0 6.162 6.162 0 01-12.324 0zM12 16a4 4 0 110-8 4 4 0 010 8zm4.965-10.405a1.44 1.44 0 112.881.001 1.44 1.44 0 01-2.881-.001z"})]})},i.platform))})]}),s.jsx("div",{className:"flex items-center space-x-6 mb-4 md:mb-0",children:s.jsx("nav",{"aria-label":"Legal links",children:s.jsx("ul",{className:"flex space-x-6",children:e.legal.map(i=>s.jsx("li",{children:s.jsx(U,{to:i.url,onClick:()=>t(),className:"text-gray-400 hover:text-white transition-colors duration-200 text-sm","aria-label":`View ${i.label}`,children:i.label})},i.label))})})}),s.jsx("div",{className:"flex items-center",children:s.jsx(U,{to:"/",onClick:()=>t(),className:"text-white font-bold text-xl hover:text-blue-400 transition-colors duration-200","aria-label":"Dar Libya homepage",children:"Dar Libya"})})]}),s.jsx("div",{className:"mt-8 pt-8 border-t border-gray-800",children:s.jsxs("address",{className:"text-center text-gray-400 text-sm not-italic",children:["© ",n," Dar Libya, Inc. All rights reserved."]})})]})]})})})};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),g0=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},c)=>k.createElement("svg",{ref:c,...o2,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:g0("lucide",i),...l},[...o.map(([u,d])=>k.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=(e,t)=>{const r=k.forwardRef(({className:n,...i},a)=>k.createElement(l2,{ref:a,iconNode:t,className:g0(`lucide-${a2(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=ee("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=ee("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=ee("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=ee("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=ee("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=ee("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=ee("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=ee("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=ee("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=ee("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=ee("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=ee("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=ee("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),C2=()=>{const e=V(_=>_.ui_preferences.preferred_language),t=V(_=>_.set_language),r=Ft(),[n,i]=k.useState({location:"",check_in_date:null,check_out_date:null,num_guests:1}),[a,o]=k.useState(!1),[l,c]=k.useState(!1),[u,d]=k.useState(!1),[h,f]=k.useState(null),v=k.useRef(null),p=k.useRef(null),y=k.useRef(null),b=["طرابلس","بنغازي","مصراتة","الزاوية","الخمس","سرت","أجدابيا","طبرق","درنة","غريان","Zuwarah","Al Khums","Sabha","Murzuq","Ghat","Tripoli","Benghazi","Misrata","Sirte","Tobruk"],g=async _=>!_||_.length<2?[]:new Promise(R=>{setTimeout(()=>{const T=b.filter(K=>K.toLowerCase().includes(_.toLowerCase())).slice(0,8);R(T)},200)}),{data:m=[]}=pe({queryKey:["locationSuggestions",n.location],queryFn:()=>g(n.location),enabled:n.location.length>=2,staleTime:5*60*1e3}),x=async()=>{try{const R=await fetch("https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/villas?limit=6");if(!R.ok)throw new Error(`Failed to fetch listings: ${R.status}`);return await R.json()}catch(_){throw console.error("Error fetching featured listings:",_),_}},{data:j=[],isLoading:N,error:C}=pe({queryKey:["featuredListings"],queryFn:x,staleTime:5*60*1e3});k.useEffect(()=>{const _=R=>{v.current&&!v.current.contains(R.target)&&o(!1),p.current&&!p.current.contains(R.target)&&c(!1),y.current&&!y.current.contains(R.target)&&(d(!1),f(null))};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const L=_=>{i(R=>({...R,location:_.target.value})),_.target.value.length>=2?o(!0):o(!1)},A=_=>{i(R=>({...R,location:_})),o(!1)},E=(_,R)=>{const T={...n};if(R==="checkin"){if(T.check_in_date=_,!T.check_out_date||new Date(T.check_out_date)<=new Date(_)){const K=new Date(_);K.setDate(K.getDate()+1),T.check_out_date=K.toISOString().split("T")[0]}}else T.check_out_date=_;i(T),d(!1),f(null)},S=_=>{_==="increase"?i(R=>({...R,num_guests:R.num_guests+1})):_==="decrease"&&n.num_guests>1&&i(R=>({...R,num_guests:R.num_guests-1}))},D=_=>{if(_.preventDefault(),!n.location)return;const R=new URLSearchParams;R.append("location",n.location),n.check_in_date&&R.append("check_in",n.check_in_date),n.check_out_date&&R.append("check_out",n.check_out_date),R.append("num_guests",n.num_guests.toString()),r(`/search?${R.toString()}`)},O=()=>{t(e==="ar"?"en":"ar")},$=e==="ar"?{title:"دار ليبيا",subtitle:"اكتشف أفضل الإقامات في ليبيا",where:"أين تذهب؟",checkIn:"تسجيل الوصول",checkOut:"تسجيل المغادرة",guests:"الضيوف",guest:"ضيف",guests_plural:"ضيوف",search:"ابحث",becomeHost:"كن مضيفًا",becomeHostDesc:"استغل منزلك وحقق دخلاً إضافياً",listProperty:"أضف عقارك",howItWorks:"كيف يعمل؟",aboutUs:"من نحن",contact:"اتصل بنا",heroImage:"اكتشف وجهاتك المفضلة في ليبيا",selectDates:"اختر التواريخ",testimonials:"آراء العملاء",trustedBy:"موثوق به من قبل الآلاف",stats:"إحصائيات منصتنا",properties:"عقار",happyGuests:"ضيف سعيد",cities:"مدينة",yearsFounded:"سنوات من الخبرة"}:{title:"Dar Libya",subtitle:"Discover the best stays in Libya",where:"Where to?",checkIn:"Check in",checkOut:"Check out",guests:"Guests",guest:"guest",guests_plural:"guests",search:"Search",becomeHost:"Become a Host",becomeHostDesc:"Monetize your space and earn extra income",listProperty:"List Your Property",howItWorks:"How it works",aboutUs:"About us",contact:"Contact",heroImage:"Discover your favorite destinations in Libya",selectDates:"Select dates",testimonials:"What Our Guests Say",trustedBy:"Trusted by thousands",stats:"Our Platform Stats",properties:"Properties",happyGuests:"Happy Guests",cities:"Cities",yearsFounded:"Years of Experience"};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:`min-h-screen bg-gray-50 ${e==="ar"?"rtl":"ltr"}`,children:[s.jsx("header",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs(U,{to:"/",className:"flex items-center space-x-2",children:[s.jsx(Je,{className:"h-8 w-8 text-blue-600"}),s.jsx("span",{className:"text-xl font-bold text-gray-900",children:$.title})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(U,{to:"/signup",className:"text-gray-700 hover:text-gray-900 px-3 py-2 text-sm font-medium transition-colors",children:e==="ar"?"إنشاء حساب":"Sign up"}),s.jsx(U,{to:"/login",className:"text-gray-700 hover:text-gray-900 px-3 py-2 text-sm font-medium transition-colors",children:e==="ar"?"تسجيل الدخول":"Log in"}),s.jsxs("button",{onClick:O,className:"flex items-center space-x-1 px-3 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 transition-colors","aria-label":"Toggle language",children:[s.jsx(x2,{className:"h-4 w-4"}),s.jsx("span",{children:e.toUpperCase()})]})]})]})})}),s.jsxs("main",{children:[s.jsxs("section",{className:"relative bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-800 min-h-[80vh] flex items-center",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=1920&h=1080&fit=crop",alt:$.heroImage,className:"w-full h-full object-cover opacity-20"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/80 via-blue-700/60 to-indigo-800/80"})]}),s.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-20 w-full",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight px-4",children:$.subtitle}),s.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-blue-100 mb-8 max-w-4xl mx-auto leading-relaxed px-4",children:$.heroImage}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4 sm:gap-6 md:gap-8 mb-8 px-4",children:[s.jsxs("div",{className:"text-center bg-white/10 backdrop-blur-sm rounded-lg px-4 py-3",children:[s.jsx("div",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-white",children:"1000+"}),s.jsx("div",{className:"text-blue-200 text-xs sm:text-sm",children:e==="ar"?"عقار":"Properties"})]}),s.jsxs("div",{className:"text-center bg-white/10 backdrop-blur-sm rounded-lg px-4 py-3",children:[s.jsx("div",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-white",children:"4.8★"}),s.jsx("div",{className:"text-blue-200 text-xs sm:text-sm",children:e==="ar"?"تقييم":"Rating"})]}),s.jsxs("div",{className:"text-center bg-white/10 backdrop-blur-sm rounded-lg px-4 py-3",children:[s.jsx("div",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-white",children:"25+"}),s.jsx("div",{className:"text-blue-200 text-xs sm:text-sm",children:e==="ar"?"مدينة":"Cities"})]})]})]}),s.jsxs("form",{onSubmit:D,className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-4 sm:p-6 lg:p-8 border border-white/20 max-w-5xl mx-auto",children:[s.jsxs("div",{className:"space-y-4 lg:space-y-0 lg:grid lg:grid-cols-4 lg:gap-4",children:[s.jsxs("div",{className:"relative",ref:v,children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Ua,{className:"inline h-4 w-4 mr-1"}),$.where]}),s.jsx("input",{type:"text",value:n.location,onChange:L,onFocus:()=>n.location.length>=2&&o(!0),placeholder:$.where,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",required:!0}),a&&m.length>0&&s.jsx("div",{className:"absolute z-10 w-full bg-white mt-1 border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:m.map((_,R)=>s.jsxs("button",{type:"button",onClick:()=>A(_),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0 transition-colors",children:[s.jsx(Ua,{className:"inline h-4 w-4 mr-2 text-gray-400"}),_]},R))})]}),s.jsxs("div",{className:"relative",ref:y,children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Ia,{className:"inline h-4 w-4 mr-1"}),$.checkIn]}),s.jsx("button",{type:"button",onClick:()=>{d(!u),f("checkin")},className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-left hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:n.check_in_date?new Date(n.check_in_date).toLocaleDateString(e==="ar"?"ar-LY":"en-US"):s.jsx("span",{className:"text-gray-400",children:$.selectDates})}),u&&h==="checkin"&&s.jsx("div",{className:"absolute z-10 w-full bg-white mt-1 border border-gray-200 rounded-lg shadow-lg p-4",children:s.jsx("input",{type:"date",min:new Date().toISOString().split("T")[0],onChange:_=>E(_.target.value,"checkin"),className:"w-full",autoFocus:!0})})]}),s.jsxs("div",{className:"relative",ref:y,children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Ia,{className:"inline h-4 w-4 mr-1"}),$.checkOut]}),s.jsx("button",{type:"button",onClick:()=>{d(!u),f("checkout")},className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-left hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:n.check_out_date?new Date(n.check_out_date).toLocaleDateString(e==="ar"?"ar-LY":"en-US"):s.jsx("span",{className:"text-gray-400",children:$.selectDates})}),u&&h==="checkout"&&s.jsx("div",{className:"absolute z-10 w-full bg-white mt-1 border border-gray-200 rounded-lg shadow-lg p-4",children:s.jsx("input",{type:"date",min:n.check_in_date||new Date().toISOString().split("T")[0],onChange:_=>E(_.target.value,"checkout"),className:"w-full",autoFocus:!0})})]}),s.jsxs("div",{className:"relative",ref:p,children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(_2,{className:"inline h-4 w-4 mr-1"}),$.guests]}),s.jsxs("button",{type:"button",onClick:()=>c(!l),className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-left hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors flex justify-between items-center",children:[s.jsxs("span",{children:[n.num_guests," ",n.num_guests===1?$.guest:$.guests_plural]}),s.jsx(f2,{className:"h-4 w-4 text-gray-400"})]}),l&&s.jsx("div",{className:"absolute z-10 w-full bg-white mt-1 border border-gray-200 rounded-lg shadow-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:$.guests}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{type:"button",onClick:()=>S("decrease"),disabled:n.num_guests<=1,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"-"}),s.jsx("span",{className:"w-8 text-center",children:n.num_guests}),s.jsx("button",{type:"button",onClick:()=>S("increase"),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors",children:"+"})]})]})})]})]}),s.jsxs("button",{type:"submit",className:"w-full mt-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white py-4 px-8 rounded-xl font-semibold hover:from-blue-700 hover:to-blue-800 transition-all duration-200 flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[s.jsx(Qo,{className:"h-5 w-5"}),s.jsx("span",{children:$.search})]})]})]})]}),s.jsx("section",{className:"py-12 lg:py-20 bg-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:$.becomeHost}),s.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-2xl mx-auto",children:$.becomeHostDesc}),s.jsxs(U,{to:"/signup?account_type=host",className:"inline-flex items-center px-8 py-4 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[s.jsx(Je,{className:"h-5 w-5 mr-2"}),$.listProperty]})]})})}),s.jsx("section",{className:"py-12 lg:py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:e==="ar"?"إقامات مميزة":"Featured Stays"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:e==="ar"?"اكتشف أفضل العقارات في ليبيا التي اختارها فريقنا خصيصاً لك":"Discover the best properties in Libya handpicked by our team just for you"})]}),N&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[1,2,3,4,5,6].map(_=>s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden animate-pulse",children:[s.jsx("div",{className:"h-64 bg-gray-300"}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("div",{className:"h-6 bg-gray-300 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-gray-300 rounded w-full"}),s.jsx("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("div",{className:"h-6 bg-gray-300 rounded w-1/3"}),s.jsx("div",{className:"h-6 bg-gray-300 rounded w-16"})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("div",{className:"h-4 bg-gray-300 rounded w-16"}),s.jsx("div",{className:"h-4 bg-gray-300 rounded w-16"}),s.jsx("div",{className:"h-4 bg-gray-300 rounded w-16"})]})]})]},_))}),C&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-red-600 text-2xl",children:"⚠️"})}),s.jsx("p",{className:"text-gray-600 text-lg mb-4",children:e==="ar"?"حدث خطأ في تحميل العقارات":"Error loading properties"}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:e==="ar"?"إعادة المحاولة":"Try Again"})]}),!N&&!C&&j.length>0&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:j.map((_,R)=>s.jsxs(U,{to:`/listing/${_.id}`,className:"group bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",style:{animationDelay:`${R*.1}s`},children:[s.jsxs("div",{className:"relative h-64 w-full overflow-hidden",children:[s.jsx("img",{src:_.cover_photo_url||"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=800&h=600&fit=crop",alt:_.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"}),s.jsx("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-full text-sm font-semibold",children:e==="ar"?"مميز":"Featured"}),_.avg_rating&&s.jsxs("div",{className:"absolute bottom-4 left-4 flex items-center space-x-1 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-full",children:[s.jsx(Rn,{className:"h-4 w-4 text-yellow-500 fill-current"}),s.jsx("span",{className:"font-semibold text-sm",children:parseFloat(_.avg_rating).toFixed(1)})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 line-clamp-1 group-hover:text-blue-600 transition-colors",children:_.title}),s.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2 leading-relaxed",children:_.exact_address||_.directions_landmarks}),s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[_.price_per_night," ",e==="ar"?"د.ل":"LYD"]}),s.jsx("span",{className:"text-gray-600",children:e==="ar"?" / ليلة":" / night"})]})}),s.jsx("div",{className:"flex items-center justify-between text-sm text-gray-600",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{children:[_.num_guests," ",e==="ar"?"ضيوف":"guests"]}),s.jsx("span",{children:"•"}),s.jsxs("span",{children:[_.num_bedrooms," ",e==="ar"?"غرف":"bedrooms"]}),s.jsx("span",{children:"•"}),s.jsxs("span",{children:[_.num_bathrooms," ",e==="ar"?"حمامات":"baths"]})]})})]})]},_.id))}),!N&&!C&&j.length===0&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Je,{className:"h-10 w-10 text-gray-400"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e==="ar"?"لا توجد عقارات متاحة":"No Properties Available"}),s.jsx("p",{className:"text-gray-600 text-lg mb-6 max-w-md mx-auto",children:e==="ar"?"نحن نعمل على إضافة عقارات جديدة. تحقق مرة أخرى قريبًا!":"We are working on adding new properties. Check back soon!"}),s.jsxs(U,{to:"/signup?account_type=host",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Je,{className:"h-5 w-5 mr-2"}),e==="ar"?"أضف عقارك":"List Your Property"]})]}),!N&&j.length>0&&s.jsx("div",{className:"text-center mt-12",children:s.jsxs(U,{to:"/search",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[s.jsx(Qo,{className:"h-5 w-5 mr-2"}),e==="ar"?"عرض كل العقارات":"View All Properties"]})})]})}),s.jsx("section",{className:"py-12 lg:py-16 bg-blue-600",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:$.stats}),s.jsx("p",{className:"text-blue-100 text-lg",children:$.trustedBy})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold text-white mb-2",children:"1000+"}),s.jsx("div",{className:"text-blue-100",children:$.properties})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold text-white mb-2",children:"5000+"}),s.jsx("div",{className:"text-blue-100",children:$.happyGuests})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold text-white mb-2",children:"25+"}),s.jsx("div",{className:"text-blue-100",children:$.cities})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold text-white mb-2",children:"5+"}),s.jsx("div",{className:"text-blue-100",children:$.yearsFounded})]})]})]})}),s.jsx("section",{className:"py-12 lg:py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:$.testimonials}),s.jsx("p",{className:"text-lg text-gray-600",children:e==="ar"?"اكتشف تجارب ضيوفنا السعداء":"Discover the experiences of our happy guests"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"bg-gray-50 p-8 rounded-xl relative",children:[s.jsx(Wo,{className:"h-8 w-8 text-blue-600 mb-4"}),s.jsx("p",{className:"text-gray-700 mb-6",children:e==="ar"?"تجربة رائعة! الفيلا كانت نظيفة ومريحة، والموقع ممتاز. بالتأكيد سأحجز مرة أخرى.":"Amazing experience! The villa was clean and comfortable, and the location was perfect. Will definitely book again."}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center text-white font-semibold mr-4",children:e==="ar"?"أ":"A"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-900",children:e==="ar"?"أحمد محمد":"Ahmed Mohammed"}),s.jsx("div",{className:"text-sm text-gray-600",children:e==="ar"?"طرابلس":"Tripoli"})]})]}),s.jsx("div",{className:"flex mt-4",children:[1,2,3,4,5].map(_=>s.jsx(Rn,{className:"h-5 w-5 text-yellow-400 fill-current"},_))})]}),s.jsxs("div",{className:"bg-gray-50 p-8 rounded-xl relative",children:[s.jsx(Wo,{className:"h-8 w-8 text-blue-600 mb-4"}),s.jsx("p",{className:"text-gray-700 mb-6",children:e==="ar"?"خدمة عملاء ممتازة والحجز كان سهل جداً. أنصح به بقوة لكل من يريد إقامة مريحة.":"Excellent customer service and booking was so easy. Highly recommend for anyone looking for a comfortable stay."}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center text-white font-semibold mr-4",children:e==="ar"?"ف":"F"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-900",children:e==="ar"?"فاطمة علي":"Fatima Ali"}),s.jsx("div",{className:"text-sm text-gray-600",children:e==="ar"?"بنغازي":"Benghazi"})]})]}),s.jsx("div",{className:"flex mt-4",children:[1,2,3,4,5].map(_=>s.jsx(Rn,{className:"h-5 w-5 text-yellow-400 fill-current"},_))})]}),s.jsxs("div",{className:"bg-gray-50 p-8 rounded-xl relative md:col-span-2 lg:col-span-1",children:[s.jsx(Wo,{className:"h-8 w-8 text-blue-600 mb-4"}),s.jsx("p",{className:"text-gray-700 mb-6",children:e==="ar"?"المنصة سهلة الاستخدام والعقارات متنوعة. وجدت ما أبحث عنه بسرعة.":"Platform is user-friendly and properties are diverse. Found exactly what I was looking for quickly."}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center text-white font-semibold mr-4",children:e==="ar"?"م":"M"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-900",children:e==="ar"?"محمد الزروق":"Mohammed Al-Zarouq"}),s.jsx("div",{className:"text-sm text-gray-600",children:e==="ar"?"مصراتة":"Misrata"})]})]}),s.jsx("div",{className:"flex mt-4",children:[1,2,3,4,5].map(_=>s.jsx(Rn,{className:"h-5 w-5 text-yellow-400 fill-current"},_))})]})]})]})}),s.jsx("section",{className:"py-12 lg:py-20 bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Qo,{className:"h-8 w-8 text-blue-600"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:e==="ar"?"ابحث بسهولة":"Easy Search"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:e==="ar"?"ابحث عن أفضل المنتجعات في جميع أنحاء ليبيا بفلاتر متقدمة وواجهة سهلة الاستخدام":"Find the best properties across Libya with advanced filters and user-friendly interface"})]}),s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(w2,{className:"h-8 w-8 text-blue-600"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:e==="ar"?"أماكن موثقة":"Verified Places"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:e==="ar"?"جميع العقارات مُفتّشة ومُوثقة لضمان جودة الإقامة وراحة الضيوف":"All properties are inspected and verified to ensure quality stays and guest comfort"})]}),s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(c2,{className:"h-8 w-8 text-blue-600"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:e==="ar"?"تجربة مميزة":"Premium Experience"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:e==="ar"?"دعم على مدار الساعة وضمان الحجز مع خدمة عملاء متميزة":"24/7 support and booking guarantee with exceptional customer service"})]})]})})})]}),s.jsx("footer",{className:"bg-gray-900 text-white py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(Je,{className:"h-6 w-6"}),s.jsx("span",{className:"text-xl font-bold",children:$.title})]}),s.jsx("p",{className:"text-gray-400",children:e==="ar"?"اكتشف أفضل الإقامات في ليبيا":"Discover the best stays in Libya"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-4",children:$.aboutUs}),s.jsxs("ul",{className:"space-y-2 text-gray-400",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:$.howItWorks})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e==="ar"?"المدونة":"Blog"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e==="ar"?"الوظائف":"Careers"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-4",children:$.contact}),s.jsxs("ul",{className:"space-y-2 text-gray-400",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e==="ar"?"الدعم":"Support"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e==="ar"?"الشروط والأحكام":"Terms"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e==="ar"?"سياسة الخصوصية":"Privacy"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-4",children:e==="ar"?"تابعنا":"Follow Us"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:e==="ar"?"فيسبوك":"Facebook"}),s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:e==="ar"?"تويتر":"Twitter"}),s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:e==="ar"?"انستغرام":"Instagram"})]})]})]}),s.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400",children:s.jsxs("p",{children:["© 2024 ",$.title,". ",e==="ar"?"جميع الحقوق محفوظة":"All rights reserved","."]})})]})})]})})},E2=()=>{const[e]=yp(),t=Ft(),r=e.get("account_type"),[n,i]=k.useState({name:"",email:"",phone_number:"+218",password_hash:"",account_type:"guest",terms_accepted:!1}),[a,o]=k.useState(""),[l,c]=k.useState(!1),[u,d]=k.useState(!1),[h,f]=k.useState(null),[v,p]=k.useState(0),y=V(S=>S.authentication_state.authentication_status.is_loading),b=V(S=>S.authentication_state.error_message),g=V(S=>S.register_user),m=V(S=>S.verify_phone),x=V(S=>S.clear_auth_error);k.useEffect(()=>{r&&(r==="guest"||r==="host")&&i(S=>({...S,account_type:r}))},[r]),k.useEffect(()=>{if(v>0){const S=setTimeout(()=>p(v-1),1e3);return()=>clearTimeout(S)}},[v]);const j=(S,D)=>{f(null),x(),i(O=>({...O,[S]:D}))},N=()=>n.name.trim()?!n.phone_number||n.phone_number.length<13?(f("Valid phone number is required"),!1):n.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?(f("Please enter a valid email address"),!1):n.password_hash.length<8?(f("Password must be at least 8 characters long"),!1):n.terms_accepted?!0:(f("You must accept the Terms of Service"),!1):(f("Full name is required"),!1),C=async S=>{if(S.preventDefault(),x(),f(null),!!N())try{console.log("Starting user registration...",{name:n.name,email:n.email||null,phone_number:n.phone_number,account_type:n.account_type}),await g({name:n.name,email:n.email||null,phone_number:n.phone_number,password_hash:n.password_hash,account_type:n.account_type}),console.log("Registration successful, moving to OTP step..."),d(!0),p(30),o("123456"),window.location.hostname==="localhost"||!1?(console.log("Development mode detected, auto-verifying in 3 seconds..."),setTimeout(async()=>{try{await m(n.phone_number,"123456"),console.log("Auto-verification successful, navigating..."),n.account_type==="host"?t("/host/dashboard"):t("/")}catch(O){console.error("Auto OTP verification failed:",O),f("Auto-verification failed. Please enter 123456 to verify.")}},3e3)):console.log("Production mode detected, awaiting manual OTP verification")}catch(D){console.error("Registration failed:",D),D.message.includes("temporarily unavailable")&&f("Registration server is temporarily unavailable. Please try again in a few moments.")}},L=async S=>{if(S.preventDefault(),x(),f(null),a.length!==6){f("Please enter a 6-digit code");return}try{await m(n.phone_number,a),n.account_type==="host"?t("/host/dashboard"):t("/")}catch(D){console.error("OTP verification failed:",D),D.message.includes("temporarily unavailable")&&f("Verification server is temporarily unavailable. Please try again in a few moments.")}},A=async()=>{if(!(v>0)){p(30),f(null),x();try{console.log("Resending OTP to:",n.phone_number),(window.location.hostname==="localhost"||!1)&&o("123456")}catch(S){console.error("Resend OTP failed:",S),f("Failed to resend OTP. Please try again.")}}},E=b||h;return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-md w-full",children:u?s.jsxs("div",{className:"bg-white shadow-xl rounded-2xl p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:s.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Verify Phone"}),s.jsxs("p",{className:"text-gray-600",children:["We've sent a 6-digit code to ",n.phone_number]}),window.location.hostname==="localhost"||!1?s.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-sm text-yellow-800",children:[s.jsx("strong",{children:"Development Mode:"})," Auto-verifying with code 123456 in 3 seconds..."]}):s.jsxs("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded text-sm text-blue-800",children:[s.jsx("strong",{children:"For Testing:"})," Use code ",s.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"123456"})," to verify your phone"]})]}),E&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-6",role:"alert","aria-live":"polite",children:s.jsx("p",{className:"text-sm",children:E})}),s.jsxs("form",{onSubmit:L,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Code"}),s.jsx("input",{id:"otp",name:"otp",type:"text",inputMode:"numeric",pattern:"[0-9]{6}",maxLength:6,required:!0,value:a,onChange:S=>{f(null),x();const D=S.target.value.replace(/[^0-9]/g,"");o(D)},className:"w-full px-4 py-3 text-center text-2xl font-mono border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",placeholder:"000000"})]}),s.jsx("button",{type:"submit",disabled:y||a.length!==6,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:y?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verifying..."]}):"Verify Code"}),s.jsx("div",{className:"text-center",children:s.jsx("button",{type:"button",onClick:A,disabled:v>0,className:"text-blue-600 hover:text-blue-700 text-sm font-medium disabled:text-gray-400 disabled:cursor-not-allowed",children:v>0?`Resend code in ${v}s`:"Didn't receive the code? Resend"})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("button",{type:"button",onClick:()=>{d(!1),o(""),f(null),x()},className:"text-gray-600 hover:text-gray-700 text-sm font-medium",children:"← Back to sign up"})})]}):s.jsxs("div",{className:"bg-white shadow-xl rounded-2xl p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Account"}),s.jsx("p",{className:"text-gray-600",children:"Join Dar Libya today"})]}),E&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-6",role:"alert","aria-live":"polite",children:s.jsx("p",{className:"text-sm",children:E})}),s.jsxs("form",{onSubmit:C,className:"space-y-6",noValidate:!0,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),s.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:n.name,onChange:S=>j("name",S.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",placeholder:"Enter your full name"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),s.jsx("input",{id:"phone_number",name:"phone_number",type:"tel",required:!0,value:n.phone_number,onChange:S=>j("phone_number",S.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",placeholder:"+218 XX XXXXXXX"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email (optional)"}),s.jsx("input",{id:"email",name:"email",type:"email",value:n.email,onChange:S=>j("email",S.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",placeholder:"your@email.com"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"password",name:"password",type:l?"text":"password",required:!0,value:n.password_hash,onChange:S=>j("password_hash",S.target.value),className:"w-full px-4 py-3 pr-12 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",placeholder:"Create a strong password"}),s.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700","aria-label":l?"Hide password":"Show password",children:l?s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):s.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Type *"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("label",{htmlFor:"guest",className:`relative flex items-center justify-center px-4 py-3 border-2 rounded-lg cursor-pointer transition-all duration-200 ${n.account_type==="guest"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("input",{id:"guest",name:"account_type",type:"radio",value:"guest",checked:n.account_type==="guest",onChange:S=>j("account_type",S.target.value),className:"sr-only"}),s.jsx("span",{className:"font-medium",children:"Guest"})]}),s.jsxs("label",{htmlFor:"host",className:`relative flex items-center justify-center px-4 py-3 border-2 rounded-lg cursor-pointer transition-all duration-200 ${n.account_type==="host"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("input",{id:"host",name:"account_type",type:"radio",value:"host",checked:n.account_type==="host",onChange:S=>j("account_type",S.target.value),className:"sr-only"}),s.jsx("span",{className:"font-medium",children:"Host"})]})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-start",children:[s.jsx("input",{type:"checkbox",checked:n.terms_accepted,onChange:S=>j("terms_accepted",S.target.checked),className:"mt-1 w-4 h-4 text-blue-600 border-2 border-gray-300 rounded focus:ring-blue-500"}),s.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["I agree to the"," ",s.jsx(U,{to:"/terms",className:"text-blue-600 hover:text-blue-700 underline",children:"Terms of Service"})," ","and"," ",s.jsx(U,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 underline",children:"Privacy Policy"})]})]})}),s.jsx("button",{type:"submit",disabled:y,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:y?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Create Account"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",s.jsx(U,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Sign in"})]})})]})})})})},P2=()=>{const[e,t]=k.useState({identifier:"",password:""}),[r,n]=k.useState(!1),[i,a]=k.useState(!1),[o,l]=k.useState({}),c=Ft(),u=V(m=>m.authentication_state.authentication_status.is_loading),d=V(m=>m.authentication_state.authentication_status.is_authenticated),h=V(m=>m.authentication_state.error_message),f=V(m=>m.login_user),v=V(m=>m.clear_auth_error);k.useEffect(()=>{d&&!u&&(console.log("User authenticated, navigating to home"),c("/",{replace:!0}))},[d,u,c]),k.useEffect(()=>()=>{v()},[v]);const p=()=>{const m={};return e.identifier.trim()?e.identifier.trim().length<3&&(m.identifier="Please enter a valid phone number or email"):m.identifier="Phone number or email is required",e.password?e.password.length<6&&(m.password="Password must be at least 6 characters"):m.password="Password is required",l(m),Object.keys(m).length===0},y=async m=>{if(m.preventDefault(),v(),l({}),!!p())try{console.log("Attempting login with:",{identifier:e.identifier,password:"[REDACTED]"}),await f(e.identifier,e.password),console.log("Login successful")}catch(x){console.error("Login error:",x)}},b=(m,x)=>{t(j=>({...j,[m]:x})),o[m]&&l(j=>({...j,[m]:void 0})),h&&v()},g=()=>{n(!r)};return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-xl shadow-gray-200/50 overflow-hidden",children:[s.jsx("div",{className:"px-8 pt-8 pb-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 leading-tight",children:"Welcome Back"}),s.jsx("p",{className:"mt-2 text-base text-gray-600 leading-relaxed",children:"Sign in to your Dar Libya account"})]})}),s.jsxs("form",{onSubmit:y,className:"px-8 pb-8 space-y-6",noValidate:!0,children:[h&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",role:"alert","aria-live":"polite",children:[s.jsx(Tu,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-700",children:h})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"identifier",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number or Email"}),s.jsx("input",{id:"identifier",name:"identifier",type:"text",autoComplete:"email tel",value:e.identifier,onChange:m=>b("identifier",m.target.value),placeholder:"Enter your phone number or email",className:`block w-full px-4 py-3 border-2 rounded-lg focus:ring-4 focus:ring-blue-100 focus:border-blue-500 focus:outline-none transition-all duration-200 ${o.identifier?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300"}`,"aria-invalid":!!o.identifier,"aria-describedby":o.identifier?"identifier-error":void 0}),o.identifier&&s.jsx("p",{id:"identifier-error",className:"mt-2 text-sm text-red-600",children:o.identifier})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",value:e.password,onChange:m=>b("password",m.target.value),placeholder:"Enter your password",className:`block w-full px-4 py-3 pr-12 border-2 rounded-lg focus:ring-4 focus:ring-blue-100 focus:border-blue-500 focus:outline-none transition-all duration-200 ${o.password?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300"}`,"aria-invalid":!!o.password,"aria-describedby":o.password?"password-error":void 0}),s.jsx("button",{type:"button",onClick:g,className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":r?"Hide password":"Show password",children:r?s.jsx(p2,{className:"h-5 w-5"}):s.jsx(g2,{className:"h-5 w-5"})})]}),o.password&&s.jsx("p",{id:"password-error",className:"mt-2 text-sm text-red-600",children:o.password})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:i,onChange:m=>a(m.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:u,className:"w-full flex justify-center items-center px-6 py-3 border border-transparent rounded-lg font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:u?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})}),s.jsx("div",{className:"text-center",children:s.jsx(U,{to:"/reset-password",className:"text-blue-600 hover:text-blue-700 text-sm font-medium transition-colors duration-200",children:"Forgot your password?"})})]})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",s.jsx(U,{to:"/signup",className:"font-medium text-blue-600 hover:text-blue-700 transition-colors duration-200",children:"Sign up"})]})}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-xs text-gray-500",children:"© 2024 Dar Libya. All rights reserved."})})]})})})},R2=()=>{const[e,t]=k.useState(1),[r,n]=k.useState(""),[i,a]=k.useState(""),[o,l]=k.useState(""),[c,u]=k.useState(""),[d,h]=k.useState(!1),[f,v]=k.useState(null),[p,y]=k.useState(null),b=Ot({mutationFn:async E=>(await z.post("https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/auth/forgot-password",{identifier:E},{headers:{"Content-Type":"application/json"}})).data,onSuccess:()=>{t(2),y("Reset code sent successfully. Please check your email or phone."),v(null)},onError:E=>{var D,O;const S=((O=(D=E.response)==null?void 0:D.data)==null?void 0:O.message)||"Failed to send reset code";v(S),y(null)}}),g=Ot({mutationFn:async({token:E,new_password:S})=>(await z.post("https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/auth/reset-password",{token:E,new_password:S},{headers:{"Content-Type":"application/json"}})).data,onSuccess:()=>{t(3),y("Password reset successfully! You can now login with your new password."),v(null)},onError:E=>{var D,O;const S=((O=(D=E.response)==null?void 0:D.data)==null?void 0:O.message)||"Failed to reset password";v(S),y(null)}}),m=async E=>{if(E.preventDefault(),v(null),y(null),!r.trim()){v("Please enter your email or phone number");return}b.mutate(r)},x=async E=>{if(E.preventDefault(),v(null),y(null),!i.trim()){v("Please enter the reset code");return}if(i.length!==6){v("Reset code must be 6 digits");return}t(3)},j=async E=>{if(E.preventDefault(),v(null),y(null),!o){v("Please enter a new password");return}if(o.length<8){v("Password must be at least 8 characters long");return}if(o!==c){v("Passwords do not match");return}g.mutate({token:i,new_password:o})},N=E=>{const S=E.target.value.replace(/\D/g,"").slice(0,6);a(S),v(null)},C=E=>{n(E.target.value),v(null)},L=E=>{l(E.target.value),v(null)},A=E=>{u(E.target.value),v(null)};return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reset Password"}),s.jsxs("p",{className:"text-gray-600",children:[e===1&&"Enter your email or phone number to receive a reset code",e===2&&"Enter the 6-digit code sent to your email or phone",e===3&&"Create your new password"]})]}),s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${e>=1?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"} text-sm font-medium`,children:"1"}),s.jsx("div",{className:`flex-1 h-1 mx-2 ${e>=2?"bg-blue-600":"bg-gray-300"}`}),s.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${e>=2?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"} text-sm font-medium`,children:"2"}),s.jsx("div",{className:`flex-1 h-1 mx-2 ${e>=3?"bg-blue-600":"bg-gray-300"}`}),s.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${e>=3?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"} text-sm font-medium`,children:"3"})]})}),s.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 lg:p-8",children:[p&&s.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md",role:"alert",children:s.jsx("p",{className:"text-sm",children:p})}),f&&s.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",role:"alert",children:s.jsx("p",{className:"text-sm",children:f})}),e===1&&s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"identifier",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email or Phone Number"}),s.jsx("input",{id:"identifier",name:"identifier",type:"text",value:r,onChange:C,placeholder:"Enter your email or phone number",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",disabled:b.isPending})]}),s.jsx("button",{type:"submit",disabled:b.isPending,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:b.isPending?s.jsxs("span",{className:"flex items-center justify-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Reset Code"})]}),e===2&&s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"reset_code",className:"block text-sm font-medium text-gray-700 mb-2",children:"Reset Code"}),s.jsx("input",{id:"reset_code",name:"reset_code",type:"text",value:i,onChange:N,placeholder:"Enter 6-digit code",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200 text-center text-lg font-mono",maxLength:6}),s.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Enter the 6-digit code sent to ",r]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl",children:"Verify Code"}),s.jsx("button",{type:"button",onClick:()=>{t(1),a(""),v(null)},className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 font-medium py-3 px-6 rounded-lg transition-all duration-200 border border-gray-300",children:"Back"})]})]}),e===3&&s.jsxs("form",{onSubmit:j,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"new_password",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"new_password",name:"new_password",type:d?"text":"password",value:o,onChange:L,placeholder:"Enter new password",className:"w-full px-4 py-3 pr-12 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",disabled:g.isPending}),s.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700","aria-label":d?"Hide password":"Show password",children:d?s.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):s.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Password must be at least 8 characters long"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirm_password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),s.jsx("input",{id:"confirm_password",name:"confirm_password",type:d?"text":"password",value:c,onChange:A,placeholder:"Confirm new password",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",disabled:g.isPending})]}),s.jsx("button",{type:"submit",disabled:g.isPending,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:g.isPending?s.jsxs("span",{className:"flex items-center justify-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Resetting..."]}):"Reset Password"})]}),e===3&&p&&s.jsx("div",{className:"mt-6 text-center",children:s.jsx(U,{to:"/login",className:"inline-flex items-center bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl",children:"Go to Login"})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx(U,{to:"/login",className:"text-blue-600 hover:text-blue-700 text-sm font-medium transition-colors",children:"Back to Login"})})]})})})},T2=()=>{const[e,t]=yp(),[r,n]=k.useState("list"),[i,a]=k.useState([0,1e4]),[o,l]=k.useState([]),[c,u]=k.useState([]),[d,h]=k.useState(0),[f,v]=k.useState(0),p=V(T=>T.ui_preferences.preferred_language),y=e.get("location")||"",b=e.get("check_in"),g=e.get("check_out"),m=e.get("price_min"),x=e.get("price_max"),j=e.get("property_types"),N=e.get("amenities"),C=e.get("bedrooms"),L=e.get("bathrooms"),{data:A=[],isLoading:E,error:S,refetch:D}=pe({queryKey:["villas",Object.fromEntries(e)],queryFn:async()=>{const T=new URLSearchParams;return e.forEach((M,q)=>{T.append(q,M)}),o.length>0&&T.set("property_types",o.join(",")),c.length>0&&T.set("amenities",c.join(",")),d>0&&T.set("bedrooms",d.toString()),f>0&&T.set("bathrooms",f.toString()),i[0]>0&&T.set("price_min",i[0].toString()),i[1]<1e4&&T.set("price_max",i[1].toString()),(await z.get(`https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/villas?${T.toString()}`)).data.map(M=>({...M,cover_photo_url:M.cover_photo_url||"https://picsum.photos/seed/default-villa/400/300.jpg"}))},staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),{data:O=[]}=pe({queryKey:["amenities"],queryFn:async()=>(await z.get("https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/amenities")).data,staleTime:3e5});k.useEffect(()=>{(m||x)&&a([parseInt(m||"0")||0,parseInt(x||"10000")||1e4]),j&&l(j.split(",")),N&&u(N.split(",")),C&&h(parseInt(C)),L&&v(parseInt(L))},[m,x,j,N,C,L]);const $=k.useCallback(()=>{const T=new URLSearchParams(e);i[0]>0?T.set("price_min",i[0].toString()):T.delete("price_min"),i[1]<1e4?T.set("price_max",i[1].toString()):T.delete("price_max"),o.length>0?T.set("property_types",o.join(",")):T.delete("property_types"),c.length>0?T.set("amenities",c.join(",")):T.delete("amenities"),d>0?T.set("bedrooms",d.toString()):T.delete("bedrooms"),f>0?T.set("bathrooms",f.toString()):T.delete("bathrooms"),t(T)},[i,o,c,d,f,e,t]);k.useEffect(()=>{const T=setTimeout(()=>{$()},300);return()=>clearTimeout(T)},[$]);const _=()=>{if(!b||!g)return y;const T=new Date(b),K=new Date(g),M={month:"short",day:"numeric"};return`${y} · ${T.toLocaleDateString("en-US",M)}-${K.toLocaleDateString("en-US",M)}`},R=[{value:"apartment",label:"Apartment"},{value:"villa",label:"Villa"},{value:"house",label:"House"},{value:"cabin",label:"Cabin"},{value:"cottage",label:"Cottage"},{value:"farmhouse",label:"Farmhouse"}];return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("h1",{className:"text-xl font-semibold text-gray-900",children:[A.length," ",p==="ar"?"مكان":"place",A.length!==1&&(p==="ar"?"ات":"s")," in ",_()]}),s.jsx(U,{to:"/",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:p==="ar"?"تعديل":"Edit"})]}),s.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>n("list"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${r==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:p==="ar"?"قائمة":"List"}),s.jsx("button",{onClick:()=>n("grid"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${r==="grid"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:p==="ar"?"شبكة":"Grid"}),s.jsx("button",{onClick:()=>n("map"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${r==="map"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:p==="ar"?"خريطة":"Map"})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex gap-6",children:[s.jsx("div",{className:"w-80 flex-shrink-0",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:p==="ar"?"الفلاتر":"Filters"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:p==="ar"?"نطاق السعر":"Price range"}),s.jsxs("div",{className:"px-2",children:[s.jsx("input",{type:"range",min:"0",max:"10000",step:"50",value:i[1],onChange:T=>a([i[0],parseInt(T.target.value)]),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),s.jsxs("div",{className:"flex justify-between mt-2 text-sm text-gray-600",children:[s.jsxs("span",{children:["$",i[0]]}),s.jsxs("span",{children:["$",i[1]]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:p==="ar"?"نوع العقار":"Property type"}),s.jsx("div",{className:"space-y-2",children:R.map(T=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:o.includes(T.value),onChange:K=>{K.target.checked?l([...o,T.value]):l(o.filter(M=>M!==T.value))},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:T.label})]},T.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:p==="ar"?"المرافق":"Amenities"}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:O.map(T=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:c.includes(T.name),onChange:K=>{K.target.checked?u([...c,T.name]):u(c.filter(M=>M!==T.name))},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:T.name})]},T.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:p==="ar"?"غرف نوم":"Bedrooms"}),s.jsxs("select",{value:d,onChange:T=>h(parseInt(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"0",children:p==="ar"?"أي":"Any"}),[1,2,3,4,5].map(T=>s.jsxs("option",{value:T,children:[T,"+"]},T))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:p==="ar"?"حمامات":"Bathrooms"}),s.jsxs("select",{value:f,onChange:T=>v(parseInt(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"0",children:p==="ar"?"أي":"Any"}),[1,2,3,4,5].map(T=>s.jsxs("option",{value:T,children:[T,"+"]},T))]})]})]})}),s.jsx("div",{className:"flex-1",children:E?s.jsx("div",{className:"space-y-4",children:[...Array(6)].map((T,K)=>s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 animate-pulse",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"w-64 h-48 bg-gray-200 rounded-lg"}),s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"})]})]})},K))}):S?s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:[s.jsx("h3",{className:"text-lg font-medium text-red-900 mb-2",children:p==="ar"?"حدث خطأ":"Something went wrong"}),s.jsx("p",{className:"text-red-700 mb-4",children:p==="ar"?"لا يمكن تحميل نتائج البحث":"Unable to load search results"}),s.jsx("button",{onClick:()=>D(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:p==="ar"?"حاول مرة أخرى":"Try again"})]}):A.length===0?s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:p==="ar"?"لا توجد نتائج":"No results found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:p==="ar"?"حاول تعديل فلاتر البحث للعثور على المزيد من الخيارات":"Try adjusting your search filters to find more options"}),s.jsx(U,{to:"/",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:p==="ar"?"بحث جديد":"New search"})]}):r==="map"?s.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",style:{height:"600px"},children:s.jsxs("div",{className:"flex h-full",children:[s.jsx("div",{className:"flex-1 bg-gray-100 relative",children:s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-gray-400 mb-2",children:s.jsxs("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),s.jsx("p",{className:"text-gray-600",children:p==="ar"?"الخريطة التفاعلية":"Interactive Map"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:p==="ar"?`${A.length} عقار في الخريطة`:`${A.length} properties on map`})]})})}),s.jsx("div",{className:"w-96 overflow-y-auto border-l border-gray-200",children:s.jsx("div",{className:"p-4 space-y-4",children:A.map(T=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("img",{src:T.cover_photo_url,alt:T.title,className:"w-24 h-24 object-cover rounded-lg"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-sm line-clamp-1",children:T.title}),s.jsxs("p",{className:"text-gray-600 text-xs mt-1",children:[T.num_bedrooms," ",p==="ar"?"غرف نوم":"bedrooms"," · ",T.num_bathrooms," ",p==="ar"?"حمامات":"baths"]}),s.jsxs("p",{className:"text-blue-600 font-semibold text-sm mt-2",children:["$",T.price_per_night," ",s.jsxs("span",{className:"text-gray-500 font-normal",children:["/",p==="ar"?"ليلة":"night"]})]})]})]})},T.id))})})]})}):s.jsx("div",{className:r==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-6",children:A.map(T=>s.jsx(U,{to:`/listing/${T.id}`,className:"block group",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-200",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:T.cover_photo_url,alt:T.title,className:`w-full ${r==="list"?"h-64":"h-48"} object-cover`}),T.avg_rating&&s.jsx("div",{className:"absolute top-4 right-4 bg-white px-2 py-1 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 text-yellow-400 fill-current",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),s.jsx("span",{className:"ml-1 text-sm font-semibold",children:T.avg_rating.toFixed(1)}),T.review_count&&s.jsxs("span",{className:"ml-1 text-xs text-gray-500",children:["(",T.review_count,")"]})]})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2 group-hover:text-blue-600 transition-colors",children:T.title}),s.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[T.num_guests," ",p==="ar"?"ضيف":"guests"," · ",T.num_bedrooms," ",p==="ar"?"غرفة نوم":"bedrooms"," · ",T.num_bathrooms," ",p==="ar"?"حمام":"bath"]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["$",T.price_per_night]}),s.jsxs("span",{className:"text-gray-500 ml-1",children:["/",p==="ar"?"ليلة":"night"]})]}),T.cleaning_fee&&s.jsxs("div",{className:"text-xs text-gray-500",children:["$",T.cleaning_fee," ",p==="ar"?"رسالة تنظيف":"cleaning fee"]})]})]})]})},T.id))})})]})})]})})},L2=()=>{var C,L,A;const{villa_id:e}=pi(),t=Ft(),r=V(E=>E.authentication_state.current_user),[n,i]=k.useState({check_in:null,check_out:null,num_guests:1}),[a,o]=k.useState("description"),[l,c]=k.useState(0);k.useEffect(()=>{const E=new URLSearchParams(window.location.search),S=E.get("check_in"),D=E.get("check_out"),O=E.get("num_guests");i({check_in:S?new Date(S):null,check_out:D?new Date(D):null,num_guests:O?parseInt(O):1})},[]);const{data:u,isLoading:d,error:h}=pe({queryKey:["villa",e],queryFn:async()=>(await z.get(`https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/villas/${e}`)).data,enabled:!!e,staleTime:6e4,retry:1}),f=()=>{if(!r){t("/login");return}if(!n.check_in||!n.check_out){alert("Please select check-in and check-out dates");return}const E=new URLSearchParams({check_in:n.check_in.toISOString().split("T")[0],check_out:n.check_out.toISOString().split("T")[0],num_guests:n.num_guests.toString()});t(`/booking/request/${e}?${E.toString()}`)},v=()=>{if(!r){t("/login");return}t("/inbox")},p=()=>{if(!u||!n.check_in||!n.check_out)return 0;const S=Math.ceil((n.check_out.getTime()-n.check_in.getTime())/(1e3*60*60*24))*u.villa.price_per_night,D=u.villa.cleaning_fee||0;return S+D},y=()=>!n.check_in||!n.check_out?0:Math.ceil((n.check_out.getTime()-n.check_in.getTime())/(1e3*60*60*24));if(d)return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-96 bg-gray-300"}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"h-8 bg-gray-300 rounded w-3/4 mb-4"}),s.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-8"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[s.jsx("div",{className:"h-64 bg-gray-300 rounded"}),s.jsx("div",{className:"h-64 bg-gray-300 rounded"})]}),s.jsx("div",{className:"h-96 bg-gray-300 rounded sticky top-4"})]})]})]})})});if(h||!u)return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Property not found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The property you're looking for doesn't exist or has been removed."}),s.jsx(U,{to:"/search",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Back to search"})]})})});const{villa:b,host:g,photos:m,amenities:x,reviews:j}=u,N=m.find(E=>E.is_cover_photo)||m[0];return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"relative",children:m.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"h-96 md:h-screen max-h-screen bg-gray-200",children:s.jsx("img",{src:(C=m[l])==null?void 0:C.url,alt:((L=m[l])==null?void 0:L.description)||b.title,className:"w-full h-full object-cover"})}),m.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>c(E=>(E-1+m.length)%m.length),className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 p-2 rounded-full shadow-lg transition-all",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsx("button",{onClick:()=>c(E=>(E+1)%m.length),className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 p-2 rounded-full shadow-lg transition-all",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),m.length>1&&s.jsxs("div",{className:"absolute top-4 right-4 bg-black/60 text-white px-3 py-1 rounded-full text-sm",children:[l+1," / ",m.length]})]}):s.jsx("div",{className:"h-96 bg-gray-200 flex items-center justify-center",children:s.jsx("p",{className:"text-gray-500",children:"No photos available"})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:b.title}),s.jsxs("div",{className:"flex items-center space-x-4 text-gray-600",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 text-yellow-400 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),"4.8 (24 reviews)"]}),s.jsx("span",{children:"·"}),s.jsx("span",{children:b.property_type}),s.jsx("span",{children:"·"}),s.jsx("span",{children:((A=b.exact_address)==null?void 0:A.split(",")[0])||"Location not specified"})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 py-6 border-y border-gray-200",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("svg",{className:"w-6 h-6 mx-auto mb-2 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[b.num_guests," guests"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("svg",{className:"w-6 h-6 mx-auto mb-2 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[b.num_bedrooms," bedrooms"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("svg",{className:"w-6 h-6 mx-auto mb-2 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[b.num_beds," beds"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("svg",{className:"w-6 h-6 mx-auto mb-2 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[b.num_bathrooms," baths"]})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("img",{src:g.profile_picture_url||`https://picsum.photos/seed/${g.id}/100/100.jpg`,alt:g.name,className:"w-12 h-12 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900",children:["Hosted by ",g.name]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Joined in ",new Date(g.created_at).getFullYear()]}),g.is_phone_verified&&s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-sm text-blue-600",children:"Verified Host"})]})]})]}),s.jsx("button",{onClick:v,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Contact Host"})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:["description","amenities","location","house-rules","reviews"].map(E=>s.jsx("button",{onClick:()=>o(E),className:`py-4 px-1 border-b-2 font-medium text-sm ${a===E?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:E.charAt(0).toUpperCase()+E.slice(1).replace("-"," ")},E))})}),s.jsxs("div",{className:"p-6",children:[a==="description"&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"About this place"}),s.jsx("p",{className:"text-gray-600 leading-relaxed whitespace-pre-wrap",children:b.description||"No description available."})]}),a==="amenities"&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Amenities"}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:x.map(E=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),s.jsx("span",{className:"text-gray-700",children:E.name})]},E.id))})]}),a==="location"&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Location"}),b.exact_address?s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 mb-4",children:b.exact_address}),b.directions_landmarks&&s.jsxs("p",{className:"text-gray-600 mb-4",children:[s.jsx("strong",{children:"Directions:"})," ",b.directions_landmarks]}),b.latitude&&b.longitude&&s.jsx("div",{className:"h-64 bg-gray-200 rounded-lg flex items-center justify-center",children:s.jsx("p",{className:"text-gray-500",children:"Map view would be displayed here"})})]}):s.jsx("p",{className:"text-gray-500",children:"Location details not available"})]}),a==="house-rules"&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"House Rules"}),s.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:b.house_rules||"No specific house rules."}),s.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("strong",{children:"Check-in:"})," After 3:00 PM",s.jsx("br",{}),s.jsx("strong",{children:"Check-out:"})," Before 11:00 AM",s.jsx("br",{}),s.jsx("strong",{children:"Minimum Nights:"})," ",b.minimum_nights]})})]}),a==="reviews"&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Reviews"}),j.length>0?s.jsx("div",{className:"space-y-4",children:j.map(E=>{var S,D,O;return s.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-0",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("img",{src:((S=E.reviewer)==null?void 0:S.profile_picture_url)||`https://picsum.photos/seed/${E.reviewer_id}/50/50.jpg`,alt:(D=E.reviewer)==null?void 0:D.name,className:"w-10 h-10 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:(O=E.reviewer)==null?void 0:O.name}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map(($,_)=>s.jsx("svg",{className:`w-4 h-4 ${_<E.public_rating?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},_))}),s.jsx("span",{className:"text-sm text-gray-600 ml-2",children:new Date(E.created_at).toLocaleDateString()})]})]})]}),E.public_comment&&s.jsx("p",{className:"text-gray-600",children:E.public_comment})]},E.id)})}):s.jsx("p",{className:"text-gray-500",children:"No reviews yet."})]})]})]})]}),s.jsx("div",{className:"lg:sticky lg:top-4 h-fit",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["LYD ",b.price_per_night,s.jsx("span",{className:"text-sm font-normal text-gray-500",children:" / night"})]}),j.length>0&&s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx("svg",{className:"w-4 h-4 text-yellow-400 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),s.jsx("span",{className:"text-sm text-gray-600",children:"4.8 (24 reviews)"})]})]}),N&&s.jsx("img",{src:N.url,alt:N.description||b.title,className:"w-20 h-20 rounded-lg object-cover"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"CHECK-IN"}),s.jsx("input",{type:"date",value:n.check_in?n.check_in.toISOString().split("T")[0]:"",onChange:E=>{const S=E.target.value?new Date(E.target.value):null;i(D=>({...D,check_in:S}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"CHECKOUT"}),s.jsx("input",{type:"date",value:n.check_out?n.check_out.toISOString().split("T")[0]:"",onChange:E=>{const S=E.target.value?new Date(E.target.value):null;i(D=>({...D,check_out:S}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"GUESTS"}),s.jsx("select",{value:n.num_guests,onChange:E=>i(S=>({...S,num_guests:parseInt(E.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",children:[...Array(b.num_guests)].map((E,S)=>s.jsxs("option",{value:S+1,children:[S+1," ",S===0?"guest":"guests"]},S+1))})]}),n.check_in&&n.check_out&&s.jsxs("div",{className:"border-t border-b border-gray-200 py-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{children:["LYD ",b.price_per_night," x ",y()," nights"]}),s.jsxs("span",{children:["LYD ",b.price_per_night*y()]})]}),b.cleaning_fee&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Cleaning fee"}),s.jsxs("span",{children:["LYD ",b.cleaning_fee]})]}),s.jsxs("div",{className:"flex justify-between font-semibold",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["LYD ",p()]})]})]}),s.jsx("button",{onClick:f,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!r&&!!r,children:r?"Request to Book":"Log in to Book"}),s.jsx("p",{className:"text-xs text-gray-500 text-center",children:"You won't be charged yet"})]})]})})]})})]})})},O2=()=>{var A;const{villa_id:e}=pi(),t=Ft(),r=us(),n=V(E=>E.authentication_state.current_user),i=V(E=>E.authentication_state.auth_token),a=new URLSearchParams(window.location.search),o=a.get("check_in"),l=a.get("check_out"),c=a.get("num_guests"),[u,d]=k.useState({villa_id:e||"",check_in_date:o?new Date(o):new Date,check_out_date:l?new Date(l):new Date,num_guests:c?parseInt(c):1,guest_message:""}),[h,f]=k.useState(!1),[v,p]=k.useState(null),{data:y,isLoading:b,error:g}=pe({queryKey:["villa",e],queryFn:async()=>{if(!e)throw new Error("Villa ID is required");return(await z.get(`https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/villas/${e}`)).data},enabled:!!e,staleTime:6e4,retry:1}),m=Ur.useMemo(()=>{if(!y||!u.check_in_date||!u.check_out_date)return{nightly_total:0,cleaning_fee:null,total:0};const E=Math.ceil((u.check_out_date.getTime()-u.check_in_date.getTime())/(1e3*60*60*24));if(E<=0)return{nightly_total:0,cleaning_fee:null,total:0};const S=E*y.price_per_night,D=S+(y.cleaning_fee||0);return{nightly_total:S,cleaning_fee:y.cleaning_fee,total:D}},[y,u.check_in_date,u.check_out_date]),x=Ot({mutationFn:async E=>{if(!i)throw new Error("Not authenticated");const S={villa_id:E.villa_id,check_in_date:E.check_in_date.toISOString(),check_out_date:E.check_out_date.toISOString(),num_guests:E.num_guests,guest_message:E.guest_message};return(await z.post("https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/bookings",S,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`}})).data},onSuccess:E=>{r.invalidateQueries({queryKey:["bookings"]}),r.invalidateQueries({queryKey:["user-trips"]}),t(`/trip/${E.id}`)},onError:E=>{var S,D;p(((D=(S=E.response)==null?void 0:S.data)==null?void 0:D.message)||E.message||"Failed to submit booking request")}}),j=async E=>{if(E.preventDefault(),p(null),!u.guest_message.trim()){p("Please introduce yourself to the host");return}if(!h){p("You must accept the house rules to proceed");return}if(!n){p("You must be logged in to make a booking");return}x.mutate(u)},N=E=>{d(S=>({...S,guest_message:E.target.value})),p(null)};if(b)return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(g||!y)return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Property Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The property you're trying to book could not be found."}),s.jsx(U,{to:"/search",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:"Search Properties"})]})})});const C=E=>new Intl.DateTimeFormat("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}).format(E),L=Math.ceil((u.check_out_date.getTime()-u.check_in_date.getTime())/(1e3*60*60*24));return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Confirm Your Booking"}),s.jsx("p",{className:"text-gray-600",children:"Please review the details below before sending your request"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-48 h-48 flex-shrink-0",children:y.photos&&y.photos.length>0?s.jsx("img",{src:((A=y.photos.find(E=>E.is_cover_photo))==null?void 0:A.url)||y.photos[0].url,alt:y.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-400 text-sm",children:"No Photo"})})}),s.jsxs("div",{className:"p-6 flex-1",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:y.title}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),C(u.check_in_date)," - ",C(u.check_out_date)]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),u.num_guests," guest",u.num_guests>1?"s":""]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),L," night",L>1?"s":""]})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Message to Host"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Introduce yourself and let the host know why you're interested in their property."}),s.jsx("textarea",{value:u.guest_message,onChange:N,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Hi! I'm interested in booking your property. I'm visiting for...","aria-label":"Message to host"}),u.guest_message.length>0&&s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[u.guest_message.length," characters"]})]}),y.house_rules&&s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"House Rules"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:s.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:y.house_rules})}),s.jsxs("label",{className:"flex items-start cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:h,onChange:E=>{f(E.target.checked),p(null)},className:"mt-1 mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"text-sm text-gray-700",children:"I have read and agree to the house rules"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cancellation Policy"}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("svg",{className:"w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Free Cancellation"}),s.jsx("p",{className:"text-sm text-yellow-700",children:"You can cancel this booking up to 24 hours before check-in and receive a full refund."})]})]})})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sticky top-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Price Details"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600",children:["$",y.price_per_night," × ",L," night",L>1?"s":""]}),s.jsxs("span",{className:"font-medium text-gray-900",children:["$",m.nightly_total.toFixed(2)]})]}),m.cleaning_fee&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Cleaning fee"}),s.jsxs("span",{className:"font-medium text-gray-900",children:["$",m.cleaning_fee.toFixed(2)]})]}),s.jsx("div",{className:"border-t pt-3",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-base font-semibold text-gray-900",children:"Total"}),s.jsxs("span",{className:"text-base font-semibold text-gray-900",children:["$",m.total.toFixed(2)]})]})})]}),s.jsxs("form",{onSubmit:j,className:"mt-6",children:[v&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:s.jsx("p",{className:"text-sm text-red-700",children:v})}),s.jsx("button",{type:"submit",disabled:x.isPending,className:"w-full flex justify-center items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x.isPending?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending Request..."]}):"Send Booking Request"}),s.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"You won't be charged yet"})]}),s.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:s.jsx("p",{className:"text-xs text-gray-600 text-center",children:"Payment will be arranged directly with the host after booking confirmation"})})]})})]})]})})})},A2=({isOpen:e,onClose:t,onConfirm:r,isCancelling:n,isHost:i})=>{const[a,o]=k.useState(""),[l,c]=k.useState("");if(!e)return null;const u=d=>{d.preventDefault(),r(i&&l||a)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:i?"Cancel Booking":"Cancel Your Booking"}),i&&s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Cancellation"}),s.jsxs("select",{value:l,onChange:d=>c(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Select a reason"}),s.jsx("option",{value:"Property Unavailable",children:"Property Unavailable"}),s.jsx("option",{value:"Force Majeure",children:"Force Majeure"}),s.jsx("option",{value:"Guest Issue",children:"Guest Issue"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Message ",i?"to Guest":"(Optional)"]}),s.jsx("textarea",{value:a,onChange:d=>o(d.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:i?"Please explain the reason for cancellation...":"Add an optional message..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:t,disabled:n,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50",children:"Back"}),s.jsx("button",{onClick:u,disabled:n||i&&!l,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Cancelling...":"Confirm Cancellation"})]})]})})},M2=()=>{const{booking_id:e}=pi(),t=us(),r=V(C=>C.authentication_state.current_user),n=V(C=>C.authentication_state.auth_token),[i,a]=k.useState(!1),{data:o,isLoading:l,error:c}=pe({queryKey:["booking",e],queryFn:async()=>{if(!e||!n)throw new Error("Missing booking ID or auth token");return(await z.get(`https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/bookings/${e}`,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}})).data},enabled:!!e&&!!n,retry:1,staleTime:6e4}),u=o&&((r==null?void 0:r.id)===o.guest_id||(r==null?void 0:r.id)===o.host_id),d=o&&(r==null?void 0:r.id)===o.host_id,h=Ot({mutationFn:async()=>{if(!e||!n)throw new Error("Missing booking ID or auth token");return(await z.patch(`https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/bookings/${e}`,{status:"confirmed"},{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}})).data},onSuccess:()=>{t.invalidateQueries({queryKey:["booking",e]})}}),f=Ot({mutationFn:async C=>{if(!e||!n)throw new Error("Missing booking ID or auth token");return(await z.patch(`https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/bookings/${e}`,{status:"cancelled",cancellation_reason:C},{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}})).data},onSuccess:()=>{t.invalidateQueries({queryKey:["booking",e]}),a(!1)}}),v=Ot({mutationFn:async C=>{if(!e||!n)throw new Error("Missing booking ID or auth token");return(await z.patch(`https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/bookings/${e}`,{status:"cancelled",cancellation_message:C},{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}})).data},onSuccess:()=>{t.invalidateQueries({queryKey:["booking",e]}),a(!1)}}),p=()=>{h.mutate()},y=C=>{f.mutate(C)},b=C=>{v.mutate(C)},g=()=>{if(!o)return null;const L={pending:{bg:"bg-yellow-50 border-yellow-200",text:"text-yellow-800",dot:"bg-yellow-400",label:"Pending Confirmation",description:"The host has not yet responded to your booking request"},confirmed:{bg:"bg-green-50 border-green-200",text:"text-green-800",dot:"bg-green-400",label:"Booking Confirmed",description:"Your booking has been confirmed. See you soon!"},cancelled:{bg:"bg-red-50 border-red-200",text:"text-red-800",dot:"bg-red-400",label:"Booking Cancelled",description:o.cancellation_message||o.cancellation_reason||"This booking has been cancelled"},completed:{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",dot:"bg-blue-400",label:"Completed",description:"Your stay has been completed. We hope you enjoyed it!"}}[o.status];return s.jsx("div",{className:`border-l-4 p-4 ${L.bg} ${L.text}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`flex-shrink-0 w-3 h-3 rounded-full ${L.dot} animate-pulse`}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium",children:L.label}),s.jsx("div",{className:"mt-1 text-sm",children:L.description})]})]})})},m=C=>new Date(C).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),x=C=>new Date(C).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),j=()=>{if(!o||o.status!=="confirmed")return!1;const C=new Date(o.check_in_date),L=new Date;return(C.getTime()-L.getTime())/(1e3*60*60)<=48};if(l)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(c||!o)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Not Found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The booking you're looking for doesn't exist or you don't have permission to view it."}),s.jsx(U,{to:"/profile",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Back to Profile"})]})});if(!u)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to view this booking."}),s.jsx(U,{to:"/profile",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Back to Profile"})]})});const N=d?{name:o.guest_name,photo:o.guest_photo,phone:o.guest_phone,id:o.guest_id,label:"Guest"}:{name:o.host_name,photo:o.host_photo,phone:o.host_phone,id:o.host_id,label:"Host"};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("nav",{className:"mb-6",children:s.jsxs("ol",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[s.jsx("li",{children:s.jsx(U,{to:"/profile",className:"hover:text-gray-700",children:"Profile"})}),s.jsx("li",{children:"/"}),s.jsx("li",{className:"text-gray-900",children:"Trip Details"})]})}),s.jsx("div",{className:"mb-6",children:g()}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Property Information"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.cover_photo_url&&s.jsx("img",{src:o.cover_photo_url,alt:o.villa_title,className:"w-full sm:w-48 h-32 object-cover rounded-lg"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o.villa_title}),s.jsxs("p",{className:"text-gray-600 text-sm mb-2",children:["Booking ID: ",o.id]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Check-in:"}),s.jsx("p",{className:"text-gray-600",children:m(o.check_in_date)}),s.jsx("p",{className:"text-gray-500",children:x(o.check_in_date)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Check-out:"}),s.jsx("p",{className:"text-gray-600",children:m(o.check_out_date)}),s.jsx("p",{className:"text-gray-500",children:x(o.check_out_date)})]})]}),s.jsxs("div",{className:"mt-3 text-sm",children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Guests:"}),s.jsx("span",{className:"text-gray-600 ml-1",children:o.num_guests})]}),o.status==="confirmed"&&o.exact_address&&s.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Address:"}),s.jsx("p",{className:"text-sm text-gray-600",children:o.exact_address}),o.directions_landmarks&&s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:o.directions_landmarks})]})]})]}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsx(U,{to:`/listing/${o.villa_id}`,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View Property Details →"})})]})}),j()&&o.check_in_instructions&&s.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"📍 Check-in Instructions"}),s.jsx("div",{className:"text-blue-800 whitespace-pre-wrap",children:o.check_in_instructions})]}),o.house_rules&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"House Rules"}),s.jsx("div",{className:"text-gray-600 whitespace-pre-wrap",children:o.house_rules})]}),o.guest_message&&s.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:d?"Guest's Message":"Your Message"}),s.jsxs("div",{className:"text-gray-600 bg-white p-4 rounded-lg border border-gray-200",children:['"',o.guest_message,'"']})]}),o.status==="cancelled"&&s.jsxs("div",{className:"bg-red-50 rounded-xl p-6 border border-red-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-3",children:"Cancellation Details"}),o.cancellation_reason&&s.jsxs("p",{className:"text-red-800 mb-2",children:[s.jsx("strong",{children:"Reason:"})," ",o.cancellation_reason]}),o.cancellation_message&&s.jsxs("p",{className:"text-red-800",children:[s.jsx("strong",{children:"Message:"})," ",o.cancellation_message]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Contact ",N.label]}),s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("img",{src:N.photo||"https://picsum.photos/seed/default/100/100.jpg",alt:N.name,className:"w-12 h-12 rounded-full object-cover"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"font-medium text-gray-900",children:N.name}),s.jsx("p",{className:"text-sm text-gray-500",children:N.label})]})]}),s.jsx(U,{to:"/inbox",className:"w-full block text-center bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Send Message"}),s.jsx(U,{to:`/profile/${N.id}`,className:"w-full block text-center mt-2 text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View Profile"})]}),o.status==="confirmed"&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Method:"}),s.jsx("span",{className:"font-medium capitalize",children:o.preferred_payment_method.replace("_"," ")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),s.jsxs("span",{className:"font-bold text-lg text-gray-900",children:["LYD ",o.total_price.toFixed(2)]})]})]}),o.preferred_payment_method==="cash"&&s.jsx("div",{className:"mt-3 p-3 bg-yellow-50 rounded-lg",children:s.jsx("p",{className:"text-xs text-yellow-800",children:"💰 Please prepare cash for payment upon arrival"})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions"}),s.jsxs("div",{className:"space-y-3",children:[o.status==="pending"&&d&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:p,disabled:h.isPending,className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h.isPending?"Accepting...":"Accept Booking"}),s.jsx("button",{onClick:()=>a(!0),className:"w-full bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:"Decline Booking"})]}),o.status==="confirmed"&&s.jsx("button",{onClick:()=>a(!0),className:"w-full bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:"Cancel Booking"}),o.status==="completed"&&s.jsx("button",{className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Leave a Review"})]})]})]})]})]})}),s.jsx(A2,{isOpen:i,onClose:()=>a(!1),onConfirm:o.status==="pending"&&d?y:b,isCancelling:f.isPending||v.isPending,isHost:!!(o.status==="pending"&&d)})]})},F2=()=>{const e=Ft(),t=V(_=>_.authentication_state.current_user),r=V(_=>_.authentication_state.auth_token),[n,i]=k.useState(1),[a,o]=k.useState({}),[l,c]=k.useState(!1),[u,d]=k.useState({host_id:(t==null?void 0:t.id)||"",title:"",description:null,property_type:"apartment",num_guests:1,num_bedrooms:0,num_beds:0,num_bathrooms:0,price_per_night:0,cleaning_fee:null,minimum_nights:1,house_rules:null,preferred_payment_method:"cash",exact_address:null,directions_landmarks:null,latitude:null,longitude:null}),[h,f]=k.useState([]),[v,p]=k.useState([]),[y,b]=k.useState([]);k.useEffect(()=>{!t||t.account_type!=="host"?e("/profile"):d(_=>({..._,host_id:t.id}))},[t,e]);const{data:g=[],isLoading:m}=pe({queryKey:["amenities"],queryFn:async()=>(await z.get("https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/amenities")).data,staleTime:6e4});k.useEffect(()=>{const _={currentStep:n,listingForm:u,selectedAmenities:h,uploadedPhotos:v.map(R=>({...R,file:null})),blockedDates:y};localStorage.setItem("listing-progress",JSON.stringify(_))},[n,u,h,v,y]),k.useEffect(()=>{const _=localStorage.getItem("listing-progress");if(_)try{const R=JSON.parse(_);i(R.currentStep||1),d(T=>({...T,...R.listingForm})),f(R.selectedAmenities||[]),b(R.blockedDates?R.blockedDates.map(T=>new Date(T)):[])}catch(R){console.error("Failed to load progress:",R)}},[]);const x=Ot({mutationFn:async _=>(await z.post("https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/villas",_,{headers:{Authorization:`Bearer ${r}`}})).data,onSuccess:async _=>{for(const R of h)await z.post(`https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/villas/${_.id}/amenities`,{amenity_id:R},{headers:{Authorization:`Bearer ${r}`}});for(const R of v)await z.post(`https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/villas/${_.id}/photos`,{url:R.url,description:R.description,is_cover_photo:R.is_cover_photo,sort_order:R.sort_order},{headers:{Authorization:`Bearer ${r}`}});y.length>0&&await z.patch(`https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/villas/${_.id}/availability`,{dates:y.map(R=>({date:R.toISOString().split("T")[0],status:"blocked"}))},{headers:{Authorization:`Bearer ${r}`}}),await z.patch(`https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/villas/${_.id}`,{status:"listed"},{headers:{Authorization:`Bearer ${r}`}}),localStorage.removeItem("listing-progress"),e("/host/dashboard")},onError:_=>{var R,T;o({submit:((T=(R=_.response)==null?void 0:R.data)==null?void 0:T.message)||"Failed to create listing"}),c(!1)}}),j=k.useCallback(_=>{const R={};switch(_){case 1:u.num_guests<1&&(R.num_guests="Must accommodate at least 1 guest"),u.num_bedrooms<0&&(R.num_bedrooms="Cannot be negative"),u.num_beds<0&&(R.num_beds="Cannot be negative"),u.num_bathrooms<0&&(R.num_bathrooms="Cannot be negative");break;case 2:u.exact_address||(R.exact_address="Address is required");break;case 4:v.length<5&&(R.photos="At least 5 photos are required"),v.some(T=>T.is_cover_photo)||(R.cover_photo="Please select a cover photo");break;case 5:(!u.title||u.title.length<10)&&(R.title="Title must be at least 10 characters"),(!u.description||u.description.length<50)&&(R.description="Description must be at least 50 characters");break;case 7:u.price_per_night<=0&&(R.price_per_night="Price must be greater than 0"),u.minimum_nights<1&&(R.minimum_nights="Minimum nights must be at least 1");break}return o(R),Object.keys(R).length===0},[u,v]),N=()=>{j(n)&&i(_=>Math.min(_+1,9))},C=()=>{i(_=>Math.max(_-1,1)),o({})},L=async()=>{j(n)&&(c(!0),x.mutate(u))},A=_=>{const T=Array.from(_.target.files||[]).map((K,M)=>({file:K,url:URL.createObjectURL(K),description:null,is_cover_photo:v.length===0&&M===0,sort_order:v.length+M}));p(K=>[...K,...T]),o({})},E=_=>{p(R=>{const T=R.filter((K,M)=>M!==_);return R[_].is_cover_photo&&T.length>0&&(T[0].is_cover_photo=!0),T.map((K,M)=>({...K,sort_order:M}))})},S=_=>{p(R=>R.map((T,K)=>({...T,is_cover_photo:K===_})))},D=_=>{b(R=>R.some(K=>K.toDateString()===_.toDateString())?R.filter(K=>K.toDateString()!==_.toDateString()):[...R,_])},O=_=>({WiFi:s.jsx(k2,{className:"w-5 h-5"}),Parking:s.jsx(d2,{className:"w-5 h-5"}),TV:s.jsx(j2,{className:"w-5 h-5"}),"Air Conditioning":s.jsx(S2,{className:"w-5 h-5"}),Pool:s.jsx(Th,{className:"w-5 h-5"}),Kitchen:s.jsx(h2,{className:"w-5 h-5"}),Generator:s.jsx(Je,{className:"w-5 h-5"}),"Water Tank":s.jsx(Th,{className:"w-5 h-5"}),"Prayer Mats":s.jsx(Rh,{className:"w-5 h-5"}),Quran:s.jsx(Rh,{className:"w-5 h-5"})})[_]||s.jsx(Je,{className:"w-5 h-5"}),$=[{title:"Basics",description:"Property type and capacity"},{title:"Location",description:"Where your property is located"},{title:"Amenities",description:"What you offer"},{title:"Photos",description:"Show off your space"},{title:"Description",description:"Tell guests about your place"},{title:"Availability",description:"When guests can book"},{title:"Pricing",description:"Set your rates"},{title:"House Rules",description:"Guest requirements"},{title:"Payment",description:"How you get paid"}];return!t||t.account_type!=="host"?null:s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create a New Listing"}),s.jsx("p",{className:"text-gray-600",children:"Complete the steps below to list your property on Dar Libya"})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:$.map((_,R)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${n>R+1?"bg-green-600 border-green-600 text-white":n===R+1?"bg-blue-600 border-blue-600 text-white":"bg-white border-gray-300 text-gray-500"}`,children:n>R+1?s.jsx(ua,{className:"w-5 h-5"}):s.jsx("span",{className:"text-sm font-medium",children:R+1})}),R<$.length-1&&s.jsx("div",{className:`w-full h-1 mx-2 ${n>R+1?"bg-green-600":"bg-gray-300"}`})]},R))}),s.jsxs("div",{className:"text-center",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Step ",n," of ",$.length,": ",$[n-1].title]}),s.jsx("p",{className:"text-gray-600 mt-1",children:$[n-1].description})]})]}),a.submit&&s.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(Tu,{className:"w-5 h-5 text-red-400 mt-0.5"}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm text-red-800",children:a.submit})})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 lg:p-8",children:[n===1&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Type"}),s.jsxs("select",{value:u.property_type,onChange:_=>{d(R=>({...R,property_type:_.target.value})),o({})},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"apartment",children:"Apartment"}),s.jsx("option",{value:"house",children:"House"}),s.jsx("option",{value:"villa",children:"Villa"}),s.jsx("option",{value:"cottage",children:"Cottage"}),s.jsx("option",{value:"farmhouse",children:"Farmhouse"}),s.jsx("option",{value:"cabin",children:"Cabin"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Guests"}),s.jsx("input",{type:"number",min:"1",value:u.num_guests,onChange:_=>{d(R=>({...R,num_guests:parseInt(_.target.value)||0})),o({})},className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a.num_guests?"border-red-500":"border-gray-300"}`}),a.num_guests&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.num_guests})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Bedrooms"}),s.jsx("input",{type:"number",min:"0",value:u.num_bedrooms,onChange:_=>{d(R=>({...R,num_bedrooms:parseInt(_.target.value)||0})),o({})},className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a.num_bedrooms?"border-red-500":"border-gray-300"}`}),a.num_bedrooms&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.num_bedrooms})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Beds"}),s.jsx("input",{type:"number",min:"0",value:u.num_beds,onChange:_=>{d(R=>({...R,num_beds:parseInt(_.target.value)||0})),o({})},className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a.num_beds?"border-red-500":"border-gray-300"}`}),a.num_beds&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.num_beds})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Bathrooms"}),s.jsx("input",{type:"number",min:"0",value:u.num_bathrooms,onChange:_=>{d(R=>({...R,num_bathrooms:parseInt(_.target.value)||0})),o({})},className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a.num_bathrooms?"border-red-500":"border-gray-300"}`}),a.num_bathrooms&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.num_bathrooms})]})]})]}),n===2&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exact Address (Private - Shared only after booking)"}),s.jsx("textarea",{rows:3,value:u.exact_address||"",onChange:_=>{d(R=>({...R,exact_address:_.target.value})),o({})},className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a.exact_address?"border-red-500":"border-gray-300"}`,placeholder:"Enter the complete address of your property"}),a.exact_address&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.exact_address})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Directions & Landmarks (Public)"}),s.jsx("textarea",{rows:3,value:u.directions_landmarks||"",onChange:_=>{d(R=>({...R,directions_landmarks:_.target.value})),o({})},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Near the Al-Mansourya roundabout, next to the blue building"})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(Ua,{className:"w-5 h-5 text-blue-600 mt-0.5"}),s.jsx("div",{className:"ml-3",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Map Integration:"})," In the full version, you'll be able to place a pin on an interactive map to precisely locate your property."]})})]})})]}),n===3&&s.jsx("div",{className:"space-y-6",children:m?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(Lh,{className:"w-8 h-8 animate-spin text-blue-600"})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(_=>s.jsxs("label",{className:`flex items-center p-4 border rounded-lg cursor-pointer transition-colors ${h.includes(_.id)?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx("input",{type:"checkbox",checked:h.includes(_.id),onChange:R=>{R.target.checked?f(T=>[...T,_.id]):f(T=>T.filter(K=>K!==_.id))},className:"sr-only"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${h.includes(_.id)?"bg-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:O(_.name)}),s.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:_.name})]})]},_.id))})}),n===4&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Photos (Minimum 5 required)"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:A,className:"hidden",id:"photo-upload"}),s.jsxs("label",{htmlFor:"photo-upload",className:"cursor-pointer",children:[s.jsx(N2,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload or drag and drop"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF up to 10MB"})]})]}),a.photos&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.photos}),a.cover_photo&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.cover_photo})]}),v.length>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["Uploaded Photos (",v.length,")"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:v.map((_,R)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:_.url,alt:`Photo ${R+1}`,className:"w-full h-32 object-cover rounded-lg"}),s.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center space-x-2",children:[s.jsx("button",{onClick:()=>S(R),className:`p-2 rounded ${_.is_cover_photo?"bg-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,title:_.is_cover_photo?"Cover Photo":"Set as Cover",children:_.is_cover_photo?s.jsx(ua,{className:"w-4 h-4"}):s.jsx(Je,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>E(R),className:"p-2 bg-red-600 text-white rounded hover:bg-red-700",title:"Remove",children:s.jsx(Mh,{className:"w-4 h-4"})})]}),_.is_cover_photo&&s.jsx("div",{className:"absolute top-2 left-2 bg-green-600 text-white text-xs px-2 py-1 rounded",children:"Cover"})]},R))})]})]}),n===5&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (50 character limit)"}),s.jsx("input",{type:"text",maxLength:50,value:u.title,onChange:_=>{d(R=>({...R,title:_.target.value})),o({})},className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a.title?"border-red-500":"border-gray-300"}`,placeholder:"e.g., Beautiful Apartment in Tripoli City Center"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[u.title.length,"/50 characters"]}),a.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.title})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{rows:6,value:u.description||"",onChange:_=>{d(R=>({...R,description:_.target.value})),o({})},className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a.description?"border-red-500":"border-gray-300"}`,placeholder:"Describe your property, its unique features, and what makes it special for guests..."}),a.description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.description})]})]}),n===6&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Block Unavailable Dates"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Click on dates to block them. Guests won't be able to book these dates."}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-7 gap-2 text-center",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(_=>s.jsx("div",{className:"text-xs font-medium text-gray-700 py-2",children:_},_)),Array.from({length:35},(_,R)=>{const T=new Date;T.setDate(T.getDate()-T.getDay()+R);const K=y.some(q=>q.toDateString()===T.toDateString()),M=T.getTime()<new Date().setHours(0,0,0,0);return s.jsx("button",{onClick:()=>!M&&D(T),disabled:M,className:`p-2 text-sm rounded transition-colors ${M?"text-gray-400 cursor-not-allowed":K?"bg-red-600 text-white hover:bg-red-700":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-300"}`,children:T.getDate()},R)})]})})]}),y.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Blocked Dates:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:y.map((_,R)=>s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-red-100 text-red-800",children:[_.toLocaleDateString(),s.jsx("button",{onClick:()=>D(_),className:"ml-2 text-red-600 hover:text-red-800",children:s.jsx(Mh,{className:"w-3 h-3"})})]},R))})]})]}),n===7&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price per Night (LYD)"}),s.jsx("input",{type:"number",min:"0",step:"0.01",value:u.price_per_night,onChange:_=>{d(R=>({...R,price_per_night:parseFloat(_.target.value)||0})),o({})},className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a.price_per_night?"border-red-500":"border-gray-300"}`}),a.price_per_night&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.price_per_night})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:u.cleaning_fee!==null,onChange:_=>{d(R=>({...R,cleaning_fee:_.target.checked?0:null}))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Add Cleaning Fee"})]}),u.cleaning_fee!==null&&s.jsx("div",{className:"mt-2",children:s.jsx("input",{type:"number",min:"0",step:"0.01",value:u.cleaning_fee||0,onChange:_=>{d(R=>({...R,cleaning_fee:parseFloat(_.target.value)||0}))},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Cleaning fee amount"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Nights Stay"}),s.jsx("input",{type:"number",min:"1",value:u.minimum_nights,onChange:_=>{d(R=>({...R,minimum_nights:parseInt(_.target.value)||1})),o({})},className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a.minimum_nights?"border-red-500":"border-gray-300"}`}),a.minimum_nights&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.minimum_nights})]})]}),n===8&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"House Rules"}),s.jsx("textarea",{rows:6,value:u.house_rules||"",onChange:_=>{d(R=>({...R,house_rules:_.target.value})),o({})},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., No smoking, No parties, Quiet hours after 10 PM, ID required on arrival..."}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Be clear about your expectations to ensure a good experience for both you and your guests."})]})}),n===9&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Payment Method"}),s.jsxs("select",{value:u.preferred_payment_method,onChange:_=>{d(R=>({...R,preferred_payment_method:_.target.value})),o({})},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"cash",children:"Cash on Arrival"}),s.jsx("option",{value:"bank_transfer",children:"Bank Transfer"})]}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:u.preferred_payment_method==="cash"?"Guests will pay in cash when they arrive at your property.":"Your bank details will be shared with guests after booking confirmation."})]}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(ua,{className:"w-5 h-5 text-green-600 mt-0.5"}),s.jsx("div",{className:"ml-3",children:s.jsxs("p",{className:"text-sm text-green-800",children:[s.jsx("strong",{children:"Ready to publish!"})," Your listing will be visible to guests once you click the Publish button."]})})]})})]}),s.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200",children:[s.jsx("button",{onClick:C,disabled:n===1,className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Back"}),s.jsx("button",{onClick:n===9?L:N,disabled:l||x.isPending,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:l||x.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Lh,{className:"w-4 h-4 mr-2 animate-spin"}),n===9?"Publishing...":"Loading..."]}):n===9?"Publish Listing":"Next"})]})]})]})})})},D2=()=>{const e=V(f=>f.authentication_state.current_user),t=V(f=>f.authentication_state.auth_token),r=us(),{data:n=[],isLoading:i,error:a}=pe({queryKey:["host-bookings",e==null?void 0:e.id],queryFn:async()=>{const v=(await z.get("https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/bookings",{headers:{Authorization:`Bearer ${t}`}})).data;return await Promise.all(v.map(async y=>{const b=await z.get(`https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/villas/${y.villa_id}`),g=await z.get(`https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/users/${y.guest_id}`);return{...y,villa:{id:b.data.id,title:b.data.title,photos:b.data.photos||[]},guest:{id:g.data.id,name:g.data.name,profile_picture_url:g.data.profile_picture_url}}}))},enabled:!!(e!=null&&e.id)&&!!t&&(e==null?void 0:e.account_type)==="host",staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),o=Ot({mutationFn:async({bookingId:f,status:v})=>(await z.patch(`https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/bookings/${f}`,{status:v},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data,onSuccess:()=>{r.invalidateQueries({queryKey:["host-bookings",e==null?void 0:e.id]})}}),l=Ur.useMemo(()=>{const f={total_listings:0,active_requests:0,upcoming_check_ins:0},v=new Set(n.map(y=>y.villa_id));f.total_listings=v.size,f.active_requests=n.filter(y=>y.status==="pending").length;const p=new Date;return f.upcoming_check_ins=n.filter(y=>y.status==="confirmed"&&new Date(y.check_in_date)>p).length,f},[n]);if(!e||e.account_type!=="host")return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600",children:"This page is only available to hosts."}),s.jsx(U,{to:"/",className:"mt-4 inline-block bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Go Home"})]})})});const c=f=>{o.mutate({bookingId:f,status:"confirmed"})},u=f=>{o.mutate({bookingId:f,status:"cancelled"})},d=f=>new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),h=f=>{switch(f){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return i?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error Loading Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Failed to load your dashboard data. Please try again."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Retry"})]})})}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-100",children:[s.jsx("div",{className:"bg-white shadow",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",e.name,"!"]}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Here's what's happening with your properties today."})]})})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-md flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Listings"}),s.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:l.total_listings})]})})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-md flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Pending Requests"}),s.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:l.active_requests})]})})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-md flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Upcoming Check-ins"}),s.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:l.upcoming_check_ins})]})})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs(U,{to:"/host/listing/new",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create a New Listing"]}),s.jsxs(U,{to:"/profile",className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"View Your Listings"]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Bookings"})}),n.length===0?s.jsxs("div",{className:"px-6 py-12 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No bookings yet"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new listing."}),s.jsx("div",{className:"mt-6",children:s.jsxs(U,{to:"/host/listing/new",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Listing"]})})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Guest"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Listing"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check-in"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check-out"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(f=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:f.guest.profile_picture_url?s.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:f.guest.profile_picture_url,alt:f.guest.name}):s.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-gray-600",children:f.guest.name.charAt(0)})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.guest.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:[f.num_guests," guest",f.num_guests>1?"s":""]})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.villa.title}),s.jsx("div",{className:"text-sm text-gray-500",children:new Intl.NumberFormat("en-LY",{style:"currency",currency:"LYD"}).format(f.total_price)})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:d(f.check_in_date)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:d(f.check_out_date)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(f.status)}`,children:f.status.charAt(0).toUpperCase()+f.status.slice(1)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:f.status==="pending"?s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>c(f.id),disabled:o.isPending,className:"text-green-600 hover:text-green-900 disabled:opacity-50",children:"Accept"}),s.jsx("button",{onClick:()=>u(f.id),disabled:o.isPending,className:"text-red-600 hover:text-red-900 disabled:opacity-50",children:"Decline"})]}):s.jsx(U,{to:`/trip/${f.id}`,className:"text-blue-600 hover:text-blue-900",children:"View Details"})})]},f.id))})]})})]})]})]})})},B2=async e=>(await z.get("https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/messages",{headers:{Authorization:`Bearer ${e}`}})).data.map(r=>({thread_id:r.thread_id,other_user:{id:r.other_user._id||r.other_user.id,name:r.other_user.name,profile_picture_url:r.other_user.profile_picture_url},last_message:r.last_message,unread_count:r.unread_count})),I2=async(e,t)=>{const n=(await z.get(`https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/messages/${e}`,{headers:{Authorization:`Bearer ${t}`}})).data.map(a=>({...a,sender_id:a.sender_id._id||a.sender_id,receiver_id:a.receiver_id._id||a.receiver_id})),i=n.length>0?n[0].sender_id===n[0].receiver_id?n[0]:n.find(a=>{var o;return a.sender_id!==((o=n.find(l=>l.sender_id===a.sender_id))==null?void 0:o.sender_id)}):null;return{messages:n,other_user:i?{id:i.sender_id,name:i.sender_name||"Unknown",profile_picture_url:i.sender_photo}:{id:"",name:"Unknown",profile_picture_url:null}}},U2=async(e,t,r,n,i)=>(await z.post(`https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/messages/${e}`,{receiver_id:r,content:t,booking_id:n},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`}})).data,z2=async(e,t)=>{await Promise.all(e.map(r=>z.patch(`https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai/api/messages/${r}/read`,{},{headers:{Authorization:`Bearer ${t}`}})))},$2=()=>{const{thread_id:e}=pi(),[t,r]=k.useState(""),[n,i]=k.useState(e||null),a=k.useRef(null),o=V(N=>N.authentication_state.current_user),l=V(N=>N.authentication_state.auth_token),c=us(),{data:u=[],isLoading:d,error:h,refetch:f}=pe({queryKey:["threads"],queryFn:()=>B2(l),enabled:!!l,staleTime:3e4,refetchOnWindowFocus:!1}),{data:v,isLoading:p,error:y}=pe({queryKey:["thread",n],queryFn:()=>I2(n,l),enabled:!!n&&!!l,staleTime:1e4}),b=Ot({mutationFn:({receiverId:N,content:C,bookingId:L})=>U2(n,C,N,L,l),onSuccess:N=>{c.setQueryData(["thread",n],C=>C&&{...C,messages:[...C.messages,N]}),c.invalidateQueries({queryKey:["threads"]}),r(""),setTimeout(()=>{var C;(C=a.current)==null||C.scrollIntoView({behavior:"smooth"})},100)},onError:N=>{console.error("Failed to send message:",N)}});k.useEffect(()=>{if(v&&o){const N=v.messages.filter(C=>!C.is_read&&C.receiver_id===o.id);N.length>0&&z2(N.map(C=>C.id),l).then(()=>{c.setQueryData(["thread",n],C=>C&&{...C,messages:C.messages.map(L=>N.find(A=>A.id===L.id)?{...L,is_read:!0}:L)}),c.invalidateQueries({queryKey:["threads"]})})}},[v,o,n,l,c]),k.useEffect(()=>{var N;(N=a.current)==null||N.scrollIntoView({behavior:"smooth"})},[v==null?void 0:v.messages]);const g=N=>{i(N)},m=N=>{var C;N.preventDefault(),!(!t.trim()||!v||!o)&&b.mutate({receiverId:v.other_user.id,content:t.trim(),bookingId:((C=v.messages[0])==null?void 0:C.booking_id)||null})},x=N=>new Date(N).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),j=N=>{const C=new Date(N),L=new Date,A=new Date(L);return A.setDate(A.getDate()-1),C.toDateString()===L.toDateString()?"Today":C.toDateString()===A.toDateString()?"Yesterday":C.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"h-screen flex flex-col bg-white",children:[s.jsx("div",{className:"border-b border-gray-200 px-4 py-3 sm:px-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Messages"}),s.jsx("button",{onClick:()=>f(),className:"text-gray-500 hover:text-gray-700 transition-colors","aria-label":"Refresh messages",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})}),s.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s.jsx("div",{className:"w-full md:w-96 border-r border-gray-200 flex flex-col",children:d?s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):h?s.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-red-600 mb-2",children:"Failed to load messages"}),s.jsx("button",{onClick:()=>f(),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Try again"})]})}):u.length===0?s.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No messages"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Your conversations will appear here"}),s.jsx("div",{className:"mt-6",children:s.jsx(U,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Browse Properties"})})]})}):s.jsx("div",{className:"flex-1 overflow-y-auto",children:u.map(N=>s.jsxs("div",{onClick:()=>g(N.thread_id),className:`flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 transition-colors ${n===N.thread_id?"bg-blue-50 border-l-4 border-l-blue-600":""}`,children:[s.jsx("div",{className:"flex-shrink-0",children:N.other_user.profile_picture_url?s.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:N.other_user.profile_picture_url,alt:N.other_user.name}):s.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-600 font-medium",children:N.other_user.name.charAt(0).toUpperCase()})})}),s.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:N.other_user.name}),N.unread_count>0&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:N.unread_count})]}),s.jsxs("div",{className:"mt-1",children:[s.jsx("p",{className:`text-sm truncate ${N.unread_count>0?"text-gray-900 font-medium":"text-gray-500"}`,children:N.last_message.content}),s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[j(N.last_message.created_at)," at ",x(N.last_message.created_at)]})]})]})]},N.thread_id))})}),s.jsx("div",{className:"hidden md:flex flex-1 flex-col",children:n&&v?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[v.other_user.profile_picture_url?s.jsx("img",{className:"h-8 w-8 rounded-full object-cover",src:v.other_user.profile_picture_url,alt:v.other_user.name}):s.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-600 text-sm font-medium",children:v.other_user.name.charAt(0).toUpperCase()})}),s.jsx("h2",{className:"ml-3 text-lg font-medium text-gray-900",children:v.other_user.name})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:[p?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):y?s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-red-600",children:"Failed to load messages"})}):v.messages.length===0?s.jsx("div",{className:"text-center text-gray-500",children:s.jsx("p",{children:"No messages yet. Start the conversation!"})}):v.messages.map(N=>{const C=N.sender_id===(o==null?void 0:o.id);return s.jsx("div",{className:`flex ${C?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${C?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[s.jsx("p",{className:"text-sm",children:N.content}),s.jsxs("p",{className:`text-xs mt-1 ${C?"text-blue-200":"text-gray-500"}`,children:[x(N.created_at),!N.is_read&&C&&s.jsx("span",{className:"ml-2",children:s.jsxs("svg",{className:"inline w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:[s.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),s.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})})]})]})},N.id)}),s.jsx("div",{ref:a})]}),s.jsx("div",{className:"border-t border-gray-200 px-6 py-4",children:s.jsxs("form",{onSubmit:m,className:"flex space-x-3",children:[s.jsx("input",{type:"text",value:t,onChange:N=>{r(N.target.value)},placeholder:"Type a message...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",disabled:b.isPending}),s.jsx("button",{type:"submit",disabled:!t.trim()||b.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:b.isPending?s.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Select a conversation"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Choose a thread from the list to start messaging"})]})})})]}),n&&v&&s.jsx("div",{className:"md:hidden border-t border-gray-200 px-4 py-3",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:()=>i(null),className:"text-gray-500 mr-3","aria-label":"Back to threads",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),v.other_user.profile_picture_url?s.jsx("img",{className:"h-8 w-8 rounded-full object-cover",src:v.other_user.profile_picture_url,alt:v.other_user.name}):s.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-600 text-sm font-medium",children:v.other_user.name.charAt(0).toUpperCase()})}),s.jsx("span",{className:"ml-3 font-medium text-gray-900",children:v.other_user.name})]})})})]})})},H2=()=>{const e=V(O=>O.authentication_state.current_user),t=V(O=>O.authentication_state.auth_token),r=V(O=>O.update_user_profile),n=V(O=>O.ui_preferences.preferred_language),[i,a]=k.useState("trips"),[o,l]=k.useState("upcoming"),[c,u]=k.useState(!1),[d,h]=k.useState({name:"",email:"",profile_picture_url:""}),f="https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai",v={headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}},{data:p,isLoading:y,refetch:b}=pe({queryKey:["userProfile"],queryFn:async()=>(await z.get(`${f}/api/users/me`,v)).data,enabled:!!t,staleTime:6e4}),{data:g=[],isLoading:m}=pe({queryKey:["userTrips",o],queryFn:async()=>{const O=o==="upcoming"?"upcoming":"past";return(await z.get(`${f}/api/users/me/trips?status=${O}`,v)).data},enabled:!!t&&i==="trips",staleTime:6e4}),{data:x=[],isLoading:j}=pe({queryKey:["userListings"],queryFn:async()=>(await z.get(`${f}/api/users/me/listings`,v)).data,enabled:!!t&&i==="listings",staleTime:6e4}),{data:N=[],isLoading:C}=pe({queryKey:["userReviews"],queryFn:async()=>{if(!e)return[];const O=await z.get(`${f}/api/reviews?reviewer_id=${e.id}`,v);return await Promise.all(O.data.map(async _=>{try{const T=(await z.get(`${f}/api/bookings/${_.booking_id}`,v)).data,M=(await z.get(`${f}/api/villas/${T.villa_id}`,v)).data,W=(await z.get(`${f}/api/users/${_.reviewee_id}`,v)).data;return{..._,villa_title:M.title,reviewee_name:W.name}}catch{return _}}))},enabled:!!t&&!!e&&i==="reviews",staleTime:6e4}),L=Ot({mutationFn:async O=>(await z.patch(`${f}/api/users/me`,O,v)).data,onSuccess:O=>{r(O),u(!1),b()}}),A=()=>{p&&(h({name:p.name,email:p.email||"",profile_picture_url:p.profile_picture_url||""}),u(!0))},E=()=>{L.mutate(d)},S=O=>new Date(O).toLocaleDateString(n==="ar"?"ar-LY":"en-LY",{year:"numeric",month:"long",day:"numeric"}),D=O=>new Intl.NumberFormat(n==="ar"?"ar-LY":"en-LY",{style:"currency",currency:"LYD"}).format(O);return y?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-100 py-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start space-y-4 sm:space-y-0 sm:space-x-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-200 overflow-hidden",children:p!=null&&p.profile_picture_url?s.jsx("img",{src:p.profile_picture_url,alt:p.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-300",children:s.jsx("span",{className:"text-3xl text-gray-600",children:p==null?void 0:p.name.charAt(0).toUpperCase()})})}),s.jsx("button",{className:"absolute bottom-0 right-0 bg-blue-600 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(u2,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"flex-1 text-center sm:text-left",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:p==null?void 0:p.name}),s.jsxs("div",{className:"flex items-center justify-center sm:justify-start space-x-2 mt-2",children:[s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${p!=null&&p.is_phone_verified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:p!=null&&p.is_phone_verified?s.jsxs(s.Fragment,{children:[s.jsx(ua,{className:"w-3 h-3 mr-1"}),"Verified"]}):"Not Verified"}),s.jsxs("span",{className:"text-gray-500 text-sm",children:["Member since ",p&&S(p.created_at)]})]}),s.jsx("p",{className:"text-gray-600 mt-2",children:(p==null?void 0:p.email)||(p==null?void 0:p.phone_number)})]}),s.jsxs("button",{onClick:A,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(v2,{className:"w-4 h-4"}),s.jsx("span",{children:"Edit Profile"})]})]})})]}),c&&s.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Edit Profile"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),s.jsx("input",{type:"text",value:d.name,onChange:O=>h({...d,name:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:d.email,onChange:O=>h({...d,email:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[s.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:E,disabled:L.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:L.isPending?"Saving...":"Save Changes"})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg mb-8",children:s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:[s.jsx("button",{onClick:()=>a("trips"),className:`py-4 px-1 border-b-2 font-medium text-sm ${i==="trips"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"My Trips"}),((p==null?void 0:p.account_type)==="host"||(p==null?void 0:p.account_type)==="admin")&&s.jsx("button",{onClick:()=>a("listings"),className:`py-4 px-1 border-b-2 font-medium text-sm ${i==="listings"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"My Listings"}),s.jsx("button",{onClick:()=>a("reviews"),className:`py-4 px-1 border-b-2 font-medium text-sm ${i==="reviews"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"My Reviews"})]})})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i==="trips"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-b border-gray-200 mb-6",children:s.jsxs("nav",{className:"flex space-x-8",children:[s.jsx("button",{onClick:()=>l("upcoming"),className:`py-2 px-1 border-b-2 font-medium text-sm ${o==="upcoming"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Upcoming"}),s.jsx("button",{onClick:()=>l("past"),className:`py-2 px-1 border-b-2 font-medium text-sm ${o==="past"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Past"})]})}),m?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):g.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ia,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:o==="upcoming"?"No upcoming trips":"No past trips"}),s.jsx("p",{className:"text-gray-500",children:o==="upcoming"?"Start planning your next adventure!":"Your completed trips will appear here"}),s.jsx(U,{to:"/",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors mt-4",children:"Explore Properties"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:g.map(O=>s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsx(U,{to:`/trip/${O.id}`,children:s.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200",children:O.cover_photo_url?s.jsx("img",{src:O.cover_photo_url,alt:O.villa_title,className:"w-full h-48 object-cover"}):s.jsx("div",{className:"w-full h-48 flex items-center justify-center bg-gray-300",children:s.jsx(Je,{className:"w-12 h-12 text-gray-400"})})})}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:O.villa_title}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${O.status==="confirmed"?"bg-green-100 text-green-800":O.status==="pending"?"bg-yellow-100 text-yellow-800":O.status==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:O.status.charAt(0).toUpperCase()+O.status.slice(1)})]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[S(O.check_in_date)," - ",S(O.check_out_date)]}),s.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[O.num_guests," guests"]}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:D(O.total_price)}),s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[O.host_photo?s.jsx("img",{src:O.host_photo,alt:O.host_name,className:"w-6 h-6 rounded-full"}):null,s.jsx("span",{className:"text-sm text-gray-600",children:O.host_name})]}),s.jsx(U,{to:`/trip/${O.id}`,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View Details"})]})]})]},O.id))})]}),i==="listings"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"My Properties"}),s.jsx(U,{to:"/host/listing/new",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:s.jsx("span",{children:"+ Add New Listing"})}),s.jsxs(U,{to:"/host/dashboard",className:"text-blue-600 hover:text-blue-700 font-medium flex items-center space-x-2",children:[s.jsx(b2,{className:"w-4 h-4"}),s.jsx("span",{children:"Host Dashboard"})]})]}),j?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):x.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Je,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No listings yet"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Start earning by listing your property"}),s.jsx(U,{to:"/host/listing/new",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Your First Listing"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(O=>s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200 relative",children:[O.cover_photo_url?s.jsx("img",{src:O.cover_photo_url,alt:O.title,className:"w-full h-48 object-cover"}):s.jsx("div",{className:"w-full h-48 flex items-center justify-center bg-gray-300",children:s.jsx(Je,{className:"w-12 h-12 text-gray-400"})}),O.photo_count>0&&s.jsxs("span",{className:"absolute top-2 right-2 bg-black bg-opacity-60 text-white text-xs px-2 py-1 rounded",children:[O.photo_count," photos"]}),s.jsx("span",{className:`absolute top-2 left-2 px-2 py-1 rounded text-xs font-medium ${O.status==="listed"?"bg-green-100 text-green-800":O.status==="draft"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:O.status.charAt(0).toUpperCase()+O.status.slice(1)})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:O.title}),s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[O.num_bedrooms," beds • ",O.num_bathrooms," baths • ",O.num_guests," guests"]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[D(O.price_per_night),s.jsx("span",{className:"text-sm text-gray-500",children:"/night"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(U,{to:`/listing/${O.id}`,className:"text-blue-600 hover:text-blue-700 text-sm",children:"View"}),s.jsx(U,{to:`/host/listing/${O.id}/edit`,className:"text-gray-600 hover:text-gray-700 text-sm",children:"Edit"})]})]})]})]},O.id))})]}),i==="reviews"&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"My Reviews"}),C?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):N.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(y2,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No reviews yet"}),s.jsx("p",{className:"text-gray-500",children:"Your reviews will appear here after you complete trips"})]}):s.jsx("div",{className:"space-y-6",children:N.map(O=>s.jsxs("div",{className:"border-b border-gray-200 pb-6 last:border-b-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900",children:["Review for ",O.reviewee_name]}),O.villa_title&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Property: ",O.villa_title]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:S(O.created_at)})]}),s.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map($=>s.jsx(Rn,{className:`w-5 h-5 ${$<=O.public_rating?"text-yellow-400 fill-current":"text-gray-300"}`},$))})]}),O.public_comment&&s.jsx("p",{className:"text-gray-700",children:O.public_comment}),!O.is_visible&&s.jsx("p",{className:"text-sm text-gray-500 mt-2 italic",children:"This review will be visible once the other party also submits their review"})]},O.id))})]})]})]})})})},bi="https://123airbnb-style-app-for-the-libyan-market.launchpulse.ai",q2=async e=>{const{data:t}=await z.get(`${bi}/users/${e}`);return t},V2=async e=>{const{data:t}=await z.get(`${bi}/villas`,{params:{host_id:e,status:"listed",limit:50}});return t},W2=async e=>{const{data:t}=await z.get(`${bi}/villas/${e}/photos`);return t},Q2=async e=>{const{data:t}=await z.get(`${bi}/reviews`,{params:{reviewee_id:e,is_visible:!0,limit:50}});return t},K2=async e=>{const{data:t}=await z.get(`${bi}/users/${e}`);return t},Y2=(e,t)=>{if(!e)return{joined_date:"",review_count:0,response_rate:0};const r=t.length>0?Math.min(95,85+Math.random()*10):0;return{joined_date:e.created_at,review_count:t.length,response_rate:Math.round(r)}},Fh=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long"}),G2=({rating:e})=>s.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(t=>s.jsx(Rn,{className:`size-4 ${t<=e?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},t))}),J2=()=>{const{host_id:e}=pi(),{data:t,isLoading:r,error:n}=pe({queryKey:["hostProfile",e],queryFn:()=>q2(e),enabled:!!e,staleTime:5*60*1e3,retry:1}),{data:i,isLoading:a,error:o}=pe({queryKey:["hostListings",e],queryFn:()=>V2(e),enabled:!!e,staleTime:5*60*1e3,retry:1}),{data:l,isLoading:c}=pe({queryKey:["hostListingsWithPhotos",i],queryFn:async()=>i?await Promise.all(i.map(async m=>{const x=await W2(m.id);return{...m,photos:x}})):[],enabled:!!i&&i.length>0,staleTime:5*60*1e3,retry:1}),{data:u,isLoading:d,error:h}=pe({queryKey:["hostReviews",e],queryFn:()=>Q2(e),enabled:!!e,staleTime:5*60*1e3,retry:1}),{data:f,isLoading:v}=pe({queryKey:["reviewsWithReviewers",u],queryFn:async()=>u?await Promise.all(u.map(async m=>{const x=await K2(m.reviewer_id);return{...m,reviewer:x}})):[],enabled:!!u&&u.length>0,staleTime:5*60*1e3,retry:1}),p=Y2(t||null,f||[]),y=r||a||c||d||v,b=n||o||h;return y?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):b||!t?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Host Not Found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The host profile you're looking for doesn't exist."}),s.jsx(U,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:"Back to Home"})]})})}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-4 sm:space-y-0 sm:space-x-6",children:[s.jsx("div",{className:"flex-shrink-0",children:t.profile_picture_url?s.jsx("img",{src:t.profile_picture_url,alt:t.name,className:"h-24 w-24 rounded-full object-cover border-4 border-white shadow-lg"}):s.jsx("div",{className:"h-24 w-24 rounded-full bg-gray-200 flex items-center justify-center",children:s.jsx(Ah,{className:"h-12 w-12 text-gray-400"})})}),s.jsxs("div",{className:"flex-grow",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),t.is_phone_verified&&s.jsxs("div",{className:"flex items-center space-x-1 text-blue-600",children:[s.jsx(m2,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm font-medium",children:"Verified"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Ia,{className:"h-4 w-4"}),s.jsxs("span",{children:["Joined ",Fh(p.joined_date)]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Ua,{className:"h-4 w-4"}),s.jsx("span",{children:"Libya"})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-6 text-center sm:text-left",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.review_count}),s.jsx("p",{className:"text-sm text-gray-600",children:"Reviews"})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[p.response_rate,"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Response Rate"})]})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"About"}),s.jsx("p",{className:"text-gray-600",children:"Welcome to my profile! I'm passionate about providing comfortable and memorable stays for guests in Libya. My properties are carefully maintained to ensure you have a wonderful experience during your visit."})]})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l&&l.length>0&&s.jsxs("section",{className:"mb-16",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Listings by ",t.name]}),s.jsxs("span",{className:"text-sm text-gray-600",children:[l.length," ",l.length===1?"property":"properties"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(g=>{var m,x;return s.jsxs(U,{to:`/listing/${g.id}`,className:"group block bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-200",children:[s.jsxs("div",{className:"aspect-w-16 aspect-h-9 relative h-48 bg-gray-200",children:[g.photos&&g.photos.length>0?s.jsx("img",{src:((m=g.photos.find(j=>j.is_cover_photo))==null?void 0:m.url)||((x=g.photos[0])==null?void 0:x.url),alt:g.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Je,{className:"h-12 w-12 text-gray-400"})}),s.jsx("div",{className:"absolute bottom-2 left-2 bg-white px-2 py-1 rounded-md shadow-md",children:s.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["$",g.price_per_night,s.jsx("span",{className:"font-normal text-gray-600",children:"/night"})]})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-1",children:g.title}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1 text-sm text-gray-600",children:[s.jsxs("span",{children:[g.num_guests," guests"]}),s.jsx("span",{children:"·"}),s.jsxs("span",{children:[g.num_bedrooms," bedrooms"]}),s.jsx("span",{children:"·"}),s.jsxs("span",{children:[g.num_bathrooms," bathrooms"]})]})]})]},g.id)})})]}),f&&f.length>0&&s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reviews from Guests"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[f.length," ",f.length===1?"review":"reviews"]})]}),s.jsx("div",{className:"space-y-6",children:f.map(g=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[g.reviewer.profile_picture_url?s.jsx("img",{src:g.reviewer.profile_picture_url,alt:g.reviewer.name,className:"h-10 w-10 rounded-full object-cover"}):s.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:s.jsx(Ah,{className:"h-5 w-5 text-gray-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:g.reviewer.name}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(G2,{rating:g.public_rating}),s.jsx("span",{className:"text-sm text-gray-500",children:Fh(g.created_at)})]})]})]})}),g.public_comment&&s.jsx("p",{className:"text-gray-700 leading-relaxed",children:g.public_comment}),g.booking_id&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:s.jsxs("p",{className:"text-sm text-gray-500",children:[s.jsx(Oh,{className:"inline h-4 w-4 mr-1"}),"Stay related to booking #",g.booking_id]})})]},g.id))})]}),f&&f.length===0&&s.jsxs("section",{className:"text-center py-12",children:[s.jsx(Oh,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Reviews Yet"}),s.jsxs("p",{className:"text-gray-600",children:[t.name," hasn't received any reviews from guests yet."]})]}),l&&l.length===0&&s.jsxs("section",{className:"text-center py-12",children:[s.jsx(Je,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Active Listings"}),s.jsxs("p",{className:"text-gray-600",children:[t.name," doesn't have any active listings at the moment."]})]})]})]})})},X2=new yv({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1,refetchOnWindowFocus:!1},mutations:{retry:1}}}),Lu=()=>s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),Dr=({children:e})=>s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsx(m0,{}),s.jsx("main",{className:"flex-grow",children:e}),s.jsx(p0,{})]}),Ko=({children:e})=>s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:s.jsx("div",{className:"w-full max-w-md p-4",children:e})}),Yo=({children:e})=>s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsx(m0,{}),s.jsx("main",{className:"flex-grow bg-gray-100",children:e}),s.jsx(p0,{})]}),xn=({children:e})=>{const t=V(n=>n.authentication_state.authentication_status.is_authenticated);return V(n=>n.authentication_state.authentication_status.is_loading)?s.jsx(Lu,{}):t?s.jsx(s.Fragment,{children:e}):s.jsx(yu,{to:"/login",replace:!0})},Go=({children:e})=>{const t=V(n=>n.authentication_state.authentication_status.is_authenticated);return V(n=>n.authentication_state.authentication_status.is_loading)?s.jsx(Lu,{}):t?(console.log("AuthGuard: User is authenticated, redirecting to home"),s.jsx(yu,{to:"/",replace:!0})):s.jsx(s.Fragment,{children:e})},Z2=()=>{const e=V(n=>n.authentication_state.authentication_status.is_loading),t=V(n=>n.authentication_state.authentication_status.is_authenticated),r=V(n=>n.initialize_auth);return k.useEffect(()=>{console.log("App: Initializing authentication..."),r()},[r]),console.log("App render - loading:",e,"authenticated:",t),e?s.jsx(Lu,{}):s.jsx(vv,{client:X2,children:s.jsx(Wy,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:s.jsxs(By,{children:[s.jsx(Oe,{path:"/",element:s.jsx(Dr,{children:s.jsx(C2,{})})}),s.jsx(Oe,{path:"/search",element:s.jsx(Dr,{children:s.jsx(T2,{})})}),s.jsx(Oe,{path:"/listing/:villa_id",element:s.jsx(Dr,{children:s.jsx(L2,{})})}),s.jsx(Oe,{path:"/profile/:host_id",element:s.jsx(Dr,{children:s.jsx(J2,{})})}),s.jsx(Oe,{path:"/login",element:s.jsx(Go,{children:s.jsx(Ko,{children:s.jsx(P2,{})})})}),s.jsx(Oe,{path:"/signup",element:s.jsx(Go,{children:s.jsx(Ko,{children:s.jsx(E2,{})})})}),s.jsx(Oe,{path:"/reset-password",element:s.jsx(Go,{children:s.jsx(Ko,{children:s.jsx(R2,{})})})}),s.jsx(Oe,{path:"/booking/request/:villa_id",element:s.jsx(xn,{children:s.jsx(Dr,{children:s.jsx(O2,{})})})}),s.jsx(Oe,{path:"/trip/:booking_id",element:s.jsx(xn,{children:s.jsx(Dr,{children:s.jsx(M2,{})})})}),s.jsx(Oe,{path:"/inbox/:thread_id",element:s.jsx(xn,{children:s.jsx(Dr,{children:s.jsx($2,{})})})}),s.jsx(Oe,{path:"/profile",element:s.jsx(xn,{children:s.jsx(Yo,{children:s.jsx(H2,{})})})}),s.jsx(Oe,{path:"/host/listing/new",element:s.jsx(xn,{children:s.jsx(Yo,{children:s.jsx(F2,{})})})}),s.jsx(Oe,{path:"/host/dashboard",element:s.jsx(xn,{children:s.jsx(Yo,{children:s.jsx(D2,{})})})}),s.jsx(Oe,{path:"*",element:s.jsx(yu,{to:"/",replace:!0})})]})})})},ew=()=>s.jsx(s.Fragment,{children:s.jsx(Z2,{})});class tw extends k.Component{constructor(){super(...arguments);Au(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("Uncaught error:",r,n)}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:s.jsx(Tu,{className:"w-6 h-6 text-red-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-center text-gray-900 mb-2",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-600 text-center mb-6",children:"We're sorry for the inconvenience. Please try refreshing the page."}),this.state.error&&s.jsxs("details",{className:"mb-4",children:[s.jsx("summary",{className:"cursor-pointer text-sm text-gray-500 hover:text-gray-700",children:"Technical details"}),s.jsx("pre",{className:"mt-2 text-xs bg-gray-100 p-3 rounded overflow-auto",children:this.state.error.toString()})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>window.location.href="/",className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition",children:"Go to Homepage"}),s.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition",children:"Refresh Page"})]})]})}):this.props.children}}op(document.getElementById("root")).render(s.jsx(tw,{children:s.jsx(ew,{})}));
